var pE=Object.defineProperty;var mE=(t,e,n)=>e in t?pE(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var qo=(t,e,n)=>(mE(t,typeof e!="symbol"?e+"":e,n),n);function gE(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const o in r)if(o!=="default"&&!(o in t)){const i=Object.getOwnPropertyDescriptor(r,o);i&&Object.defineProperty(t,o,i.get?i:{enumerable:!0,get:()=>r[o]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const i of o)if(i.type==="childList")for(const s of i.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&r(s)}).observe(document,{childList:!0,subtree:!0});function n(o){const i={};return o.integrity&&(i.integrity=o.integrity),o.referrerPolicy&&(i.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?i.credentials="include":o.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(o){if(o.ep)return;o.ep=!0;const i=n(o);fetch(o.href,i)}})();function yE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var sy={exports:{}},xl={},ay={exports:{}},K={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ys=Symbol.for("react.element"),vE=Symbol.for("react.portal"),_E=Symbol.for("react.fragment"),wE=Symbol.for("react.strict_mode"),EE=Symbol.for("react.profiler"),TE=Symbol.for("react.provider"),SE=Symbol.for("react.context"),CE=Symbol.for("react.forward_ref"),IE=Symbol.for("react.suspense"),AE=Symbol.for("react.memo"),RE=Symbol.for("react.lazy"),wp=Symbol.iterator;function xE(t){return t===null||typeof t!="object"?null:(t=wp&&t[wp]||t["@@iterator"],typeof t=="function"?t:null)}var ly={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uy=Object.assign,cy={};function Do(t,e,n){this.props=t,this.context=e,this.refs=cy,this.updater=n||ly}Do.prototype.isReactComponent={};Do.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Do.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dy(){}dy.prototype=Do.prototype;function ah(t,e,n){this.props=t,this.context=e,this.refs=cy,this.updater=n||ly}var lh=ah.prototype=new dy;lh.constructor=ah;uy(lh,Do.prototype);lh.isPureReactComponent=!0;var Ep=Array.isArray,hy=Object.prototype.hasOwnProperty,uh={current:null},fy={key:!0,ref:!0,__self:!0,__source:!0};function py(t,e,n){var r,o={},i=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(i=""+e.key),e)hy.call(e,r)&&!fy.hasOwnProperty(r)&&(o[r]=e[r]);var a=arguments.length-2;if(a===1)o.children=n;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];o.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)o[r]===void 0&&(o[r]=a[r]);return{$$typeof:ys,type:t,key:i,ref:s,props:o,_owner:uh.current}}function PE(t,e){return{$$typeof:ys,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function ch(t){return typeof t=="object"&&t!==null&&t.$$typeof===ys}function bE(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Tp=/\/+/g;function Pu(t,e){return typeof t=="object"&&t!==null&&t.key!=null?bE(""+t.key):e.toString(36)}function ga(t,e,n,r,o){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(i){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case ys:case vE:s=!0}}if(s)return s=t,o=o(s),t=r===""?"."+Pu(s,0):r,Ep(o)?(n="",t!=null&&(n=t.replace(Tp,"$&/")+"/"),ga(o,e,n,"",function(u){return u})):o!=null&&(ch(o)&&(o=PE(o,n+(!o.key||s&&s.key===o.key?"":(""+o.key).replace(Tp,"$&/")+"/")+t)),e.push(o)),1;if(s=0,r=r===""?".":r+":",Ep(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Pu(i,a);s+=ga(i,e,n,l,o)}else if(l=xE(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Pu(i,a++),s+=ga(i,e,n,l,o);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function js(t,e,n){if(t==null)return t;var r=[],o=0;return ga(t,r,"","",function(i){return e.call(n,i,o++)}),r}function kE(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var nt={current:null},ya={transition:null},$E={ReactCurrentDispatcher:nt,ReactCurrentBatchConfig:ya,ReactCurrentOwner:uh};K.Children={map:js,forEach:function(t,e,n){js(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return js(t,function(){e++}),e},toArray:function(t){return js(t,function(e){return e})||[]},only:function(t){if(!ch(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};K.Component=Do;K.Fragment=_E;K.Profiler=EE;K.PureComponent=ah;K.StrictMode=wE;K.Suspense=IE;K.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$E;K.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=uy({},t.props),o=t.key,i=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,s=uh.current),e.key!==void 0&&(o=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)hy.call(e,l)&&!fy.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:ys,type:t.type,key:o,ref:i,props:r,_owner:s}};K.createContext=function(t){return t={$$typeof:SE,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:TE,_context:t},t.Consumer=t};K.createElement=py;K.createFactory=function(t){var e=py.bind(null,t);return e.type=t,e};K.createRef=function(){return{current:null}};K.forwardRef=function(t){return{$$typeof:CE,render:t}};K.isValidElement=ch;K.lazy=function(t){return{$$typeof:RE,_payload:{_status:-1,_result:t},_init:kE}};K.memo=function(t,e){return{$$typeof:AE,type:t,compare:e===void 0?null:e}};K.startTransition=function(t){var e=ya.transition;ya.transition={};try{t()}finally{ya.transition=e}};K.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};K.useCallback=function(t,e){return nt.current.useCallback(t,e)};K.useContext=function(t){return nt.current.useContext(t)};K.useDebugValue=function(){};K.useDeferredValue=function(t){return nt.current.useDeferredValue(t)};K.useEffect=function(t,e){return nt.current.useEffect(t,e)};K.useId=function(){return nt.current.useId()};K.useImperativeHandle=function(t,e,n){return nt.current.useImperativeHandle(t,e,n)};K.useInsertionEffect=function(t,e){return nt.current.useInsertionEffect(t,e)};K.useLayoutEffect=function(t,e){return nt.current.useLayoutEffect(t,e)};K.useMemo=function(t,e){return nt.current.useMemo(t,e)};K.useReducer=function(t,e,n){return nt.current.useReducer(t,e,n)};K.useRef=function(t){return nt.current.useRef(t)};K.useState=function(t){return nt.current.useState(t)};K.useSyncExternalStore=function(t,e,n){return nt.current.useSyncExternalStore(t,e,n)};K.useTransition=function(){return nt.current.useTransition()};K.version="18.2.0";ay.exports=K;var v=ay.exports;const N=yE(v),Tc=gE({__proto__:null,default:N},[v]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var NE=v,DE=Symbol.for("react.element"),VE=Symbol.for("react.fragment"),ME=Object.prototype.hasOwnProperty,OE=NE.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,LE={key:!0,ref:!0,__self:!0,__source:!0};function my(t,e,n){var r,o={},i=null,s=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(s=e.ref);for(r in e)ME.call(e,r)&&!LE.hasOwnProperty(r)&&(o[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)o[r]===void 0&&(o[r]=e[r]);return{$$typeof:DE,type:t,key:i,ref:s,props:o,_owner:OE.current}}xl.Fragment=VE;xl.jsx=my;xl.jsxs=my;sy.exports=xl;var x=sy.exports,Sc={},gy={exports:{}},vt={},yy={exports:{}},vy={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e($,j){var W=$.length;$.push(j);e:for(;0<W;){var ne=W-1>>>1,he=$[ne];if(0<o(he,j))$[ne]=j,$[W]=he,W=ne;else break e}}function n($){return $.length===0?null:$[0]}function r($){if($.length===0)return null;var j=$[0],W=$.pop();if(W!==j){$[0]=W;e:for(var ne=0,he=$.length,Ls=he>>>1;ne<Ls;){var sr=2*(ne+1)-1,xu=$[sr],ar=sr+1,Fs=$[ar];if(0>o(xu,W))ar<he&&0>o(Fs,xu)?($[ne]=Fs,$[ar]=W,ne=ar):($[ne]=xu,$[sr]=W,ne=sr);else if(ar<he&&0>o(Fs,W))$[ne]=Fs,$[ar]=W,ne=ar;else break e}}return j}function o($,j){var W=$.sortIndex-j.sortIndex;return W!==0?W:$.id-j.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var s=Date,a=s.now();t.unstable_now=function(){return s.now()-a}}var l=[],u=[],c=1,d=null,h=3,p=!1,y=!1,_=!1,E=typeof setTimeout=="function"?setTimeout:null,m=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function g($){for(var j=n(u);j!==null;){if(j.callback===null)r(u);else if(j.startTime<=$)r(u),j.sortIndex=j.expirationTime,e(l,j);else break;j=n(u)}}function w($){if(_=!1,g($),!y)if(n(l)!==null)y=!0,In(S);else{var j=n(u);j!==null&&jr(w,j.startTime-$)}}function S($,j){y=!1,_&&(_=!1,m(R),R=-1),p=!0;var W=h;try{for(g(j),d=n(l);d!==null&&(!(d.expirationTime>j)||$&&!re());){var ne=d.callback;if(typeof ne=="function"){d.callback=null,h=d.priorityLevel;var he=ne(d.expirationTime<=j);j=t.unstable_now(),typeof he=="function"?d.callback=he:d===n(l)&&r(l),g(j)}else r(l);d=n(l)}if(d!==null)var Ls=!0;else{var sr=n(u);sr!==null&&jr(w,sr.startTime-j),Ls=!1}return Ls}finally{d=null,h=W,p=!1}}var C=!1,I=null,R=-1,M=5,V=-1;function re(){return!(t.unstable_now()-V<M)}function Y(){if(I!==null){var $=t.unstable_now();V=$;var j=!0;try{j=I(!0,$)}finally{j?rn():(C=!1,I=null)}}else C=!1}var rn;if(typeof f=="function")rn=function(){f(Y)};else if(typeof MessageChannel<"u"){var on=new MessageChannel,wt=on.port2;on.port1.onmessage=Y,rn=function(){wt.postMessage(null)}}else rn=function(){E(Y,0)};function In($){I=$,C||(C=!0,rn())}function jr($,j){R=E(function(){$(t.unstable_now())},j)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function($){$.callback=null},t.unstable_continueExecution=function(){y||p||(y=!0,In(S))},t.unstable_forceFrameRate=function($){0>$||125<$?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<$?Math.floor(1e3/$):5},t.unstable_getCurrentPriorityLevel=function(){return h},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function($){switch(h){case 1:case 2:case 3:var j=3;break;default:j=h}var W=h;h=j;try{return $()}finally{h=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function($,j){switch($){case 1:case 2:case 3:case 4:case 5:break;default:$=3}var W=h;h=$;try{return j()}finally{h=W}},t.unstable_scheduleCallback=function($,j,W){var ne=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?ne+W:ne):W=ne,$){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=W+he,$={id:c++,callback:j,priorityLevel:$,startTime:W,expirationTime:he,sortIndex:-1},W>ne?($.sortIndex=W,e(u,$),n(l)===null&&$===n(u)&&(_?(m(R),R=-1):_=!0,jr(w,W-ne))):($.sortIndex=he,e(l,$),y||p||(y=!0,In(S))),$},t.unstable_shouldYield=re,t.unstable_wrapCallback=function($){var j=h;return function(){var W=h;h=j;try{return $.apply(this,arguments)}finally{h=W}}}})(vy);yy.exports=vy;var FE=yy.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _y=v,pt=FE;function P(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wy=new Set,$i={};function Dr(t,e){go(t,e),go(t+"Capture",e)}function go(t,e){for($i[t]=e,t=0;t<e.length;t++)wy.add(e[t])}var gn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Cc=Object.prototype.hasOwnProperty,jE=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sp={},Cp={};function zE(t){return Cc.call(Cp,t)?!0:Cc.call(Sp,t)?!1:jE.test(t)?Cp[t]=!0:(Sp[t]=!0,!1)}function UE(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function BE(t,e,n,r){if(e===null||typeof e>"u"||UE(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function rt(t,e,n,r,o,i,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=o,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=s}var je={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){je[t]=new rt(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];je[e]=new rt(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){je[t]=new rt(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){je[t]=new rt(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){je[t]=new rt(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){je[t]=new rt(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){je[t]=new rt(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){je[t]=new rt(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){je[t]=new rt(t,5,!1,t.toLowerCase(),null,!1,!1)});var dh=/[\-:]([a-z])/g;function hh(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dh,hh);je[e]=new rt(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dh,hh);je[e]=new rt(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dh,hh);je[e]=new rt(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){je[t]=new rt(t,1,!1,t.toLowerCase(),null,!1,!1)});je.xlinkHref=new rt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){je[t]=new rt(t,1,!1,t.toLowerCase(),null,!0,!0)});function fh(t,e,n,r){var o=je.hasOwnProperty(e)?je[e]:null;(o!==null?o.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(BE(e,n,o,r)&&(n=null),r||o===null?zE(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):o.mustUseProperty?t[o.propertyName]=n===null?o.type===3?!1:"":n:(e=o.attributeName,r=o.attributeNamespace,n===null?t.removeAttribute(e):(o=o.type,n=o===3||o===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var Sn=_y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,zs=Symbol.for("react.element"),Gr=Symbol.for("react.portal"),qr=Symbol.for("react.fragment"),ph=Symbol.for("react.strict_mode"),Ic=Symbol.for("react.profiler"),Ey=Symbol.for("react.provider"),Ty=Symbol.for("react.context"),mh=Symbol.for("react.forward_ref"),Ac=Symbol.for("react.suspense"),Rc=Symbol.for("react.suspense_list"),gh=Symbol.for("react.memo"),Pn=Symbol.for("react.lazy"),Sy=Symbol.for("react.offscreen"),Ip=Symbol.iterator;function Ko(t){return t===null||typeof t!="object"?null:(t=Ip&&t[Ip]||t["@@iterator"],typeof t=="function"?t:null)}var me=Object.assign,bu;function ai(t){if(bu===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);bu=e&&e[1]||""}return`
`+bu+t}var ku=!1;function $u(t,e){if(!t||ku)return"";ku=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var r=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){r=u}t.call(e.prototype)}else{try{throw Error()}catch(u){r=u}t()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var o=u.stack.split(`
`),i=r.stack.split(`
`),s=o.length-1,a=i.length-1;1<=s&&0<=a&&o[s]!==i[a];)a--;for(;1<=s&&0<=a;s--,a--)if(o[s]!==i[a]){if(s!==1||a!==1)do if(s--,a--,0>a||o[s]!==i[a]){var l=`
`+o[s].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=s&&0<=a);break}}}finally{ku=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?ai(t):""}function HE(t){switch(t.tag){case 5:return ai(t.type);case 16:return ai("Lazy");case 13:return ai("Suspense");case 19:return ai("SuspenseList");case 0:case 2:case 15:return t=$u(t.type,!1),t;case 11:return t=$u(t.type.render,!1),t;case 1:return t=$u(t.type,!0),t;default:return""}}function xc(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case qr:return"Fragment";case Gr:return"Portal";case Ic:return"Profiler";case ph:return"StrictMode";case Ac:return"Suspense";case Rc:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Ty:return(t.displayName||"Context")+".Consumer";case Ey:return(t._context.displayName||"Context")+".Provider";case mh:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case gh:return e=t.displayName||null,e!==null?e:xc(t.type)||"Memo";case Pn:e=t._payload,t=t._init;try{return xc(t(e))}catch{}}return null}function WE(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xc(e);case 8:return e===ph?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function qn(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Cy(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GE(t){var e=Cy(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var o=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return o.call(this)},set:function(s){r=""+s,i.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Us(t){t._valueTracker||(t._valueTracker=GE(t))}function Iy(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Cy(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Na(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Pc(t,e){var n=e.checked;return me({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Ap(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=qn(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Ay(t,e){e=e.checked,e!=null&&fh(t,"checked",e,!1)}function bc(t,e){Ay(t,e);var n=qn(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?kc(t,e.type,n):e.hasOwnProperty("defaultValue")&&kc(t,e.type,qn(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Rp(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function kc(t,e,n){(e!=="number"||Na(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var li=Array.isArray;function io(t,e,n,r){if(t=t.options,e){e={};for(var o=0;o<n.length;o++)e["$"+n[o]]=!0;for(n=0;n<t.length;n++)o=e.hasOwnProperty("$"+t[n].value),t[n].selected!==o&&(t[n].selected=o),o&&r&&(t[n].defaultSelected=!0)}else{for(n=""+qn(n),e=null,o=0;o<t.length;o++){if(t[o].value===n){t[o].selected=!0,r&&(t[o].defaultSelected=!0);return}e!==null||t[o].disabled||(e=t[o])}e!==null&&(e.selected=!0)}}function $c(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(P(91));return me({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function xp(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(P(92));if(li(n)){if(1<n.length)throw Error(P(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:qn(n)}}function Ry(t,e){var n=qn(e.value),r=qn(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Pp(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function xy(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Nc(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?xy(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Bs,Py=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,o){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,o)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Bs=Bs||document.createElement("div"),Bs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Bs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ni(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var gi={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},qE=["Webkit","ms","Moz","O"];Object.keys(gi).forEach(function(t){qE.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),gi[e]=gi[t]})});function by(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||gi.hasOwnProperty(t)&&gi[t]?(""+e).trim():e+"px"}function ky(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,o=by(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,o):t[n]=o}}var KE=me({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dc(t,e){if(e){if(KE[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(P(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(P(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(P(61))}if(e.style!=null&&typeof e.style!="object")throw Error(P(62))}}function Vc(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Mc=null;function yh(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Oc=null,so=null,ao=null;function bp(t){if(t=ws(t)){if(typeof Oc!="function")throw Error(P(280));var e=t.stateNode;e&&(e=Nl(e),Oc(t.stateNode,t.type,e))}}function $y(t){so?ao?ao.push(t):ao=[t]:so=t}function Ny(){if(so){var t=so,e=ao;if(ao=so=null,bp(t),e)for(t=0;t<e.length;t++)bp(e[t])}}function Dy(t,e){return t(e)}function Vy(){}var Nu=!1;function My(t,e,n){if(Nu)return t(e,n);Nu=!0;try{return Dy(t,e,n)}finally{Nu=!1,(so!==null||ao!==null)&&(Vy(),Ny())}}function Di(t,e){var n=t.stateNode;if(n===null)return null;var r=Nl(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(P(231,e,typeof n));return n}var Lc=!1;if(gn)try{var Qo={};Object.defineProperty(Qo,"passive",{get:function(){Lc=!0}}),window.addEventListener("test",Qo,Qo),window.removeEventListener("test",Qo,Qo)}catch{Lc=!1}function QE(t,e,n,r,o,i,s,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(n,u)}catch(c){this.onError(c)}}var yi=!1,Da=null,Va=!1,Fc=null,YE={onError:function(t){yi=!0,Da=t}};function XE(t,e,n,r,o,i,s,a,l){yi=!1,Da=null,QE.apply(YE,arguments)}function JE(t,e,n,r,o,i,s,a,l){if(XE.apply(this,arguments),yi){if(yi){var u=Da;yi=!1,Da=null}else throw Error(P(198));Va||(Va=!0,Fc=u)}}function Vr(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function Oy(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function kp(t){if(Vr(t)!==t)throw Error(P(188))}function ZE(t){var e=t.alternate;if(!e){if(e=Vr(t),e===null)throw Error(P(188));return e!==t?null:t}for(var n=t,r=e;;){var o=n.return;if(o===null)break;var i=o.alternate;if(i===null){if(r=o.return,r!==null){n=r;continue}break}if(o.child===i.child){for(i=o.child;i;){if(i===n)return kp(o),t;if(i===r)return kp(o),e;i=i.sibling}throw Error(P(188))}if(n.return!==r.return)n=o,r=i;else{for(var s=!1,a=o.child;a;){if(a===n){s=!0,n=o,r=i;break}if(a===r){s=!0,r=o,n=i;break}a=a.sibling}if(!s){for(a=i.child;a;){if(a===n){s=!0,n=i,r=o;break}if(a===r){s=!0,r=i,n=o;break}a=a.sibling}if(!s)throw Error(P(189))}}if(n.alternate!==r)throw Error(P(190))}if(n.tag!==3)throw Error(P(188));return n.stateNode.current===n?t:e}function Ly(t){return t=ZE(t),t!==null?Fy(t):null}function Fy(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Fy(t);if(e!==null)return e;t=t.sibling}return null}var jy=pt.unstable_scheduleCallback,$p=pt.unstable_cancelCallback,e2=pt.unstable_shouldYield,t2=pt.unstable_requestPaint,_e=pt.unstable_now,n2=pt.unstable_getCurrentPriorityLevel,vh=pt.unstable_ImmediatePriority,zy=pt.unstable_UserBlockingPriority,Ma=pt.unstable_NormalPriority,r2=pt.unstable_LowPriority,Uy=pt.unstable_IdlePriority,Pl=null,Yt=null;function o2(t){if(Yt&&typeof Yt.onCommitFiberRoot=="function")try{Yt.onCommitFiberRoot(Pl,t,void 0,(t.current.flags&128)===128)}catch{}}var Ot=Math.clz32?Math.clz32:a2,i2=Math.log,s2=Math.LN2;function a2(t){return t>>>=0,t===0?32:31-(i2(t)/s2|0)|0}var Hs=64,Ws=4194304;function ui(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Oa(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,o=t.suspendedLanes,i=t.pingedLanes,s=n&268435455;if(s!==0){var a=s&~o;a!==0?r=ui(a):(i&=s,i!==0&&(r=ui(i)))}else s=n&~o,s!==0?r=ui(s):i!==0&&(r=ui(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&o)&&(o=r&-r,i=e&-e,o>=i||o===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Ot(e),o=1<<n,r|=t[n],e&=~o;return r}function l2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function u2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,o=t.expirationTimes,i=t.pendingLanes;0<i;){var s=31-Ot(i),a=1<<s,l=o[s];l===-1?(!(a&n)||a&r)&&(o[s]=l2(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function jc(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function By(){var t=Hs;return Hs<<=1,!(Hs&4194240)&&(Hs=64),t}function Du(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function vs(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Ot(e),t[e]=n}function c2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var o=31-Ot(n),i=1<<o;e[o]=0,r[o]=-1,t[o]=-1,n&=~i}}function _h(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Ot(n),o=1<<r;o&e|t[r]&e&&(t[r]|=e),n&=~o}}var ee=0;function Hy(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Wy,wh,Gy,qy,Ky,zc=!1,Gs=[],Mn=null,On=null,Ln=null,Vi=new Map,Mi=new Map,kn=[],d2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Np(t,e){switch(t){case"focusin":case"focusout":Mn=null;break;case"dragenter":case"dragleave":On=null;break;case"mouseover":case"mouseout":Ln=null;break;case"pointerover":case"pointerout":Vi.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mi.delete(e.pointerId)}}function Yo(t,e,n,r,o,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[o]},e!==null&&(e=ws(e),e!==null&&wh(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,o!==null&&e.indexOf(o)===-1&&e.push(o),t)}function h2(t,e,n,r,o){switch(e){case"focusin":return Mn=Yo(Mn,t,e,n,r,o),!0;case"dragenter":return On=Yo(On,t,e,n,r,o),!0;case"mouseover":return Ln=Yo(Ln,t,e,n,r,o),!0;case"pointerover":var i=o.pointerId;return Vi.set(i,Yo(Vi.get(i)||null,t,e,n,r,o)),!0;case"gotpointercapture":return i=o.pointerId,Mi.set(i,Yo(Mi.get(i)||null,t,e,n,r,o)),!0}return!1}function Qy(t){var e=fr(t.target);if(e!==null){var n=Vr(e);if(n!==null){if(e=n.tag,e===13){if(e=Oy(n),e!==null){t.blockedOn=e,Ky(t.priority,function(){Gy(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function va(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Uc(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Mc=r,n.target.dispatchEvent(r),Mc=null}else return e=ws(n),e!==null&&wh(e),t.blockedOn=n,!1;e.shift()}return!0}function Dp(t,e,n){va(t)&&n.delete(e)}function f2(){zc=!1,Mn!==null&&va(Mn)&&(Mn=null),On!==null&&va(On)&&(On=null),Ln!==null&&va(Ln)&&(Ln=null),Vi.forEach(Dp),Mi.forEach(Dp)}function Xo(t,e){t.blockedOn===e&&(t.blockedOn=null,zc||(zc=!0,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,f2)))}function Oi(t){function e(o){return Xo(o,t)}if(0<Gs.length){Xo(Gs[0],t);for(var n=1;n<Gs.length;n++){var r=Gs[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Mn!==null&&Xo(Mn,t),On!==null&&Xo(On,t),Ln!==null&&Xo(Ln,t),Vi.forEach(e),Mi.forEach(e),n=0;n<kn.length;n++)r=kn[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<kn.length&&(n=kn[0],n.blockedOn===null);)Qy(n),n.blockedOn===null&&kn.shift()}var lo=Sn.ReactCurrentBatchConfig,La=!0;function p2(t,e,n,r){var o=ee,i=lo.transition;lo.transition=null;try{ee=1,Eh(t,e,n,r)}finally{ee=o,lo.transition=i}}function m2(t,e,n,r){var o=ee,i=lo.transition;lo.transition=null;try{ee=4,Eh(t,e,n,r)}finally{ee=o,lo.transition=i}}function Eh(t,e,n,r){if(La){var o=Uc(t,e,n,r);if(o===null)Hu(t,e,r,Fa,n),Np(t,r);else if(h2(o,t,e,n,r))r.stopPropagation();else if(Np(t,r),e&4&&-1<d2.indexOf(t)){for(;o!==null;){var i=ws(o);if(i!==null&&Wy(i),i=Uc(t,e,n,r),i===null&&Hu(t,e,r,Fa,n),i===o)break;o=i}o!==null&&r.stopPropagation()}else Hu(t,e,r,null,n)}}var Fa=null;function Uc(t,e,n,r){if(Fa=null,t=yh(r),t=fr(t),t!==null)if(e=Vr(t),e===null)t=null;else if(n=e.tag,n===13){if(t=Oy(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Fa=t,null}function Yy(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(n2()){case vh:return 1;case zy:return 4;case Ma:case r2:return 16;case Uy:return 536870912;default:return 16}default:return 16}}var Nn=null,Th=null,_a=null;function Xy(){if(_a)return _a;var t,e=Th,n=e.length,r,o="value"in Nn?Nn.value:Nn.textContent,i=o.length;for(t=0;t<n&&e[t]===o[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===o[i-r];r++);return _a=o.slice(t,1<r?1-r:void 0)}function wa(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function qs(){return!0}function Vp(){return!1}function _t(t){function e(n,r,o,i,s){this._reactName=n,this._targetInst=o,this.type=r,this.nativeEvent=i,this.target=s,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?qs:Vp,this.isPropagationStopped=Vp,this}return me(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=qs)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=qs)},persist:function(){},isPersistent:qs}),e}var Vo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Sh=_t(Vo),_s=me({},Vo,{view:0,detail:0}),g2=_t(_s),Vu,Mu,Jo,bl=me({},_s,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ch,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Jo&&(Jo&&t.type==="mousemove"?(Vu=t.screenX-Jo.screenX,Mu=t.screenY-Jo.screenY):Mu=Vu=0,Jo=t),Vu)},movementY:function(t){return"movementY"in t?t.movementY:Mu}}),Mp=_t(bl),y2=me({},bl,{dataTransfer:0}),v2=_t(y2),_2=me({},_s,{relatedTarget:0}),Ou=_t(_2),w2=me({},Vo,{animationName:0,elapsedTime:0,pseudoElement:0}),E2=_t(w2),T2=me({},Vo,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),S2=_t(T2),C2=me({},Vo,{data:0}),Op=_t(C2),I2={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},A2={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},R2={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function x2(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=R2[t])?!!e[t]:!1}function Ch(){return x2}var P2=me({},_s,{key:function(t){if(t.key){var e=I2[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wa(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?A2[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ch,charCode:function(t){return t.type==="keypress"?wa(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wa(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),b2=_t(P2),k2=me({},bl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Lp=_t(k2),$2=me({},_s,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ch}),N2=_t($2),D2=me({},Vo,{propertyName:0,elapsedTime:0,pseudoElement:0}),V2=_t(D2),M2=me({},bl,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),O2=_t(M2),L2=[9,13,27,32],Ih=gn&&"CompositionEvent"in window,vi=null;gn&&"documentMode"in document&&(vi=document.documentMode);var F2=gn&&"TextEvent"in window&&!vi,Jy=gn&&(!Ih||vi&&8<vi&&11>=vi),Fp=" ",jp=!1;function Zy(t,e){switch(t){case"keyup":return L2.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ev(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Kr=!1;function j2(t,e){switch(t){case"compositionend":return ev(e);case"keypress":return e.which!==32?null:(jp=!0,Fp);case"textInput":return t=e.data,t===Fp&&jp?null:t;default:return null}}function z2(t,e){if(Kr)return t==="compositionend"||!Ih&&Zy(t,e)?(t=Xy(),_a=Th=Nn=null,Kr=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Jy&&e.locale!=="ko"?null:e.data;default:return null}}var U2={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function zp(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!U2[t.type]:e==="textarea"}function tv(t,e,n,r){$y(r),e=ja(e,"onChange"),0<e.length&&(n=new Sh("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var _i=null,Li=null;function B2(t){hv(t,0)}function kl(t){var e=Xr(t);if(Iy(e))return t}function H2(t,e){if(t==="change")return e}var nv=!1;if(gn){var Lu;if(gn){var Fu="oninput"in document;if(!Fu){var Up=document.createElement("div");Up.setAttribute("oninput","return;"),Fu=typeof Up.oninput=="function"}Lu=Fu}else Lu=!1;nv=Lu&&(!document.documentMode||9<document.documentMode)}function Bp(){_i&&(_i.detachEvent("onpropertychange",rv),Li=_i=null)}function rv(t){if(t.propertyName==="value"&&kl(Li)){var e=[];tv(e,Li,t,yh(t)),My(B2,e)}}function W2(t,e,n){t==="focusin"?(Bp(),_i=e,Li=n,_i.attachEvent("onpropertychange",rv)):t==="focusout"&&Bp()}function G2(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return kl(Li)}function q2(t,e){if(t==="click")return kl(e)}function K2(t,e){if(t==="input"||t==="change")return kl(e)}function Q2(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var jt=typeof Object.is=="function"?Object.is:Q2;function Fi(t,e){if(jt(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var o=n[r];if(!Cc.call(e,o)||!jt(t[o],e[o]))return!1}return!0}function Hp(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wp(t,e){var n=Hp(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Hp(n)}}function ov(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?ov(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function iv(){for(var t=window,e=Na();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Na(t.document)}return e}function Ah(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Y2(t){var e=iv(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&ov(n.ownerDocument.documentElement,n)){if(r!==null&&Ah(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var o=n.textContent.length,i=Math.min(r.start,o);r=r.end===void 0?i:Math.min(r.end,o),!t.extend&&i>r&&(o=r,r=i,i=o),o=Wp(n,i);var s=Wp(n,r);o&&s&&(t.rangeCount!==1||t.anchorNode!==o.node||t.anchorOffset!==o.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(o.node,o.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var X2=gn&&"documentMode"in document&&11>=document.documentMode,Qr=null,Bc=null,wi=null,Hc=!1;function Gp(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Hc||Qr==null||Qr!==Na(r)||(r=Qr,"selectionStart"in r&&Ah(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),wi&&Fi(wi,r)||(wi=r,r=ja(Bc,"onSelect"),0<r.length&&(e=new Sh("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Qr)))}function Ks(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Yr={animationend:Ks("Animation","AnimationEnd"),animationiteration:Ks("Animation","AnimationIteration"),animationstart:Ks("Animation","AnimationStart"),transitionend:Ks("Transition","TransitionEnd")},ju={},sv={};gn&&(sv=document.createElement("div").style,"AnimationEvent"in window||(delete Yr.animationend.animation,delete Yr.animationiteration.animation,delete Yr.animationstart.animation),"TransitionEvent"in window||delete Yr.transitionend.transition);function $l(t){if(ju[t])return ju[t];if(!Yr[t])return t;var e=Yr[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in sv)return ju[t]=e[n];return t}var av=$l("animationend"),lv=$l("animationiteration"),uv=$l("animationstart"),cv=$l("transitionend"),dv=new Map,qp="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function er(t,e){dv.set(t,e),Dr(e,[t])}for(var zu=0;zu<qp.length;zu++){var Uu=qp[zu],J2=Uu.toLowerCase(),Z2=Uu[0].toUpperCase()+Uu.slice(1);er(J2,"on"+Z2)}er(av,"onAnimationEnd");er(lv,"onAnimationIteration");er(uv,"onAnimationStart");er("dblclick","onDoubleClick");er("focusin","onFocus");er("focusout","onBlur");er(cv,"onTransitionEnd");go("onMouseEnter",["mouseout","mouseover"]);go("onMouseLeave",["mouseout","mouseover"]);go("onPointerEnter",["pointerout","pointerover"]);go("onPointerLeave",["pointerout","pointerover"]);Dr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Dr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Dr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Dr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Dr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Dr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ci="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eT=new Set("cancel close invalid load scroll toggle".split(" ").concat(ci));function Kp(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,JE(r,e,void 0,t),t.currentTarget=null}function hv(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],o=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var s=r.length-1;0<=s;s--){var a=r[s],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==i&&o.isPropagationStopped())break e;Kp(o,a,u),i=l}else for(s=0;s<r.length;s++){if(a=r[s],l=a.instance,u=a.currentTarget,a=a.listener,l!==i&&o.isPropagationStopped())break e;Kp(o,a,u),i=l}}}if(Va)throw t=Fc,Va=!1,Fc=null,t}function ae(t,e){var n=e[Qc];n===void 0&&(n=e[Qc]=new Set);var r=t+"__bubble";n.has(r)||(fv(e,t,2,!1),n.add(r))}function Bu(t,e,n){var r=0;e&&(r|=4),fv(n,t,r,e)}var Qs="_reactListening"+Math.random().toString(36).slice(2);function ji(t){if(!t[Qs]){t[Qs]=!0,wy.forEach(function(n){n!=="selectionchange"&&(eT.has(n)||Bu(n,!1,t),Bu(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Qs]||(e[Qs]=!0,Bu("selectionchange",!1,e))}}function fv(t,e,n,r){switch(Yy(e)){case 1:var o=p2;break;case 4:o=m2;break;default:o=Eh}n=o.bind(null,e,n,t),o=void 0,!Lc||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(o=!0),r?o!==void 0?t.addEventListener(e,n,{capture:!0,passive:o}):t.addEventListener(e,n,!0):o!==void 0?t.addEventListener(e,n,{passive:o}):t.addEventListener(e,n,!1)}function Hu(t,e,n,r,o){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var a=r.stateNode.containerInfo;if(a===o||a.nodeType===8&&a.parentNode===o)break;if(s===4)for(s=r.return;s!==null;){var l=s.tag;if((l===3||l===4)&&(l=s.stateNode.containerInfo,l===o||l.nodeType===8&&l.parentNode===o))return;s=s.return}for(;a!==null;){if(s=fr(a),s===null)return;if(l=s.tag,l===5||l===6){r=i=s;continue e}a=a.parentNode}}r=r.return}My(function(){var u=i,c=yh(n),d=[];e:{var h=dv.get(t);if(h!==void 0){var p=Sh,y=t;switch(t){case"keypress":if(wa(n)===0)break e;case"keydown":case"keyup":p=b2;break;case"focusin":y="focus",p=Ou;break;case"focusout":y="blur",p=Ou;break;case"beforeblur":case"afterblur":p=Ou;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=Mp;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=v2;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=N2;break;case av:case lv:case uv:p=E2;break;case cv:p=V2;break;case"scroll":p=g2;break;case"wheel":p=O2;break;case"copy":case"cut":case"paste":p=S2;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=Lp}var _=(e&4)!==0,E=!_&&t==="scroll",m=_?h!==null?h+"Capture":null:h;_=[];for(var f=u,g;f!==null;){g=f;var w=g.stateNode;if(g.tag===5&&w!==null&&(g=w,m!==null&&(w=Di(f,m),w!=null&&_.push(zi(f,w,g)))),E)break;f=f.return}0<_.length&&(h=new p(h,y,null,n,c),d.push({event:h,listeners:_}))}}if(!(e&7)){e:{if(h=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",h&&n!==Mc&&(y=n.relatedTarget||n.fromElement)&&(fr(y)||y[yn]))break e;if((p||h)&&(h=c.window===c?c:(h=c.ownerDocument)?h.defaultView||h.parentWindow:window,p?(y=n.relatedTarget||n.toElement,p=u,y=y?fr(y):null,y!==null&&(E=Vr(y),y!==E||y.tag!==5&&y.tag!==6)&&(y=null)):(p=null,y=u),p!==y)){if(_=Mp,w="onMouseLeave",m="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(_=Lp,w="onPointerLeave",m="onPointerEnter",f="pointer"),E=p==null?h:Xr(p),g=y==null?h:Xr(y),h=new _(w,f+"leave",p,n,c),h.target=E,h.relatedTarget=g,w=null,fr(c)===u&&(_=new _(m,f+"enter",y,n,c),_.target=g,_.relatedTarget=E,w=_),E=w,p&&y)t:{for(_=p,m=y,f=0,g=_;g;g=zr(g))f++;for(g=0,w=m;w;w=zr(w))g++;for(;0<f-g;)_=zr(_),f--;for(;0<g-f;)m=zr(m),g--;for(;f--;){if(_===m||m!==null&&_===m.alternate)break t;_=zr(_),m=zr(m)}_=null}else _=null;p!==null&&Qp(d,h,p,_,!1),y!==null&&E!==null&&Qp(d,E,y,_,!0)}}e:{if(h=u?Xr(u):window,p=h.nodeName&&h.nodeName.toLowerCase(),p==="select"||p==="input"&&h.type==="file")var S=H2;else if(zp(h))if(nv)S=K2;else{S=G2;var C=W2}else(p=h.nodeName)&&p.toLowerCase()==="input"&&(h.type==="checkbox"||h.type==="radio")&&(S=q2);if(S&&(S=S(t,u))){tv(d,S,n,c);break e}C&&C(t,h,u),t==="focusout"&&(C=h._wrapperState)&&C.controlled&&h.type==="number"&&kc(h,"number",h.value)}switch(C=u?Xr(u):window,t){case"focusin":(zp(C)||C.contentEditable==="true")&&(Qr=C,Bc=u,wi=null);break;case"focusout":wi=Bc=Qr=null;break;case"mousedown":Hc=!0;break;case"contextmenu":case"mouseup":case"dragend":Hc=!1,Gp(d,n,c);break;case"selectionchange":if(X2)break;case"keydown":case"keyup":Gp(d,n,c)}var I;if(Ih)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Kr?Zy(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(Jy&&n.locale!=="ko"&&(Kr||R!=="onCompositionStart"?R==="onCompositionEnd"&&Kr&&(I=Xy()):(Nn=c,Th="value"in Nn?Nn.value:Nn.textContent,Kr=!0)),C=ja(u,R),0<C.length&&(R=new Op(R,t,null,n,c),d.push({event:R,listeners:C}),I?R.data=I:(I=ev(n),I!==null&&(R.data=I)))),(I=F2?j2(t,n):z2(t,n))&&(u=ja(u,"onBeforeInput"),0<u.length&&(c=new Op("onBeforeInput","beforeinput",null,n,c),d.push({event:c,listeners:u}),c.data=I))}hv(d,e)})}function zi(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ja(t,e){for(var n=e+"Capture",r=[];t!==null;){var o=t,i=o.stateNode;o.tag===5&&i!==null&&(o=i,i=Di(t,n),i!=null&&r.unshift(zi(t,i,o)),i=Di(t,e),i!=null&&r.push(zi(t,i,o))),t=t.return}return r}function zr(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qp(t,e,n,r,o){for(var i=e._reactName,s=[];n!==null&&n!==r;){var a=n,l=a.alternate,u=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&u!==null&&(a=u,o?(l=Di(n,i),l!=null&&s.unshift(zi(n,l,a))):o||(l=Di(n,i),l!=null&&s.push(zi(n,l,a)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var tT=/\r\n?/g,nT=/\u0000|\uFFFD/g;function Yp(t){return(typeof t=="string"?t:""+t).replace(tT,`
`).replace(nT,"")}function Ys(t,e,n){if(e=Yp(e),Yp(t)!==e&&n)throw Error(P(425))}function za(){}var Wc=null,Gc=null;function qc(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Kc=typeof setTimeout=="function"?setTimeout:void 0,rT=typeof clearTimeout=="function"?clearTimeout:void 0,Xp=typeof Promise=="function"?Promise:void 0,oT=typeof queueMicrotask=="function"?queueMicrotask:typeof Xp<"u"?function(t){return Xp.resolve(null).then(t).catch(iT)}:Kc;function iT(t){setTimeout(function(){throw t})}function Wu(t,e){var n=e,r=0;do{var o=n.nextSibling;if(t.removeChild(n),o&&o.nodeType===8)if(n=o.data,n==="/$"){if(r===0){t.removeChild(o),Oi(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=o}while(n);Oi(e)}function Fn(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Jp(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Mo=Math.random().toString(36).slice(2),Wt="__reactFiber$"+Mo,Ui="__reactProps$"+Mo,yn="__reactContainer$"+Mo,Qc="__reactEvents$"+Mo,sT="__reactListeners$"+Mo,aT="__reactHandles$"+Mo;function fr(t){var e=t[Wt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[yn]||n[Wt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Jp(t);t!==null;){if(n=t[Wt])return n;t=Jp(t)}return e}t=n,n=t.parentNode}return null}function ws(t){return t=t[Wt]||t[yn],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xr(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(P(33))}function Nl(t){return t[Ui]||null}var Yc=[],Jr=-1;function tr(t){return{current:t}}function ue(t){0>Jr||(t.current=Yc[Jr],Yc[Jr]=null,Jr--)}function oe(t,e){Jr++,Yc[Jr]=t.current,t.current=e}var Kn={},Ye=tr(Kn),st=tr(!1),Cr=Kn;function yo(t,e){var n=t.type.contextTypes;if(!n)return Kn;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var o={},i;for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function at(t){return t=t.childContextTypes,t!=null}function Ua(){ue(st),ue(Ye)}function Zp(t,e,n){if(Ye.current!==Kn)throw Error(P(168));oe(Ye,e),oe(st,n)}function pv(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var o in r)if(!(o in e))throw Error(P(108,WE(t)||"Unknown",o));return me({},n,r)}function Ba(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Kn,Cr=Ye.current,oe(Ye,t),oe(st,st.current),!0}function em(t,e,n){var r=t.stateNode;if(!r)throw Error(P(169));n?(t=pv(t,e,Cr),r.__reactInternalMemoizedMergedChildContext=t,ue(st),ue(Ye),oe(Ye,t)):ue(st),oe(st,n)}var ln=null,Dl=!1,Gu=!1;function mv(t){ln===null?ln=[t]:ln.push(t)}function lT(t){Dl=!0,mv(t)}function nr(){if(!Gu&&ln!==null){Gu=!0;var t=0,e=ee;try{var n=ln;for(ee=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ln=null,Dl=!1}catch(o){throw ln!==null&&(ln=ln.slice(t+1)),jy(vh,nr),o}finally{ee=e,Gu=!1}}return null}var Zr=[],eo=0,Ha=null,Wa=0,Et=[],Tt=0,Ir=null,un=1,cn="";function lr(t,e){Zr[eo++]=Wa,Zr[eo++]=Ha,Ha=t,Wa=e}function gv(t,e,n){Et[Tt++]=un,Et[Tt++]=cn,Et[Tt++]=Ir,Ir=t;var r=un;t=cn;var o=32-Ot(r)-1;r&=~(1<<o),n+=1;var i=32-Ot(e)+o;if(30<i){var s=o-o%5;i=(r&(1<<s)-1).toString(32),r>>=s,o-=s,un=1<<32-Ot(e)+o|n<<o|r,cn=i+t}else un=1<<i|n<<o|r,cn=t}function Rh(t){t.return!==null&&(lr(t,1),gv(t,1,0))}function xh(t){for(;t===Ha;)Ha=Zr[--eo],Zr[eo]=null,Wa=Zr[--eo],Zr[eo]=null;for(;t===Ir;)Ir=Et[--Tt],Et[Tt]=null,cn=Et[--Tt],Et[Tt]=null,un=Et[--Tt],Et[Tt]=null}var ft=null,dt=null,ce=!1,Dt=null;function yv(t,e){var n=It(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function tm(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,ft=t,dt=Fn(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,ft=t,dt=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Ir!==null?{id:un,overflow:cn}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=It(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,ft=t,dt=null,!0):!1;default:return!1}}function Xc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Jc(t){if(ce){var e=dt;if(e){var n=e;if(!tm(t,e)){if(Xc(t))throw Error(P(418));e=Fn(n.nextSibling);var r=ft;e&&tm(t,e)?yv(r,n):(t.flags=t.flags&-4097|2,ce=!1,ft=t)}}else{if(Xc(t))throw Error(P(418));t.flags=t.flags&-4097|2,ce=!1,ft=t}}}function nm(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;ft=t}function Xs(t){if(t!==ft)return!1;if(!ce)return nm(t),ce=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qc(t.type,t.memoizedProps)),e&&(e=dt)){if(Xc(t))throw vv(),Error(P(418));for(;e;)yv(t,e),e=Fn(e.nextSibling)}if(nm(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(P(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){dt=Fn(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}dt=null}}else dt=ft?Fn(t.stateNode.nextSibling):null;return!0}function vv(){for(var t=dt;t;)t=Fn(t.nextSibling)}function vo(){dt=ft=null,ce=!1}function Ph(t){Dt===null?Dt=[t]:Dt.push(t)}var uT=Sn.ReactCurrentBatchConfig;function $t(t,e){if(t&&t.defaultProps){e=me({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ga=tr(null),qa=null,to=null,bh=null;function kh(){bh=to=qa=null}function $h(t){var e=Ga.current;ue(Ga),t._currentValue=e}function Zc(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function uo(t,e){qa=t,bh=to=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(it=!0),t.firstContext=null)}function Rt(t){var e=t._currentValue;if(bh!==t)if(t={context:t,memoizedValue:e,next:null},to===null){if(qa===null)throw Error(P(308));to=t,qa.dependencies={lanes:0,firstContext:t}}else to=to.next=t;return e}var pr=null;function Nh(t){pr===null?pr=[t]:pr.push(t)}function _v(t,e,n,r){var o=e.interleaved;return o===null?(n.next=n,Nh(e)):(n.next=o.next,o.next=n),e.interleaved=n,vn(t,r)}function vn(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var bn=!1;function Dh(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function wv(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function hn(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function jn(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,J&2){var o=r.pending;return o===null?e.next=e:(e.next=o.next,o.next=e),r.pending=e,vn(t,n)}return o=r.interleaved,o===null?(e.next=e,Nh(r)):(e.next=o.next,o.next=e),r.interleaved=e,vn(t,n)}function Ea(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_h(t,n)}}function rm(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var o=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?o=i=s:i=i.next=s,n=n.next}while(n!==null);i===null?o=i=e:i=i.next=e}else o=i=e;n={baseState:r.baseState,firstBaseUpdate:o,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Ka(t,e,n,r){var o=t.updateQueue;bn=!1;var i=o.firstBaseUpdate,s=o.lastBaseUpdate,a=o.shared.pending;if(a!==null){o.shared.pending=null;var l=a,u=l.next;l.next=null,s===null?i=u:s.next=u,s=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==s&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(i!==null){var d=o.baseState;s=0,c=u=l=null,a=i;do{var h=a.lane,p=a.eventTime;if((r&h)===h){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,_=a;switch(h=e,p=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){d=y.call(p,d,h);break e}d=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,h=typeof y=="function"?y.call(p,d,h):y,h==null)break e;d=me({},d,h);break e;case 2:bn=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,h=o.effects,h===null?o.effects=[a]:h.push(a))}else p={eventTime:p,lane:h,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,s|=h;if(a=a.next,a===null){if(a=o.shared.pending,a===null)break;h=a,a=h.next,h.next=null,o.lastBaseUpdate=h,o.shared.pending=null}}while(!0);if(c===null&&(l=d),o.baseState=l,o.firstBaseUpdate=u,o.lastBaseUpdate=c,e=o.shared.interleaved,e!==null){o=e;do s|=o.lane,o=o.next;while(o!==e)}else i===null&&(o.shared.lanes=0);Rr|=s,t.lanes=s,t.memoizedState=d}}function om(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],o=r.callback;if(o!==null){if(r.callback=null,r=n,typeof o!="function")throw Error(P(191,o));o.call(r)}}}var Ev=new _y.Component().refs;function ed(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:me({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Vl={isMounted:function(t){return(t=t._reactInternals)?Vr(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=et(),o=Un(t),i=hn(r,o);i.payload=e,n!=null&&(i.callback=n),e=jn(t,i,o),e!==null&&(Lt(e,t,o,r),Ea(e,t,o))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=et(),o=Un(t),i=hn(r,o);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=jn(t,i,o),e!==null&&(Lt(e,t,o,r),Ea(e,t,o))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=et(),r=Un(t),o=hn(n,r);o.tag=2,e!=null&&(o.callback=e),e=jn(t,o,r),e!==null&&(Lt(e,t,r,n),Ea(e,t,r))}};function im(t,e,n,r,o,i,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,s):e.prototype&&e.prototype.isPureReactComponent?!Fi(n,r)||!Fi(o,i):!0}function Tv(t,e,n){var r=!1,o=Kn,i=e.contextType;return typeof i=="object"&&i!==null?i=Rt(i):(o=at(e)?Cr:Ye.current,r=e.contextTypes,i=(r=r!=null)?yo(t,o):Kn),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Vl,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=o,t.__reactInternalMemoizedMaskedChildContext=i),e}function sm(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Vl.enqueueReplaceState(e,e.state,null)}function td(t,e,n,r){var o=t.stateNode;o.props=n,o.state=t.memoizedState,o.refs=Ev,Dh(t);var i=e.contextType;typeof i=="object"&&i!==null?o.context=Rt(i):(i=at(e)?Cr:Ye.current,o.context=yo(t,i)),o.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ed(t,e,i,n),o.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof o.getSnapshotBeforeUpdate=="function"||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(e=o.state,typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount(),e!==o.state&&Vl.enqueueReplaceState(o,o.state,null),Ka(t,n,o,r),o.state=t.memoizedState),typeof o.componentDidMount=="function"&&(t.flags|=4194308)}function Zo(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(P(309));var r=n.stateNode}if(!r)throw Error(P(147,t));var o=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(s){var a=o.refs;a===Ev&&(a=o.refs={}),s===null?delete a[i]:a[i]=s},e._stringRef=i,e)}if(typeof t!="string")throw Error(P(284));if(!n._owner)throw Error(P(290,t))}return t}function Js(t,e){throw t=Object.prototype.toString.call(e),Error(P(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function am(t){var e=t._init;return e(t._payload)}function Sv(t){function e(m,f){if(t){var g=m.deletions;g===null?(m.deletions=[f],m.flags|=16):g.push(f)}}function n(m,f){if(!t)return null;for(;f!==null;)e(m,f),f=f.sibling;return null}function r(m,f){for(m=new Map;f!==null;)f.key!==null?m.set(f.key,f):m.set(f.index,f),f=f.sibling;return m}function o(m,f){return m=Bn(m,f),m.index=0,m.sibling=null,m}function i(m,f,g){return m.index=g,t?(g=m.alternate,g!==null?(g=g.index,g<f?(m.flags|=2,f):g):(m.flags|=2,f)):(m.flags|=1048576,f)}function s(m){return t&&m.alternate===null&&(m.flags|=2),m}function a(m,f,g,w){return f===null||f.tag!==6?(f=Zu(g,m.mode,w),f.return=m,f):(f=o(f,g),f.return=m,f)}function l(m,f,g,w){var S=g.type;return S===qr?c(m,f,g.props.children,w,g.key):f!==null&&(f.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Pn&&am(S)===f.type)?(w=o(f,g.props),w.ref=Zo(m,f,g),w.return=m,w):(w=Ra(g.type,g.key,g.props,null,m.mode,w),w.ref=Zo(m,f,g),w.return=m,w)}function u(m,f,g,w){return f===null||f.tag!==4||f.stateNode.containerInfo!==g.containerInfo||f.stateNode.implementation!==g.implementation?(f=ec(g,m.mode,w),f.return=m,f):(f=o(f,g.children||[]),f.return=m,f)}function c(m,f,g,w,S){return f===null||f.tag!==7?(f=Tr(g,m.mode,w,S),f.return=m,f):(f=o(f,g),f.return=m,f)}function d(m,f,g){if(typeof f=="string"&&f!==""||typeof f=="number")return f=Zu(""+f,m.mode,g),f.return=m,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case zs:return g=Ra(f.type,f.key,f.props,null,m.mode,g),g.ref=Zo(m,null,f),g.return=m,g;case Gr:return f=ec(f,m.mode,g),f.return=m,f;case Pn:var w=f._init;return d(m,w(f._payload),g)}if(li(f)||Ko(f))return f=Tr(f,m.mode,g,null),f.return=m,f;Js(m,f)}return null}function h(m,f,g,w){var S=f!==null?f.key:null;if(typeof g=="string"&&g!==""||typeof g=="number")return S!==null?null:a(m,f,""+g,w);if(typeof g=="object"&&g!==null){switch(g.$$typeof){case zs:return g.key===S?l(m,f,g,w):null;case Gr:return g.key===S?u(m,f,g,w):null;case Pn:return S=g._init,h(m,f,S(g._payload),w)}if(li(g)||Ko(g))return S!==null?null:c(m,f,g,w,null);Js(m,g)}return null}function p(m,f,g,w,S){if(typeof w=="string"&&w!==""||typeof w=="number")return m=m.get(g)||null,a(f,m,""+w,S);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case zs:return m=m.get(w.key===null?g:w.key)||null,l(f,m,w,S);case Gr:return m=m.get(w.key===null?g:w.key)||null,u(f,m,w,S);case Pn:var C=w._init;return p(m,f,g,C(w._payload),S)}if(li(w)||Ko(w))return m=m.get(g)||null,c(f,m,w,S,null);Js(f,w)}return null}function y(m,f,g,w){for(var S=null,C=null,I=f,R=f=0,M=null;I!==null&&R<g.length;R++){I.index>R?(M=I,I=null):M=I.sibling;var V=h(m,I,g[R],w);if(V===null){I===null&&(I=M);break}t&&I&&V.alternate===null&&e(m,I),f=i(V,f,R),C===null?S=V:C.sibling=V,C=V,I=M}if(R===g.length)return n(m,I),ce&&lr(m,R),S;if(I===null){for(;R<g.length;R++)I=d(m,g[R],w),I!==null&&(f=i(I,f,R),C===null?S=I:C.sibling=I,C=I);return ce&&lr(m,R),S}for(I=r(m,I);R<g.length;R++)M=p(I,m,R,g[R],w),M!==null&&(t&&M.alternate!==null&&I.delete(M.key===null?R:M.key),f=i(M,f,R),C===null?S=M:C.sibling=M,C=M);return t&&I.forEach(function(re){return e(m,re)}),ce&&lr(m,R),S}function _(m,f,g,w){var S=Ko(g);if(typeof S!="function")throw Error(P(150));if(g=S.call(g),g==null)throw Error(P(151));for(var C=S=null,I=f,R=f=0,M=null,V=g.next();I!==null&&!V.done;R++,V=g.next()){I.index>R?(M=I,I=null):M=I.sibling;var re=h(m,I,V.value,w);if(re===null){I===null&&(I=M);break}t&&I&&re.alternate===null&&e(m,I),f=i(re,f,R),C===null?S=re:C.sibling=re,C=re,I=M}if(V.done)return n(m,I),ce&&lr(m,R),S;if(I===null){for(;!V.done;R++,V=g.next())V=d(m,V.value,w),V!==null&&(f=i(V,f,R),C===null?S=V:C.sibling=V,C=V);return ce&&lr(m,R),S}for(I=r(m,I);!V.done;R++,V=g.next())V=p(I,m,R,V.value,w),V!==null&&(t&&V.alternate!==null&&I.delete(V.key===null?R:V.key),f=i(V,f,R),C===null?S=V:C.sibling=V,C=V);return t&&I.forEach(function(Y){return e(m,Y)}),ce&&lr(m,R),S}function E(m,f,g,w){if(typeof g=="object"&&g!==null&&g.type===qr&&g.key===null&&(g=g.props.children),typeof g=="object"&&g!==null){switch(g.$$typeof){case zs:e:{for(var S=g.key,C=f;C!==null;){if(C.key===S){if(S=g.type,S===qr){if(C.tag===7){n(m,C.sibling),f=o(C,g.props.children),f.return=m,m=f;break e}}else if(C.elementType===S||typeof S=="object"&&S!==null&&S.$$typeof===Pn&&am(S)===C.type){n(m,C.sibling),f=o(C,g.props),f.ref=Zo(m,C,g),f.return=m,m=f;break e}n(m,C);break}else e(m,C);C=C.sibling}g.type===qr?(f=Tr(g.props.children,m.mode,w,g.key),f.return=m,m=f):(w=Ra(g.type,g.key,g.props,null,m.mode,w),w.ref=Zo(m,f,g),w.return=m,m=w)}return s(m);case Gr:e:{for(C=g.key;f!==null;){if(f.key===C)if(f.tag===4&&f.stateNode.containerInfo===g.containerInfo&&f.stateNode.implementation===g.implementation){n(m,f.sibling),f=o(f,g.children||[]),f.return=m,m=f;break e}else{n(m,f);break}else e(m,f);f=f.sibling}f=ec(g,m.mode,w),f.return=m,m=f}return s(m);case Pn:return C=g._init,E(m,f,C(g._payload),w)}if(li(g))return y(m,f,g,w);if(Ko(g))return _(m,f,g,w);Js(m,g)}return typeof g=="string"&&g!==""||typeof g=="number"?(g=""+g,f!==null&&f.tag===6?(n(m,f.sibling),f=o(f,g),f.return=m,m=f):(n(m,f),f=Zu(g,m.mode,w),f.return=m,m=f),s(m)):n(m,f)}return E}var _o=Sv(!0),Cv=Sv(!1),Es={},Xt=tr(Es),Bi=tr(Es),Hi=tr(Es);function mr(t){if(t===Es)throw Error(P(174));return t}function Vh(t,e){switch(oe(Hi,e),oe(Bi,t),oe(Xt,Es),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Nc(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Nc(e,t)}ue(Xt),oe(Xt,e)}function wo(){ue(Xt),ue(Bi),ue(Hi)}function Iv(t){mr(Hi.current);var e=mr(Xt.current),n=Nc(e,t.type);e!==n&&(oe(Bi,t),oe(Xt,n))}function Mh(t){Bi.current===t&&(ue(Xt),ue(Bi))}var fe=tr(0);function Qa(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var qu=[];function Oh(){for(var t=0;t<qu.length;t++)qu[t]._workInProgressVersionPrimary=null;qu.length=0}var Ta=Sn.ReactCurrentDispatcher,Ku=Sn.ReactCurrentBatchConfig,Ar=0,pe=null,Se=null,xe=null,Ya=!1,Ei=!1,Wi=0,cT=0;function ze(){throw Error(P(321))}function Lh(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!jt(t[n],e[n]))return!1;return!0}function Fh(t,e,n,r,o,i){if(Ar=i,pe=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ta.current=t===null||t.memoizedState===null?pT:mT,t=n(r,o),Ei){i=0;do{if(Ei=!1,Wi=0,25<=i)throw Error(P(301));i+=1,xe=Se=null,e.updateQueue=null,Ta.current=gT,t=n(r,o)}while(Ei)}if(Ta.current=Xa,e=Se!==null&&Se.next!==null,Ar=0,xe=Se=pe=null,Ya=!1,e)throw Error(P(300));return t}function jh(){var t=Wi!==0;return Wi=0,t}function Ht(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return xe===null?pe.memoizedState=xe=t:xe=xe.next=t,xe}function xt(){if(Se===null){var t=pe.alternate;t=t!==null?t.memoizedState:null}else t=Se.next;var e=xe===null?pe.memoizedState:xe.next;if(e!==null)xe=e,Se=t;else{if(t===null)throw Error(P(310));Se=t,t={memoizedState:Se.memoizedState,baseState:Se.baseState,baseQueue:Se.baseQueue,queue:Se.queue,next:null},xe===null?pe.memoizedState=xe=t:xe=xe.next=t}return xe}function Gi(t,e){return typeof e=="function"?e(t):e}function Qu(t){var e=xt(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=Se,o=r.baseQueue,i=n.pending;if(i!==null){if(o!==null){var s=o.next;o.next=i.next,i.next=s}r.baseQueue=o=i,n.pending=null}if(o!==null){i=o.next,r=r.baseState;var a=s=null,l=null,u=i;do{var c=u.lane;if((Ar&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:t(r,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,s=r):l=l.next=d,pe.lanes|=c,Rr|=c}u=u.next}while(u!==null&&u!==i);l===null?s=r:l.next=a,jt(r,e.memoizedState)||(it=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){o=t;do i=o.lane,pe.lanes|=i,Rr|=i,o=o.next;while(o!==t)}else o===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Yu(t){var e=xt(),n=e.queue;if(n===null)throw Error(P(311));n.lastRenderedReducer=t;var r=n.dispatch,o=n.pending,i=e.memoizedState;if(o!==null){n.pending=null;var s=o=o.next;do i=t(i,s.action),s=s.next;while(s!==o);jt(i,e.memoizedState)||(it=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function Av(){}function Rv(t,e){var n=pe,r=xt(),o=e(),i=!jt(r.memoizedState,o);if(i&&(r.memoizedState=o,it=!0),r=r.queue,zh(bv.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||xe!==null&&xe.memoizedState.tag&1){if(n.flags|=2048,qi(9,Pv.bind(null,n,r,o,e),void 0,null),Pe===null)throw Error(P(349));Ar&30||xv(n,e,o)}return o}function xv(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Pv(t,e,n,r){e.value=n,e.getSnapshot=r,kv(e)&&$v(t)}function bv(t,e,n){return n(function(){kv(e)&&$v(t)})}function kv(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!jt(t,n)}catch{return!0}}function $v(t){var e=vn(t,1);e!==null&&Lt(e,t,1,-1)}function lm(t){var e=Ht();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Gi,lastRenderedState:t},e.queue=t,t=t.dispatch=fT.bind(null,pe,t),[e.memoizedState,t]}function qi(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=pe.updateQueue,e===null?(e={lastEffect:null,stores:null},pe.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Nv(){return xt().memoizedState}function Sa(t,e,n,r){var o=Ht();pe.flags|=t,o.memoizedState=qi(1|e,n,void 0,r===void 0?null:r)}function Ml(t,e,n,r){var o=xt();r=r===void 0?null:r;var i=void 0;if(Se!==null){var s=Se.memoizedState;if(i=s.destroy,r!==null&&Lh(r,s.deps)){o.memoizedState=qi(e,n,i,r);return}}pe.flags|=t,o.memoizedState=qi(1|e,n,i,r)}function um(t,e){return Sa(8390656,8,t,e)}function zh(t,e){return Ml(2048,8,t,e)}function Dv(t,e){return Ml(4,2,t,e)}function Vv(t,e){return Ml(4,4,t,e)}function Mv(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function Ov(t,e,n){return n=n!=null?n.concat([t]):null,Ml(4,4,Mv.bind(null,e,t),n)}function Uh(){}function Lv(t,e){var n=xt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lh(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function Fv(t,e){var n=xt();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&Lh(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function jv(t,e,n){return Ar&21?(jt(n,e)||(n=By(),pe.lanes|=n,Rr|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,it=!0),t.memoizedState=n)}function dT(t,e){var n=ee;ee=n!==0&&4>n?n:4,t(!0);var r=Ku.transition;Ku.transition={};try{t(!1),e()}finally{ee=n,Ku.transition=r}}function zv(){return xt().memoizedState}function hT(t,e,n){var r=Un(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Uv(t))Bv(e,n);else if(n=_v(t,e,n,r),n!==null){var o=et();Lt(n,t,r,o),Hv(n,e,r)}}function fT(t,e,n){var r=Un(t),o={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Uv(t))Bv(e,o);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var s=e.lastRenderedState,a=i(s,n);if(o.hasEagerState=!0,o.eagerState=a,jt(a,s)){var l=e.interleaved;l===null?(o.next=o,Nh(e)):(o.next=l.next,l.next=o),e.interleaved=o;return}}catch{}finally{}n=_v(t,e,o,r),n!==null&&(o=et(),Lt(n,t,r,o),Hv(n,e,r))}}function Uv(t){var e=t.alternate;return t===pe||e!==null&&e===pe}function Bv(t,e){Ei=Ya=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function Hv(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_h(t,n)}}var Xa={readContext:Rt,useCallback:ze,useContext:ze,useEffect:ze,useImperativeHandle:ze,useInsertionEffect:ze,useLayoutEffect:ze,useMemo:ze,useReducer:ze,useRef:ze,useState:ze,useDebugValue:ze,useDeferredValue:ze,useTransition:ze,useMutableSource:ze,useSyncExternalStore:ze,useId:ze,unstable_isNewReconciler:!1},pT={readContext:Rt,useCallback:function(t,e){return Ht().memoizedState=[t,e===void 0?null:e],t},useContext:Rt,useEffect:um,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Sa(4194308,4,Mv.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Sa(4194308,4,t,e)},useInsertionEffect:function(t,e){return Sa(4,2,t,e)},useMemo:function(t,e){var n=Ht();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ht();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=hT.bind(null,pe,t),[r.memoizedState,t]},useRef:function(t){var e=Ht();return t={current:t},e.memoizedState=t},useState:lm,useDebugValue:Uh,useDeferredValue:function(t){return Ht().memoizedState=t},useTransition:function(){var t=lm(!1),e=t[0];return t=dT.bind(null,t[1]),Ht().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=pe,o=Ht();if(ce){if(n===void 0)throw Error(P(407));n=n()}else{if(n=e(),Pe===null)throw Error(P(349));Ar&30||xv(r,e,n)}o.memoizedState=n;var i={value:n,getSnapshot:e};return o.queue=i,um(bv.bind(null,r,i,t),[t]),r.flags|=2048,qi(9,Pv.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Ht(),e=Pe.identifierPrefix;if(ce){var n=cn,r=un;n=(r&~(1<<32-Ot(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Wi++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=cT++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mT={readContext:Rt,useCallback:Lv,useContext:Rt,useEffect:zh,useImperativeHandle:Ov,useInsertionEffect:Dv,useLayoutEffect:Vv,useMemo:Fv,useReducer:Qu,useRef:Nv,useState:function(){return Qu(Gi)},useDebugValue:Uh,useDeferredValue:function(t){var e=xt();return jv(e,Se.memoizedState,t)},useTransition:function(){var t=Qu(Gi)[0],e=xt().memoizedState;return[t,e]},useMutableSource:Av,useSyncExternalStore:Rv,useId:zv,unstable_isNewReconciler:!1},gT={readContext:Rt,useCallback:Lv,useContext:Rt,useEffect:zh,useImperativeHandle:Ov,useInsertionEffect:Dv,useLayoutEffect:Vv,useMemo:Fv,useReducer:Yu,useRef:Nv,useState:function(){return Yu(Gi)},useDebugValue:Uh,useDeferredValue:function(t){var e=xt();return Se===null?e.memoizedState=t:jv(e,Se.memoizedState,t)},useTransition:function(){var t=Yu(Gi)[0],e=xt().memoizedState;return[t,e]},useMutableSource:Av,useSyncExternalStore:Rv,useId:zv,unstable_isNewReconciler:!1};function Eo(t,e){try{var n="",r=e;do n+=HE(r),r=r.return;while(r);var o=n}catch(i){o=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:o,digest:null}}function Xu(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function nd(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var yT=typeof WeakMap=="function"?WeakMap:Map;function Wv(t,e,n){n=hn(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Za||(Za=!0,hd=r),nd(t,e)},n}function Gv(t,e,n){n=hn(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var o=e.value;n.payload=function(){return r(o)},n.callback=function(){nd(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){nd(t,e),typeof r!="function"&&(zn===null?zn=new Set([this]):zn.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function cm(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new yT;var o=new Set;r.set(e,o)}else o=r.get(e),o===void 0&&(o=new Set,r.set(e,o));o.has(n)||(o.add(n),t=kT.bind(null,t,e,n),e.then(t,t))}function dm(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function hm(t,e,n,r,o){return t.mode&1?(t.flags|=65536,t.lanes=o,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=hn(-1,1),e.tag=2,jn(n,e,1))),n.lanes|=1),t)}var vT=Sn.ReactCurrentOwner,it=!1;function Je(t,e,n,r){e.child=t===null?Cv(e,null,n,r):_o(e,t.child,n,r)}function fm(t,e,n,r,o){n=n.render;var i=e.ref;return uo(e,o),r=Fh(t,e,n,r,i,o),n=jh(),t!==null&&!it?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,_n(t,e,o)):(ce&&n&&Rh(e),e.flags|=1,Je(t,e,r,o),e.child)}function pm(t,e,n,r,o){if(t===null){var i=n.type;return typeof i=="function"&&!Yh(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,qv(t,e,i,r,o)):(t=Ra(n.type,null,r,e,e.mode,o),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&o)){var s=i.memoizedProps;if(n=n.compare,n=n!==null?n:Fi,n(s,r)&&t.ref===e.ref)return _n(t,e,o)}return e.flags|=1,t=Bn(i,r),t.ref=e.ref,t.return=e,e.child=t}function qv(t,e,n,r,o){if(t!==null){var i=t.memoizedProps;if(Fi(i,r)&&t.ref===e.ref)if(it=!1,e.pendingProps=r=i,(t.lanes&o)!==0)t.flags&131072&&(it=!0);else return e.lanes=t.lanes,_n(t,e,o)}return rd(t,e,n,r,o)}function Kv(t,e,n){var r=e.pendingProps,o=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},oe(ro,ct),ct|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,oe(ro,ct),ct|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,oe(ro,ct),ct|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,oe(ro,ct),ct|=r;return Je(t,e,o,n),e.child}function Qv(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function rd(t,e,n,r,o){var i=at(n)?Cr:Ye.current;return i=yo(e,i),uo(e,o),n=Fh(t,e,n,r,i,o),r=jh(),t!==null&&!it?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~o,_n(t,e,o)):(ce&&r&&Rh(e),e.flags|=1,Je(t,e,n,o),e.child)}function mm(t,e,n,r,o){if(at(n)){var i=!0;Ba(e)}else i=!1;if(uo(e,o),e.stateNode===null)Ca(t,e),Tv(e,n,r),td(e,n,r,o),r=!0;else if(t===null){var s=e.stateNode,a=e.memoizedProps;s.props=a;var l=s.context,u=n.contextType;typeof u=="object"&&u!==null?u=Rt(u):(u=at(n)?Cr:Ye.current,u=yo(e,u));var c=n.getDerivedStateFromProps,d=typeof c=="function"||typeof s.getSnapshotBeforeUpdate=="function";d||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==r||l!==u)&&sm(e,s,r,u),bn=!1;var h=e.memoizedState;s.state=h,Ka(e,r,s,o),l=e.memoizedState,a!==r||h!==l||st.current||bn?(typeof c=="function"&&(ed(e,n,c,r),l=e.memoizedState),(a=bn||im(e,n,a,r,h,l,u))?(d||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),s.props=r,s.state=l,s.context=u,r=a):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,wv(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:$t(e.type,a),s.props=u,d=e.pendingProps,h=s.context,l=n.contextType,typeof l=="object"&&l!==null?l=Rt(l):(l=at(n)?Cr:Ye.current,l=yo(e,l));var p=n.getDerivedStateFromProps;(c=typeof p=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(a!==d||h!==l)&&sm(e,s,r,l),bn=!1,h=e.memoizedState,s.state=h,Ka(e,r,s,o);var y=e.memoizedState;a!==d||h!==y||st.current||bn?(typeof p=="function"&&(ed(e,n,p,r),y=e.memoizedState),(u=bn||im(e,n,u,r,h,y,l)||!1)?(c||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,y,l),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,y,l)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),s.props=r,s.state=y,s.context=l,r=u):(typeof s.componentDidUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&h===t.memoizedState||(e.flags|=1024),r=!1)}return od(t,e,n,r,i,o)}function od(t,e,n,r,o,i){Qv(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return o&&em(e,n,!1),_n(t,e,i);r=e.stateNode,vT.current=e;var a=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=_o(e,t.child,null,i),e.child=_o(e,null,a,i)):Je(t,e,a,i),e.memoizedState=r.state,o&&em(e,n,!0),e.child}function Yv(t){var e=t.stateNode;e.pendingContext?Zp(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Zp(t,e.context,!1),Vh(t,e.containerInfo)}function gm(t,e,n,r,o){return vo(),Ph(o),e.flags|=256,Je(t,e,n,r),e.child}var id={dehydrated:null,treeContext:null,retryLane:0};function sd(t){return{baseLanes:t,cachePool:null,transitions:null}}function Xv(t,e,n){var r=e.pendingProps,o=fe.current,i=!1,s=(e.flags&128)!==0,a;if((a=s)||(a=t!==null&&t.memoizedState===null?!1:(o&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(o|=1),oe(fe,o&1),t===null)return Jc(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,i?(r=e.mode,i=e.child,s={mode:"hidden",children:s},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=s):i=Fl(s,r,0,null),t=Tr(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=sd(n),e.memoizedState=id,t):Bh(e,s));if(o=t.memoizedState,o!==null&&(a=o.dehydrated,a!==null))return _T(t,e,s,r,a,o,n);if(i){i=r.fallback,s=e.mode,o=t.child,a=o.sibling;var l={mode:"hidden",children:r.children};return!(s&1)&&e.child!==o?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Bn(o,l),r.subtreeFlags=o.subtreeFlags&14680064),a!==null?i=Bn(a,i):(i=Tr(i,s,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,s=t.child.memoizedState,s=s===null?sd(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},i.memoizedState=s,i.childLanes=t.childLanes&~n,e.memoizedState=id,r}return i=t.child,t=i.sibling,r=Bn(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Bh(t,e){return e=Fl({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zs(t,e,n,r){return r!==null&&Ph(r),_o(e,t.child,null,n),t=Bh(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function _T(t,e,n,r,o,i,s){if(n)return e.flags&256?(e.flags&=-257,r=Xu(Error(P(422))),Zs(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,o=e.mode,r=Fl({mode:"visible",children:r.children},o,0,null),i=Tr(i,o,s,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&_o(e,t.child,null,s),e.child.memoizedState=sd(s),e.memoizedState=id,i);if(!(e.mode&1))return Zs(t,e,s,null);if(o.data==="$!"){if(r=o.nextSibling&&o.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(P(419)),r=Xu(i,r,void 0),Zs(t,e,s,r)}if(a=(s&t.childLanes)!==0,it||a){if(r=Pe,r!==null){switch(s&-s){case 4:o=2;break;case 16:o=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:o=32;break;case 536870912:o=268435456;break;default:o=0}o=o&(r.suspendedLanes|s)?0:o,o!==0&&o!==i.retryLane&&(i.retryLane=o,vn(t,o),Lt(r,t,o,-1))}return Qh(),r=Xu(Error(P(421))),Zs(t,e,s,r)}return o.data==="$?"?(e.flags|=128,e.child=t.child,e=$T.bind(null,t),o._reactRetry=e,null):(t=i.treeContext,dt=Fn(o.nextSibling),ft=e,ce=!0,Dt=null,t!==null&&(Et[Tt++]=un,Et[Tt++]=cn,Et[Tt++]=Ir,un=t.id,cn=t.overflow,Ir=e),e=Bh(e,r.children),e.flags|=4096,e)}function ym(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Zc(t.return,e,n)}function Ju(t,e,n,r,o){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:o}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=o)}function Jv(t,e,n){var r=e.pendingProps,o=r.revealOrder,i=r.tail;if(Je(t,e,r.children,n),r=fe.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&ym(t,n,e);else if(t.tag===19)ym(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(oe(fe,r),!(e.mode&1))e.memoizedState=null;else switch(o){case"forwards":for(n=e.child,o=null;n!==null;)t=n.alternate,t!==null&&Qa(t)===null&&(o=n),n=n.sibling;n=o,n===null?(o=e.child,e.child=null):(o=n.sibling,n.sibling=null),Ju(e,!1,o,n,i);break;case"backwards":for(n=null,o=e.child,e.child=null;o!==null;){if(t=o.alternate,t!==null&&Qa(t)===null){e.child=o;break}t=o.sibling,o.sibling=n,n=o,o=t}Ju(e,!0,n,null,i);break;case"together":Ju(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ca(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function _n(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Rr|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(P(153));if(e.child!==null){for(t=e.child,n=Bn(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Bn(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function wT(t,e,n){switch(e.tag){case 3:Yv(e),vo();break;case 5:Iv(e);break;case 1:at(e.type)&&Ba(e);break;case 4:Vh(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,o=e.memoizedProps.value;oe(Ga,r._currentValue),r._currentValue=o;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(oe(fe,fe.current&1),e.flags|=128,null):n&e.child.childLanes?Xv(t,e,n):(oe(fe,fe.current&1),t=_n(t,e,n),t!==null?t.sibling:null);oe(fe,fe.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Jv(t,e,n);e.flags|=128}if(o=e.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),oe(fe,fe.current),r)break;return null;case 22:case 23:return e.lanes=0,Kv(t,e,n)}return _n(t,e,n)}var Zv,ad,e1,t1;Zv=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};ad=function(){};e1=function(t,e,n,r){var o=t.memoizedProps;if(o!==r){t=e.stateNode,mr(Xt.current);var i=null;switch(n){case"input":o=Pc(t,o),r=Pc(t,r),i=[];break;case"select":o=me({},o,{value:void 0}),r=me({},r,{value:void 0}),i=[];break;case"textarea":o=$c(t,o),r=$c(t,r),i=[];break;default:typeof o.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=za)}Dc(n,r);var s;n=null;for(u in o)if(!r.hasOwnProperty(u)&&o.hasOwnProperty(u)&&o[u]!=null)if(u==="style"){var a=o[u];for(s in a)a.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&($i.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var l=r[u];if(a=o!=null?o[u]:void 0,r.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(s in a)!a.hasOwnProperty(s)||l&&l.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in l)l.hasOwnProperty(s)&&a[s]!==l[s]&&(n||(n={}),n[s]=l[s])}else n||(i||(i=[]),i.push(u,n)),n=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&($i.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&ae("scroll",t),i||a===l||(i=[])):(i=i||[]).push(u,l))}n&&(i=i||[]).push("style",n);var u=i;(e.updateQueue=u)&&(e.flags|=4)}};t1=function(t,e,n,r){n!==r&&(e.flags|=4)};function ei(t,e){if(!ce)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ue(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags&14680064,r|=o.flags&14680064,o.return=t,o=o.sibling;else for(o=t.child;o!==null;)n|=o.lanes|o.childLanes,r|=o.subtreeFlags,r|=o.flags,o.return=t,o=o.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function ET(t,e,n){var r=e.pendingProps;switch(xh(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ue(e),null;case 1:return at(e.type)&&Ua(),Ue(e),null;case 3:return r=e.stateNode,wo(),ue(st),ue(Ye),Oh(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Xs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Dt!==null&&(md(Dt),Dt=null))),ad(t,e),Ue(e),null;case 5:Mh(e);var o=mr(Hi.current);if(n=e.type,t!==null&&e.stateNode!=null)e1(t,e,n,r,o),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(P(166));return Ue(e),null}if(t=mr(Xt.current),Xs(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Wt]=e,r[Ui]=i,t=(e.mode&1)!==0,n){case"dialog":ae("cancel",r),ae("close",r);break;case"iframe":case"object":case"embed":ae("load",r);break;case"video":case"audio":for(o=0;o<ci.length;o++)ae(ci[o],r);break;case"source":ae("error",r);break;case"img":case"image":case"link":ae("error",r),ae("load",r);break;case"details":ae("toggle",r);break;case"input":Ap(r,i),ae("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},ae("invalid",r);break;case"textarea":xp(r,i),ae("invalid",r)}Dc(n,i),o=null;for(var s in i)if(i.hasOwnProperty(s)){var a=i[s];s==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ys(r.textContent,a,t),o=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ys(r.textContent,a,t),o=["children",""+a]):$i.hasOwnProperty(s)&&a!=null&&s==="onScroll"&&ae("scroll",r)}switch(n){case"input":Us(r),Rp(r,i,!0);break;case"textarea":Us(r),Pp(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=za)}r=o,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=o.nodeType===9?o:o.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=xy(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[Wt]=e,t[Ui]=r,Zv(t,e,!1,!1),e.stateNode=t;e:{switch(s=Vc(n,r),n){case"dialog":ae("cancel",t),ae("close",t),o=r;break;case"iframe":case"object":case"embed":ae("load",t),o=r;break;case"video":case"audio":for(o=0;o<ci.length;o++)ae(ci[o],t);o=r;break;case"source":ae("error",t),o=r;break;case"img":case"image":case"link":ae("error",t),ae("load",t),o=r;break;case"details":ae("toggle",t),o=r;break;case"input":Ap(t,r),o=Pc(t,r),ae("invalid",t);break;case"option":o=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},o=me({},r,{value:void 0}),ae("invalid",t);break;case"textarea":xp(t,r),o=$c(t,r),ae("invalid",t);break;default:o=r}Dc(n,o),a=o;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?ky(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Py(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ni(t,l):typeof l=="number"&&Ni(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&($i.hasOwnProperty(i)?l!=null&&i==="onScroll"&&ae("scroll",t):l!=null&&fh(t,i,l,s))}switch(n){case"input":Us(t),Rp(t,r,!1);break;case"textarea":Us(t),Pp(t);break;case"option":r.value!=null&&t.setAttribute("value",""+qn(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?io(t,!!r.multiple,i,!1):r.defaultValue!=null&&io(t,!!r.multiple,r.defaultValue,!0);break;default:typeof o.onClick=="function"&&(t.onclick=za)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ue(e),null;case 6:if(t&&e.stateNode!=null)t1(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(P(166));if(n=mr(Hi.current),mr(Xt.current),Xs(e)){if(r=e.stateNode,n=e.memoizedProps,r[Wt]=e,(i=r.nodeValue!==n)&&(t=ft,t!==null))switch(t.tag){case 3:Ys(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ys(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Wt]=e,e.stateNode=r}return Ue(e),null;case 13:if(ue(fe),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ce&&dt!==null&&e.mode&1&&!(e.flags&128))vv(),vo(),e.flags|=98560,i=!1;else if(i=Xs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(P(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(P(317));i[Wt]=e}else vo(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ue(e),i=!1}else Dt!==null&&(md(Dt),Dt=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||fe.current&1?Ie===0&&(Ie=3):Qh())),e.updateQueue!==null&&(e.flags|=4),Ue(e),null);case 4:return wo(),ad(t,e),t===null&&ji(e.stateNode.containerInfo),Ue(e),null;case 10:return $h(e.type._context),Ue(e),null;case 17:return at(e.type)&&Ua(),Ue(e),null;case 19:if(ue(fe),i=e.memoizedState,i===null)return Ue(e),null;if(r=(e.flags&128)!==0,s=i.rendering,s===null)if(r)ei(i,!1);else{if(Ie!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Qa(t),s!==null){for(e.flags|=128,ei(i,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,s=i.alternate,s===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=s.childLanes,i.lanes=s.lanes,i.child=s.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=s.memoizedProps,i.memoizedState=s.memoizedState,i.updateQueue=s.updateQueue,i.type=s.type,t=s.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return oe(fe,fe.current&1|2),e.child}t=t.sibling}i.tail!==null&&_e()>To&&(e.flags|=128,r=!0,ei(i,!1),e.lanes=4194304)}else{if(!r)if(t=Qa(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ei(i,!0),i.tail===null&&i.tailMode==="hidden"&&!s.alternate&&!ce)return Ue(e),null}else 2*_e()-i.renderingStartTime>To&&n!==1073741824&&(e.flags|=128,r=!0,ei(i,!1),e.lanes=4194304);i.isBackwards?(s.sibling=e.child,e.child=s):(n=i.last,n!==null?n.sibling=s:e.child=s,i.last=s)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=_e(),e.sibling=null,n=fe.current,oe(fe,r?n&1|2:n&1),e):(Ue(e),null);case 22:case 23:return Kh(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ct&1073741824&&(Ue(e),e.subtreeFlags&6&&(e.flags|=8192)):Ue(e),null;case 24:return null;case 25:return null}throw Error(P(156,e.tag))}function TT(t,e){switch(xh(e),e.tag){case 1:return at(e.type)&&Ua(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return wo(),ue(st),ue(Ye),Oh(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Mh(e),null;case 13:if(ue(fe),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(P(340));vo()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ue(fe),null;case 4:return wo(),null;case 10:return $h(e.type._context),null;case 22:case 23:return Kh(),null;case 24:return null;default:return null}}var ea=!1,We=!1,ST=typeof WeakSet=="function"?WeakSet:Set,D=null;function no(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ye(t,e,r)}else n.current=null}function ld(t,e,n){try{n()}catch(r){ye(t,e,r)}}var vm=!1;function CT(t,e){if(Wc=La,t=iv(),Ah(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var o=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var s=0,a=-1,l=-1,u=0,c=0,d=t,h=null;t:for(;;){for(var p;d!==n||o!==0&&d.nodeType!==3||(a=s+o),d!==i||r!==0&&d.nodeType!==3||(l=s+r),d.nodeType===3&&(s+=d.nodeValue.length),(p=d.firstChild)!==null;)h=d,d=p;for(;;){if(d===t)break t;if(h===n&&++u===o&&(a=s),h===i&&++c===r&&(l=s),(p=d.nextSibling)!==null)break;d=h,h=d.parentNode}d=p}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Gc={focusedElem:t,selectionRange:n},La=!1,D=e;D!==null;)if(e=D,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,D=t;else for(;D!==null;){e=D;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,E=y.memoizedState,m=e.stateNode,f=m.getSnapshotBeforeUpdate(e.elementType===e.type?_:$t(e.type,_),E);m.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var g=e.stateNode.containerInfo;g.nodeType===1?g.textContent="":g.nodeType===9&&g.documentElement&&g.removeChild(g.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(P(163))}}catch(w){ye(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,D=t;break}D=e.return}return y=vm,vm=!1,y}function Ti(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var i=o.destroy;o.destroy=void 0,i!==void 0&&ld(e,n,i)}o=o.next}while(o!==r)}}function Ol(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function ud(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function n1(t){var e=t.alternate;e!==null&&(t.alternate=null,n1(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Wt],delete e[Ui],delete e[Qc],delete e[sT],delete e[aT])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function r1(t){return t.tag===5||t.tag===3||t.tag===4}function _m(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||r1(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function cd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=za));else if(r!==4&&(t=t.child,t!==null))for(cd(t,e,n),t=t.sibling;t!==null;)cd(t,e,n),t=t.sibling}function dd(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(dd(t,e,n),t=t.sibling;t!==null;)dd(t,e,n),t=t.sibling}var Ne=null,Nt=!1;function An(t,e,n){for(n=n.child;n!==null;)o1(t,e,n),n=n.sibling}function o1(t,e,n){if(Yt&&typeof Yt.onCommitFiberUnmount=="function")try{Yt.onCommitFiberUnmount(Pl,n)}catch{}switch(n.tag){case 5:We||no(n,e);case 6:var r=Ne,o=Nt;Ne=null,An(t,e,n),Ne=r,Nt=o,Ne!==null&&(Nt?(t=Ne,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ne.removeChild(n.stateNode));break;case 18:Ne!==null&&(Nt?(t=Ne,n=n.stateNode,t.nodeType===8?Wu(t.parentNode,n):t.nodeType===1&&Wu(t,n),Oi(t)):Wu(Ne,n.stateNode));break;case 4:r=Ne,o=Nt,Ne=n.stateNode.containerInfo,Nt=!0,An(t,e,n),Ne=r,Nt=o;break;case 0:case 11:case 14:case 15:if(!We&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){o=r=r.next;do{var i=o,s=i.destroy;i=i.tag,s!==void 0&&(i&2||i&4)&&ld(n,e,s),o=o.next}while(o!==r)}An(t,e,n);break;case 1:if(!We&&(no(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ye(n,e,a)}An(t,e,n);break;case 21:An(t,e,n);break;case 22:n.mode&1?(We=(r=We)||n.memoizedState!==null,An(t,e,n),We=r):An(t,e,n);break;default:An(t,e,n)}}function wm(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new ST),e.forEach(function(r){var o=NT.bind(null,t,r);n.has(r)||(n.add(r),r.then(o,o))})}}function kt(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];try{var i=t,s=e,a=s;e:for(;a!==null;){switch(a.tag){case 5:Ne=a.stateNode,Nt=!1;break e;case 3:Ne=a.stateNode.containerInfo,Nt=!0;break e;case 4:Ne=a.stateNode.containerInfo,Nt=!0;break e}a=a.return}if(Ne===null)throw Error(P(160));o1(i,s,o),Ne=null,Nt=!1;var l=o.alternate;l!==null&&(l.return=null),o.return=null}catch(u){ye(o,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)i1(e,t),e=e.sibling}function i1(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(kt(e,t),Bt(t),r&4){try{Ti(3,t,t.return),Ol(3,t)}catch(_){ye(t,t.return,_)}try{Ti(5,t,t.return)}catch(_){ye(t,t.return,_)}}break;case 1:kt(e,t),Bt(t),r&512&&n!==null&&no(n,n.return);break;case 5:if(kt(e,t),Bt(t),r&512&&n!==null&&no(n,n.return),t.flags&32){var o=t.stateNode;try{Ni(o,"")}catch(_){ye(t,t.return,_)}}if(r&4&&(o=t.stateNode,o!=null)){var i=t.memoizedProps,s=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Ay(o,i),Vc(a,s);var u=Vc(a,i);for(s=0;s<l.length;s+=2){var c=l[s],d=l[s+1];c==="style"?ky(o,d):c==="dangerouslySetInnerHTML"?Py(o,d):c==="children"?Ni(o,d):fh(o,c,d,u)}switch(a){case"input":bc(o,i);break;case"textarea":Ry(o,i);break;case"select":var h=o._wrapperState.wasMultiple;o._wrapperState.wasMultiple=!!i.multiple;var p=i.value;p!=null?io(o,!!i.multiple,p,!1):h!==!!i.multiple&&(i.defaultValue!=null?io(o,!!i.multiple,i.defaultValue,!0):io(o,!!i.multiple,i.multiple?[]:"",!1))}o[Ui]=i}catch(_){ye(t,t.return,_)}}break;case 6:if(kt(e,t),Bt(t),r&4){if(t.stateNode===null)throw Error(P(162));o=t.stateNode,i=t.memoizedProps;try{o.nodeValue=i}catch(_){ye(t,t.return,_)}}break;case 3:if(kt(e,t),Bt(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Oi(e.containerInfo)}catch(_){ye(t,t.return,_)}break;case 4:kt(e,t),Bt(t);break;case 13:kt(e,t),Bt(t),o=t.child,o.flags&8192&&(i=o.memoizedState!==null,o.stateNode.isHidden=i,!i||o.alternate!==null&&o.alternate.memoizedState!==null||(Gh=_e())),r&4&&wm(t);break;case 22:if(c=n!==null&&n.memoizedState!==null,t.mode&1?(We=(u=We)||c,kt(e,t),We=u):kt(e,t),Bt(t),r&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(D=t,c=t.child;c!==null;){for(d=D=c;D!==null;){switch(h=D,p=h.child,h.tag){case 0:case 11:case 14:case 15:Ti(4,h,h.return);break;case 1:no(h,h.return);var y=h.stateNode;if(typeof y.componentWillUnmount=="function"){r=h,n=h.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){ye(r,n,_)}}break;case 5:no(h,h.return);break;case 22:if(h.memoizedState!==null){Tm(d);continue}}p!==null?(p.return=h,D=p):Tm(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{o=d.stateNode,u?(i=o.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=d.stateNode,l=d.memoizedProps.style,s=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=by("display",s))}catch(_){ye(t,t.return,_)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(_){ye(t,t.return,_)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:kt(e,t),Bt(t),r&4&&wm(t);break;case 21:break;default:kt(e,t),Bt(t)}}function Bt(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(r1(n)){var r=n;break e}n=n.return}throw Error(P(160))}switch(r.tag){case 5:var o=r.stateNode;r.flags&32&&(Ni(o,""),r.flags&=-33);var i=_m(t);dd(t,i,o);break;case 3:case 4:var s=r.stateNode.containerInfo,a=_m(t);cd(t,a,s);break;default:throw Error(P(161))}}catch(l){ye(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function IT(t,e,n){D=t,s1(t)}function s1(t,e,n){for(var r=(t.mode&1)!==0;D!==null;){var o=D,i=o.child;if(o.tag===22&&r){var s=o.memoizedState!==null||ea;if(!s){var a=o.alternate,l=a!==null&&a.memoizedState!==null||We;a=ea;var u=We;if(ea=s,(We=l)&&!u)for(D=o;D!==null;)s=D,l=s.child,s.tag===22&&s.memoizedState!==null?Sm(o):l!==null?(l.return=s,D=l):Sm(o);for(;i!==null;)D=i,s1(i),i=i.sibling;D=o,ea=a,We=u}Em(t)}else o.subtreeFlags&8772&&i!==null?(i.return=o,D=i):Em(t)}}function Em(t){for(;D!==null;){var e=D;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:We||Ol(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!We)if(n===null)r.componentDidMount();else{var o=e.elementType===e.type?n.memoizedProps:$t(e.type,n.memoizedProps);r.componentDidUpdate(o,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&om(e,i,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}om(e,s,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Oi(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(P(163))}We||e.flags&512&&ud(e)}catch(h){ye(e,e.return,h)}}if(e===t){D=null;break}if(n=e.sibling,n!==null){n.return=e.return,D=n;break}D=e.return}}function Tm(t){for(;D!==null;){var e=D;if(e===t){D=null;break}var n=e.sibling;if(n!==null){n.return=e.return,D=n;break}D=e.return}}function Sm(t){for(;D!==null;){var e=D;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Ol(4,e)}catch(l){ye(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var o=e.return;try{r.componentDidMount()}catch(l){ye(e,o,l)}}var i=e.return;try{ud(e)}catch(l){ye(e,i,l)}break;case 5:var s=e.return;try{ud(e)}catch(l){ye(e,s,l)}}}catch(l){ye(e,e.return,l)}if(e===t){D=null;break}var a=e.sibling;if(a!==null){a.return=e.return,D=a;break}D=e.return}}var AT=Math.ceil,Ja=Sn.ReactCurrentDispatcher,Hh=Sn.ReactCurrentOwner,At=Sn.ReactCurrentBatchConfig,J=0,Pe=null,Te=null,Oe=0,ct=0,ro=tr(0),Ie=0,Ki=null,Rr=0,Ll=0,Wh=0,Si=null,ot=null,Gh=0,To=1/0,an=null,Za=!1,hd=null,zn=null,ta=!1,Dn=null,el=0,Ci=0,fd=null,Ia=-1,Aa=0;function et(){return J&6?_e():Ia!==-1?Ia:Ia=_e()}function Un(t){return t.mode&1?J&2&&Oe!==0?Oe&-Oe:uT.transition!==null?(Aa===0&&(Aa=By()),Aa):(t=ee,t!==0||(t=window.event,t=t===void 0?16:Yy(t.type)),t):1}function Lt(t,e,n,r){if(50<Ci)throw Ci=0,fd=null,Error(P(185));vs(t,n,r),(!(J&2)||t!==Pe)&&(t===Pe&&(!(J&2)&&(Ll|=n),Ie===4&&$n(t,Oe)),lt(t,r),n===1&&J===0&&!(e.mode&1)&&(To=_e()+500,Dl&&nr()))}function lt(t,e){var n=t.callbackNode;u2(t,e);var r=Oa(t,t===Pe?Oe:0);if(r===0)n!==null&&$p(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&$p(n),e===1)t.tag===0?lT(Cm.bind(null,t)):mv(Cm.bind(null,t)),oT(function(){!(J&6)&&nr()}),n=null;else{switch(Hy(r)){case 1:n=vh;break;case 4:n=zy;break;case 16:n=Ma;break;case 536870912:n=Uy;break;default:n=Ma}n=p1(n,a1.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function a1(t,e){if(Ia=-1,Aa=0,J&6)throw Error(P(327));var n=t.callbackNode;if(co()&&t.callbackNode!==n)return null;var r=Oa(t,t===Pe?Oe:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=tl(t,r);else{e=r;var o=J;J|=2;var i=u1();(Pe!==t||Oe!==e)&&(an=null,To=_e()+500,Er(t,e));do try{PT();break}catch(a){l1(t,a)}while(!0);kh(),Ja.current=i,J=o,Te!==null?e=0:(Pe=null,Oe=0,e=Ie)}if(e!==0){if(e===2&&(o=jc(t),o!==0&&(r=o,e=pd(t,o))),e===1)throw n=Ki,Er(t,0),$n(t,r),lt(t,_e()),n;if(e===6)$n(t,r);else{if(o=t.current.alternate,!(r&30)&&!RT(o)&&(e=tl(t,r),e===2&&(i=jc(t),i!==0&&(r=i,e=pd(t,i))),e===1))throw n=Ki,Er(t,0),$n(t,r),lt(t,_e()),n;switch(t.finishedWork=o,t.finishedLanes=r,e){case 0:case 1:throw Error(P(345));case 2:ur(t,ot,an);break;case 3:if($n(t,r),(r&130023424)===r&&(e=Gh+500-_e(),10<e)){if(Oa(t,0)!==0)break;if(o=t.suspendedLanes,(o&r)!==r){et(),t.pingedLanes|=t.suspendedLanes&o;break}t.timeoutHandle=Kc(ur.bind(null,t,ot,an),e);break}ur(t,ot,an);break;case 4:if($n(t,r),(r&4194240)===r)break;for(e=t.eventTimes,o=-1;0<r;){var s=31-Ot(r);i=1<<s,s=e[s],s>o&&(o=s),r&=~i}if(r=o,r=_e()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*AT(r/1960))-r,10<r){t.timeoutHandle=Kc(ur.bind(null,t,ot,an),r);break}ur(t,ot,an);break;case 5:ur(t,ot,an);break;default:throw Error(P(329))}}}return lt(t,_e()),t.callbackNode===n?a1.bind(null,t):null}function pd(t,e){var n=Si;return t.current.memoizedState.isDehydrated&&(Er(t,e).flags|=256),t=tl(t,e),t!==2&&(e=ot,ot=n,e!==null&&md(e)),t}function md(t){ot===null?ot=t:ot.push.apply(ot,t)}function RT(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var o=n[r],i=o.getSnapshot;o=o.value;try{if(!jt(i(),o))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function $n(t,e){for(e&=~Wh,e&=~Ll,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Ot(e),r=1<<n;t[n]=-1,e&=~r}}function Cm(t){if(J&6)throw Error(P(327));co();var e=Oa(t,0);if(!(e&1))return lt(t,_e()),null;var n=tl(t,e);if(t.tag!==0&&n===2){var r=jc(t);r!==0&&(e=r,n=pd(t,r))}if(n===1)throw n=Ki,Er(t,0),$n(t,e),lt(t,_e()),n;if(n===6)throw Error(P(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ur(t,ot,an),lt(t,_e()),null}function qh(t,e){var n=J;J|=1;try{return t(e)}finally{J=n,J===0&&(To=_e()+500,Dl&&nr())}}function xr(t){Dn!==null&&Dn.tag===0&&!(J&6)&&co();var e=J;J|=1;var n=At.transition,r=ee;try{if(At.transition=null,ee=1,t)return t()}finally{ee=r,At.transition=n,J=e,!(J&6)&&nr()}}function Kh(){ct=ro.current,ue(ro)}function Er(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,rT(n)),Te!==null)for(n=Te.return;n!==null;){var r=n;switch(xh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ua();break;case 3:wo(),ue(st),ue(Ye),Oh();break;case 5:Mh(r);break;case 4:wo();break;case 13:ue(fe);break;case 19:ue(fe);break;case 10:$h(r.type._context);break;case 22:case 23:Kh()}n=n.return}if(Pe=t,Te=t=Bn(t.current,null),Oe=ct=e,Ie=0,Ki=null,Wh=Ll=Rr=0,ot=Si=null,pr!==null){for(e=0;e<pr.length;e++)if(n=pr[e],r=n.interleaved,r!==null){n.interleaved=null;var o=r.next,i=n.pending;if(i!==null){var s=i.next;i.next=o,r.next=s}n.pending=r}pr=null}return t}function l1(t,e){do{var n=Te;try{if(kh(),Ta.current=Xa,Ya){for(var r=pe.memoizedState;r!==null;){var o=r.queue;o!==null&&(o.pending=null),r=r.next}Ya=!1}if(Ar=0,xe=Se=pe=null,Ei=!1,Wi=0,Hh.current=null,n===null||n.return===null){Ie=1,Ki=e,Te=null;break}e:{var i=t,s=n.return,a=n,l=e;if(e=Oe,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var h=c.alternate;h?(c.updateQueue=h.updateQueue,c.memoizedState=h.memoizedState,c.lanes=h.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=dm(s);if(p!==null){p.flags&=-257,hm(p,s,a,i,e),p.mode&1&&cm(i,u,e),e=p,l=u;var y=e.updateQueue;if(y===null){var _=new Set;_.add(l),e.updateQueue=_}else y.add(l);break e}else{if(!(e&1)){cm(i,u,e),Qh();break e}l=Error(P(426))}}else if(ce&&a.mode&1){var E=dm(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),hm(E,s,a,i,e),Ph(Eo(l,a));break e}}i=l=Eo(l,a),Ie!==4&&(Ie=2),Si===null?Si=[i]:Si.push(i),i=s;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var m=Wv(i,l,e);rm(i,m);break e;case 1:a=l;var f=i.type,g=i.stateNode;if(!(i.flags&128)&&(typeof f.getDerivedStateFromError=="function"||g!==null&&typeof g.componentDidCatch=="function"&&(zn===null||!zn.has(g)))){i.flags|=65536,e&=-e,i.lanes|=e;var w=Gv(i,a,e);rm(i,w);break e}}i=i.return}while(i!==null)}d1(n)}catch(S){e=S,Te===n&&n!==null&&(Te=n=n.return);continue}break}while(!0)}function u1(){var t=Ja.current;return Ja.current=Xa,t===null?Xa:t}function Qh(){(Ie===0||Ie===3||Ie===2)&&(Ie=4),Pe===null||!(Rr&268435455)&&!(Ll&268435455)||$n(Pe,Oe)}function tl(t,e){var n=J;J|=2;var r=u1();(Pe!==t||Oe!==e)&&(an=null,Er(t,e));do try{xT();break}catch(o){l1(t,o)}while(!0);if(kh(),J=n,Ja.current=r,Te!==null)throw Error(P(261));return Pe=null,Oe=0,Ie}function xT(){for(;Te!==null;)c1(Te)}function PT(){for(;Te!==null&&!e2();)c1(Te)}function c1(t){var e=f1(t.alternate,t,ct);t.memoizedProps=t.pendingProps,e===null?d1(t):Te=e,Hh.current=null}function d1(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=TT(n,e),n!==null){n.flags&=32767,Te=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ie=6,Te=null;return}}else if(n=ET(n,e,ct),n!==null){Te=n;return}if(e=e.sibling,e!==null){Te=e;return}Te=e=t}while(e!==null);Ie===0&&(Ie=5)}function ur(t,e,n){var r=ee,o=At.transition;try{At.transition=null,ee=1,bT(t,e,n,r)}finally{At.transition=o,ee=r}return null}function bT(t,e,n,r){do co();while(Dn!==null);if(J&6)throw Error(P(327));n=t.finishedWork;var o=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(P(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(c2(t,i),t===Pe&&(Te=Pe=null,Oe=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ta||(ta=!0,p1(Ma,function(){return co(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=At.transition,At.transition=null;var s=ee;ee=1;var a=J;J|=4,Hh.current=null,CT(t,n),i1(n,t),Y2(Gc),La=!!Wc,Gc=Wc=null,t.current=n,IT(n),t2(),J=a,ee=s,At.transition=i}else t.current=n;if(ta&&(ta=!1,Dn=t,el=o),i=t.pendingLanes,i===0&&(zn=null),o2(n.stateNode),lt(t,_e()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)o=e[n],r(o.value,{componentStack:o.stack,digest:o.digest});if(Za)throw Za=!1,t=hd,hd=null,t;return el&1&&t.tag!==0&&co(),i=t.pendingLanes,i&1?t===fd?Ci++:(Ci=0,fd=t):Ci=0,nr(),null}function co(){if(Dn!==null){var t=Hy(el),e=At.transition,n=ee;try{if(At.transition=null,ee=16>t?16:t,Dn===null)var r=!1;else{if(t=Dn,Dn=null,el=0,J&6)throw Error(P(331));var o=J;for(J|=4,D=t.current;D!==null;){var i=D,s=i.child;if(D.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(D=u;D!==null;){var c=D;switch(c.tag){case 0:case 11:case 15:Ti(8,c,i)}var d=c.child;if(d!==null)d.return=c,D=d;else for(;D!==null;){c=D;var h=c.sibling,p=c.return;if(n1(c),c===u){D=null;break}if(h!==null){h.return=p,D=h;break}D=p}}}var y=i.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var E=_.sibling;_.sibling=null,_=E}while(_!==null)}}D=i}}if(i.subtreeFlags&2064&&s!==null)s.return=i,D=s;else e:for(;D!==null;){if(i=D,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Ti(9,i,i.return)}var m=i.sibling;if(m!==null){m.return=i.return,D=m;break e}D=i.return}}var f=t.current;for(D=f;D!==null;){s=D;var g=s.child;if(s.subtreeFlags&2064&&g!==null)g.return=s,D=g;else e:for(s=f;D!==null;){if(a=D,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Ol(9,a)}}catch(S){ye(a,a.return,S)}if(a===s){D=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,D=w;break e}D=a.return}}if(J=o,nr(),Yt&&typeof Yt.onPostCommitFiberRoot=="function")try{Yt.onPostCommitFiberRoot(Pl,t)}catch{}r=!0}return r}finally{ee=n,At.transition=e}}return!1}function Im(t,e,n){e=Eo(n,e),e=Wv(t,e,1),t=jn(t,e,1),e=et(),t!==null&&(vs(t,1,e),lt(t,e))}function ye(t,e,n){if(t.tag===3)Im(t,t,n);else for(;e!==null;){if(e.tag===3){Im(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(zn===null||!zn.has(r))){t=Eo(n,t),t=Gv(e,t,1),e=jn(e,t,1),t=et(),e!==null&&(vs(e,1,t),lt(e,t));break}}e=e.return}}function kT(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=et(),t.pingedLanes|=t.suspendedLanes&n,Pe===t&&(Oe&n)===n&&(Ie===4||Ie===3&&(Oe&130023424)===Oe&&500>_e()-Gh?Er(t,0):Wh|=n),lt(t,e)}function h1(t,e){e===0&&(t.mode&1?(e=Ws,Ws<<=1,!(Ws&130023424)&&(Ws=4194304)):e=1);var n=et();t=vn(t,e),t!==null&&(vs(t,e,n),lt(t,n))}function $T(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),h1(t,n)}function NT(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,o=t.memoizedState;o!==null&&(n=o.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(P(314))}r!==null&&r.delete(e),h1(t,n)}var f1;f1=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||st.current)it=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return it=!1,wT(t,e,n);it=!!(t.flags&131072)}else it=!1,ce&&e.flags&1048576&&gv(e,Wa,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ca(t,e),t=e.pendingProps;var o=yo(e,Ye.current);uo(e,n),o=Fh(null,e,r,t,o,n);var i=jh();return e.flags|=1,typeof o=="object"&&o!==null&&typeof o.render=="function"&&o.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,at(r)?(i=!0,Ba(e)):i=!1,e.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,Dh(e),o.updater=Vl,e.stateNode=o,o._reactInternals=e,td(e,r,t,n),e=od(null,e,r,!0,i,n)):(e.tag=0,ce&&i&&Rh(e),Je(null,e,o,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ca(t,e),t=e.pendingProps,o=r._init,r=o(r._payload),e.type=r,o=e.tag=VT(r),t=$t(r,t),o){case 0:e=rd(null,e,r,t,n);break e;case 1:e=mm(null,e,r,t,n);break e;case 11:e=fm(null,e,r,t,n);break e;case 14:e=pm(null,e,r,$t(r.type,t),n);break e}throw Error(P(306,r,""))}return e;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:$t(r,o),rd(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:$t(r,o),mm(t,e,r,o,n);case 3:e:{if(Yv(e),t===null)throw Error(P(387));r=e.pendingProps,i=e.memoizedState,o=i.element,wv(t,e),Ka(e,r,null,n);var s=e.memoizedState;if(r=s.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){o=Eo(Error(P(423)),e),e=gm(t,e,r,n,o);break e}else if(r!==o){o=Eo(Error(P(424)),e),e=gm(t,e,r,n,o);break e}else for(dt=Fn(e.stateNode.containerInfo.firstChild),ft=e,ce=!0,Dt=null,n=Cv(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(vo(),r===o){e=_n(t,e,n);break e}Je(t,e,r,n)}e=e.child}return e;case 5:return Iv(e),t===null&&Jc(e),r=e.type,o=e.pendingProps,i=t!==null?t.memoizedProps:null,s=o.children,qc(r,o)?s=null:i!==null&&qc(r,i)&&(e.flags|=32),Qv(t,e),Je(t,e,s,n),e.child;case 6:return t===null&&Jc(e),null;case 13:return Xv(t,e,n);case 4:return Vh(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_o(e,null,r,n):Je(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:$t(r,o),fm(t,e,r,o,n);case 7:return Je(t,e,e.pendingProps,n),e.child;case 8:return Je(t,e,e.pendingProps.children,n),e.child;case 12:return Je(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,o=e.pendingProps,i=e.memoizedProps,s=o.value,oe(Ga,r._currentValue),r._currentValue=s,i!==null)if(jt(i.value,s)){if(i.children===o.children&&!st.current){e=_n(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){s=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=hn(-1,n&-n),l.tag=2;var u=i.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Zc(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)s=i.type===e.type?null:i.child;else if(i.tag===18){if(s=i.return,s===null)throw Error(P(341));s.lanes|=n,a=s.alternate,a!==null&&(a.lanes|=n),Zc(s,n,e),s=i.sibling}else s=i.child;if(s!==null)s.return=i;else for(s=i;s!==null;){if(s===e){s=null;break}if(i=s.sibling,i!==null){i.return=s.return,s=i;break}s=s.return}i=s}Je(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,r=e.pendingProps.children,uo(e,n),o=Rt(o),r=r(o),e.flags|=1,Je(t,e,r,n),e.child;case 14:return r=e.type,o=$t(r,e.pendingProps),o=$t(r.type,o),pm(t,e,r,o,n);case 15:return qv(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:$t(r,o),Ca(t,e),e.tag=1,at(r)?(t=!0,Ba(e)):t=!1,uo(e,n),Tv(e,r,o),td(e,r,o,n),od(null,e,r,!0,t,n);case 19:return Jv(t,e,n);case 22:return Kv(t,e,n)}throw Error(P(156,e.tag))};function p1(t,e){return jy(t,e)}function DT(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function It(t,e,n,r){return new DT(t,e,n,r)}function Yh(t){return t=t.prototype,!(!t||!t.isReactComponent)}function VT(t){if(typeof t=="function")return Yh(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mh)return 11;if(t===gh)return 14}return 2}function Bn(t,e){var n=t.alternate;return n===null?(n=It(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ra(t,e,n,r,o,i){var s=2;if(r=t,typeof t=="function")Yh(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case qr:return Tr(n.children,o,i,e);case ph:s=8,o|=8;break;case Ic:return t=It(12,n,e,o|2),t.elementType=Ic,t.lanes=i,t;case Ac:return t=It(13,n,e,o),t.elementType=Ac,t.lanes=i,t;case Rc:return t=It(19,n,e,o),t.elementType=Rc,t.lanes=i,t;case Sy:return Fl(n,o,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Ey:s=10;break e;case Ty:s=9;break e;case mh:s=11;break e;case gh:s=14;break e;case Pn:s=16,r=null;break e}throw Error(P(130,t==null?t:typeof t,""))}return e=It(s,n,e,o),e.elementType=t,e.type=r,e.lanes=i,e}function Tr(t,e,n,r){return t=It(7,t,r,e),t.lanes=n,t}function Fl(t,e,n,r){return t=It(22,t,r,e),t.elementType=Sy,t.lanes=n,t.stateNode={isHidden:!1},t}function Zu(t,e,n){return t=It(6,t,null,e),t.lanes=n,t}function ec(t,e,n){return e=It(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function MT(t,e,n,r,o){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Du(0),this.expirationTimes=Du(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Du(0),this.identifierPrefix=r,this.onRecoverableError=o,this.mutableSourceEagerHydrationData=null}function Xh(t,e,n,r,o,i,s,a,l){return t=new MT(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=It(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Dh(i),t}function OT(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gr,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function m1(t){if(!t)return Kn;t=t._reactInternals;e:{if(Vr(t)!==t||t.tag!==1)throw Error(P(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(at(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(P(171))}if(t.tag===1){var n=t.type;if(at(n))return pv(t,n,e)}return e}function g1(t,e,n,r,o,i,s,a,l){return t=Xh(n,r,!0,t,o,i,s,a,l),t.context=m1(null),n=t.current,r=et(),o=Un(n),i=hn(r,o),i.callback=e??null,jn(n,i,o),t.current.lanes=o,vs(t,o,r),lt(t,r),t}function jl(t,e,n,r){var o=e.current,i=et(),s=Un(o);return n=m1(n),e.context===null?e.context=n:e.pendingContext=n,e=hn(i,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=jn(o,e,s),t!==null&&(Lt(t,o,s,i),Ea(t,o,s)),s}function nl(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Am(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Jh(t,e){Am(t,e),(t=t.alternate)&&Am(t,e)}function LT(){return null}var y1=typeof reportError=="function"?reportError:function(t){console.error(t)};function Zh(t){this._internalRoot=t}zl.prototype.render=Zh.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(P(409));jl(t,e,null,null)};zl.prototype.unmount=Zh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;xr(function(){jl(null,t,null,null)}),e[yn]=null}};function zl(t){this._internalRoot=t}zl.prototype.unstable_scheduleHydration=function(t){if(t){var e=qy();t={blockedOn:null,target:t,priority:e};for(var n=0;n<kn.length&&e!==0&&e<kn[n].priority;n++);kn.splice(n,0,t),n===0&&Qy(t)}};function ef(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ul(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Rm(){}function FT(t,e,n,r,o){if(o){if(typeof r=="function"){var i=r;r=function(){var u=nl(s);i.call(u)}}var s=g1(e,r,t,0,null,!1,!1,"",Rm);return t._reactRootContainer=s,t[yn]=s.current,ji(t.nodeType===8?t.parentNode:t),xr(),s}for(;o=t.lastChild;)t.removeChild(o);if(typeof r=="function"){var a=r;r=function(){var u=nl(l);a.call(u)}}var l=Xh(t,0,!1,null,null,!1,!1,"",Rm);return t._reactRootContainer=l,t[yn]=l.current,ji(t.nodeType===8?t.parentNode:t),xr(function(){jl(e,l,n,r)}),l}function Bl(t,e,n,r,o){var i=n._reactRootContainer;if(i){var s=i;if(typeof o=="function"){var a=o;o=function(){var l=nl(s);a.call(l)}}jl(e,s,t,o)}else s=FT(n,e,t,o,r);return nl(s)}Wy=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=ui(e.pendingLanes);n!==0&&(_h(e,n|1),lt(e,_e()),!(J&6)&&(To=_e()+500,nr()))}break;case 13:xr(function(){var r=vn(t,1);if(r!==null){var o=et();Lt(r,t,1,o)}}),Jh(t,1)}};wh=function(t){if(t.tag===13){var e=vn(t,134217728);if(e!==null){var n=et();Lt(e,t,134217728,n)}Jh(t,134217728)}};Gy=function(t){if(t.tag===13){var e=Un(t),n=vn(t,e);if(n!==null){var r=et();Lt(n,t,e,r)}Jh(t,e)}};qy=function(){return ee};Ky=function(t,e){var n=ee;try{return ee=t,e()}finally{ee=n}};Oc=function(t,e,n){switch(e){case"input":if(bc(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=Nl(r);if(!o)throw Error(P(90));Iy(r),bc(r,o)}}}break;case"textarea":Ry(t,n);break;case"select":e=n.value,e!=null&&io(t,!!n.multiple,e,!1)}};Dy=qh;Vy=xr;var jT={usingClientEntryPoint:!1,Events:[ws,Xr,Nl,$y,Ny,qh]},ti={findFiberByHostInstance:fr,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},zT={bundleType:ti.bundleType,version:ti.version,rendererPackageName:ti.rendererPackageName,rendererConfig:ti.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Sn.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Ly(t),t===null?null:t.stateNode},findFiberByHostInstance:ti.findFiberByHostInstance||LT,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var na=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!na.isDisabled&&na.supportsFiber)try{Pl=na.inject(zT),Yt=na}catch{}}vt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=jT;vt.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ef(e))throw Error(P(200));return OT(t,e,null,n)};vt.createRoot=function(t,e){if(!ef(t))throw Error(P(299));var n=!1,r="",o=y1;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(o=e.onRecoverableError)),e=Xh(t,1,!1,null,null,n,!1,r,o),t[yn]=e.current,ji(t.nodeType===8?t.parentNode:t),new Zh(e)};vt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(P(188)):(t=Object.keys(t).join(","),Error(P(268,t)));return t=Ly(e),t=t===null?null:t.stateNode,t};vt.flushSync=function(t){return xr(t)};vt.hydrate=function(t,e,n){if(!Ul(e))throw Error(P(200));return Bl(null,t,e,!0,n)};vt.hydrateRoot=function(t,e,n){if(!ef(t))throw Error(P(405));var r=n!=null&&n.hydratedSources||null,o=!1,i="",s=y1;if(n!=null&&(n.unstable_strictMode===!0&&(o=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=g1(e,null,t,1,n??null,o,!1,i,s),t[yn]=e.current,ji(t),r)for(t=0;t<r.length;t++)n=r[t],o=n._getVersion,o=o(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,o]:e.mutableSourceEagerHydrationData.push(n,o);return new zl(e)};vt.render=function(t,e,n){if(!Ul(e))throw Error(P(200));return Bl(null,t,e,!1,n)};vt.unmountComponentAtNode=function(t){if(!Ul(t))throw Error(P(40));return t._reactRootContainer?(xr(function(){Bl(null,null,t,!1,function(){t._reactRootContainer=null,t[yn]=null})}),!0):!1};vt.unstable_batchedUpdates=qh;vt.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Ul(n))throw Error(P(200));if(t==null||t._reactInternals===void 0)throw Error(P(38));return Bl(t,e,n,!1,r)};vt.version="18.2.0-next-9e3b772b8-20220608";function v1(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(v1)}catch(t){console.error(t)}}v1(),gy.exports=vt;var _1=gy.exports,xm=_1;Sc.createRoot=xm.createRoot,Sc.hydrateRoot=xm.hydrateRoot;/**
 * @license lucide-react v0.352.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var UT={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.352.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BT=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.352.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ts=(t,e)=>{const n=v.forwardRef(({color:r="currentColor",size:o=24,strokeWidth:i=2,absoluteStrokeWidth:s,className:a="",children:l,...u},c)=>v.createElement("svg",{ref:c,...UT,width:o,height:o,stroke:r,strokeWidth:s?Number(i)*24/Number(o):i,className:["lucide",`lucide-${BT(t)}`,a].join(" "),...u},[...e.map(([d,h])=>v.createElement(d,h)),...Array.isArray(l)?l:[l]]));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.352.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HT=Ts("CheckCheck",[["path",{d:"M18 6 7 17l-5-5",key:"116fxf"}],["path",{d:"m22 10-7.5 7.5L13 16",key:"ke71qq"}]]);/**
 * @license lucide-react v0.352.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WT=Ts("Loader",[["line",{x1:"12",x2:"12",y1:"2",y2:"6",key:"gza1u7"}],["line",{x1:"12",x2:"12",y1:"18",y2:"22",key:"1qhbu9"}],["line",{x1:"4.93",x2:"7.76",y1:"4.93",y2:"7.76",key:"xae44r"}],["line",{x1:"16.24",x2:"19.07",y1:"16.24",y2:"19.07",key:"bxnmvf"}],["line",{x1:"2",x2:"6",y1:"12",y2:"12",key:"89khin"}],["line",{x1:"18",x2:"22",y1:"12",y2:"12",key:"pb8tfm"}],["line",{x1:"4.93",x2:"7.76",y1:"19.07",y2:"16.24",key:"1uxjnu"}],["line",{x1:"16.24",x2:"19.07",y1:"7.76",y2:"4.93",key:"6duxfx"}]]);/**
 * @license lucide-react v0.352.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pm=Ts("Moon",[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]]);/**
 * @license lucide-react v0.352.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bm=Ts("Sun",[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]]);/**
 * @license lucide-react v0.352.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GT=Ts("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);function F(){return F=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},F.apply(this,arguments)}function qT(t,e){typeof t=="function"?t(e):t!=null&&(t.current=e)}function w1(...t){return e=>t.forEach(n=>qT(n,e))}function Pt(...t){return v.useCallback(w1(...t),t)}const Qi=v.forwardRef((t,e)=>{const{children:n,...r}=t,o=v.Children.toArray(n),i=o.find(QT);if(i){const s=i.props.children,a=o.map(l=>l===i?v.Children.count(s)>1?v.Children.only(null):v.isValidElement(s)?s.props.children:null:l);return v.createElement(gd,F({},r,{ref:e}),v.isValidElement(s)?v.cloneElement(s,void 0,a):null)}return v.createElement(gd,F({},r,{ref:e}),n)});Qi.displayName="Slot";const gd=v.forwardRef((t,e)=>{const{children:n,...r}=t;return v.isValidElement(n)?v.cloneElement(n,{...YT(r,n.props),ref:e?w1(e,n.ref):n.ref}):v.Children.count(n)>1?v.Children.only(null):null});gd.displayName="SlotClone";const KT=({children:t})=>v.createElement(v.Fragment,null,t);function QT(t){return v.isValidElement(t)&&t.type===KT}function YT(t,e){const n={...e};for(const r in e){const o=t[r],i=e[r];/^on[A-Z]/.test(r)?o&&i?n[r]=(...a)=>{i(...a),o(...a)}:o&&(n[r]=o):r==="style"?n[r]={...o,...i}:r==="className"&&(n[r]=[o,i].filter(Boolean).join(" "))}return{...t,...n}}function E1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(n=E1(t[e]))&&(r&&(r+=" "),r+=n);else for(e in t)t[e]&&(r&&(r+=" "),r+=e);return r}function XT(){for(var t,e,n=0,r="";n<arguments.length;)(t=arguments[n++])&&(e=E1(t))&&(r&&(r+=" "),r+=e);return r}const km=t=>typeof t=="boolean"?"".concat(t):t===0?"0":t,$m=XT,tf=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return $m(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:o,defaultVariants:i}=e,s=Object.keys(o).map(u=>{const c=n==null?void 0:n[u],d=i==null?void 0:i[u];if(c===null)return null;const h=km(c)||km(d);return o[u][h]}),a=n&&Object.entries(n).reduce((u,c)=>{let[d,h]=c;return h===void 0||(u[d]=h),u},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((u,c)=>{let{class:d,className:h,...p}=c;return Object.entries(p).every(y=>{let[_,E]=y;return Array.isArray(E)?E.includes({...i,...a}[_]):{...i,...a}[_]===E})?[...u,d,h]:u},[]);return $m(t,s,l,n==null?void 0:n.class,n==null?void 0:n.className)};function T1(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var o=t.length;for(e=0;e<o;e++)t[e]&&(n=T1(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function Yi(){for(var t,e,n=0,r="",o=arguments.length;n<o;n++)(t=arguments[n])&&(e=T1(t))&&(r&&(r+=" "),r+=e);return r}const nf="-";function JT(t){const e=eS(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;function o(s){const a=s.split(nf);return a[0]===""&&a.length!==1&&a.shift(),S1(a,e)||ZT(s)}function i(s,a){const l=n[s]||[];return a&&r[s]?[...l,...r[s]]:l}return{getClassGroupId:o,getConflictingClassGroupIds:i}}function S1(t,e){var s;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),o=r?S1(t.slice(1),r):void 0;if(o)return o;if(e.validators.length===0)return;const i=t.join(nf);return(s=e.validators.find(({validator:a})=>a(i)))==null?void 0:s.classGroupId}const Nm=/^\[(.+)\]$/;function ZT(t){if(Nm.test(t)){const e=Nm.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}}function eS(t){const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return nS(Object.entries(t.classGroups),n).forEach(([i,s])=>{yd(s,r,i,e)}),r}function yd(t,e,n,r){t.forEach(o=>{if(typeof o=="string"){const i=o===""?e:Dm(e,o);i.classGroupId=n;return}if(typeof o=="function"){if(tS(o)){yd(o(r),e,n,r);return}e.validators.push({validator:o,classGroupId:n});return}Object.entries(o).forEach(([i,s])=>{yd(s,Dm(e,i),n,r)})})}function Dm(t,e){let n=t;return e.split(nf).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n}function tS(t){return t.isThemeGetter}function nS(t,e){return e?t.map(([n,r])=>{const o=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([s,a])=>[e+s,a])):i);return[n,o]}):t}function rS(t){if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;function o(i,s){n.set(i,s),e++,e>t&&(e=0,r=n,n=new Map)}return{get(i){let s=n.get(i);if(s!==void 0)return s;if((s=r.get(i))!==void 0)return o(i,s),s},set(i,s){n.has(i)?n.set(i,s):o(i,s)}}}const C1="!";function oS(t){const e=t.separator,n=e.length===1,r=e[0],o=e.length;return function(s){const a=[];let l=0,u=0,c;for(let _=0;_<s.length;_++){let E=s[_];if(l===0){if(E===r&&(n||s.slice(_,_+o)===e)){a.push(s.slice(u,_)),u=_+o;continue}if(E==="/"){c=_;continue}}E==="["?l++:E==="]"&&l--}const d=a.length===0?s:s.substring(u),h=d.startsWith(C1),p=h?d.substring(1):d,y=c&&c>u?c-u:void 0;return{modifiers:a,hasImportantModifier:h,baseClassName:p,maybePostfixModifierPosition:y}}}function iS(t){if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e}function sS(t){return{cache:rS(t.cacheSize),splitModifiers:oS(t),...JT(t)}}const aS=/\s+/;function lS(t,e){const{splitModifiers:n,getClassGroupId:r,getConflictingClassGroupIds:o}=e,i=new Set;return t.trim().split(aS).map(s=>{const{modifiers:a,hasImportantModifier:l,baseClassName:u,maybePostfixModifierPosition:c}=n(s);let d=r(c?u.substring(0,c):u),h=!!c;if(!d){if(!c)return{isTailwindClass:!1,originalClassName:s};if(d=r(u),!d)return{isTailwindClass:!1,originalClassName:s};h=!1}const p=iS(a).join(":");return{isTailwindClass:!0,modifierId:l?p+C1:p,classGroupId:d,originalClassName:s,hasPostfixModifier:h}}).reverse().filter(s=>{if(!s.isTailwindClass)return!0;const{modifierId:a,classGroupId:l,hasPostfixModifier:u}=s,c=a+l;return i.has(c)?!1:(i.add(c),o(l,u).forEach(d=>i.add(a+d)),!0)}).reverse().map(s=>s.originalClassName).join(" ")}function uS(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=I1(e))&&(r&&(r+=" "),r+=n);return r}function I1(t){if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=I1(t[r]))&&(n&&(n+=" "),n+=e);return n}function cS(t,...e){let n,r,o,i=s;function s(l){const u=e.reduce((c,d)=>d(c),t());return n=sS(u),r=n.cache.get,o=n.cache.set,i=a,a(l)}function a(l){const u=r(l);if(u)return u;const c=lS(l,n);return o(l,c),c}return function(){return i(uS.apply(null,arguments))}}function se(t){const e=n=>n[t]||[];return e.isThemeGetter=!0,e}const A1=/^\[(?:([a-z-]+):)?(.+)\]$/i,dS=/^\d+\/\d+$/,hS=new Set(["px","full","screen"]),fS=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,pS=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,mS=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,gS=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,yS=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/;function sn(t){return gr(t)||hS.has(t)||dS.test(t)}function Rn(t){return Oo(t,"length",IS)}function gr(t){return!!t&&!Number.isNaN(Number(t))}function ra(t){return Oo(t,"number",gr)}function ni(t){return!!t&&Number.isInteger(Number(t))}function vS(t){return t.endsWith("%")&&gr(t.slice(0,-1))}function G(t){return A1.test(t)}function xn(t){return fS.test(t)}const _S=new Set(["length","size","percentage"]);function wS(t){return Oo(t,_S,R1)}function ES(t){return Oo(t,"position",R1)}const TS=new Set(["image","url"]);function SS(t){return Oo(t,TS,RS)}function CS(t){return Oo(t,"",AS)}function ri(){return!0}function Oo(t,e,n){const r=A1.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1}function IS(t){return pS.test(t)&&!mS.test(t)}function R1(){return!1}function AS(t){return gS.test(t)}function RS(t){return yS.test(t)}function xS(){const t=se("colors"),e=se("spacing"),n=se("blur"),r=se("brightness"),o=se("borderColor"),i=se("borderRadius"),s=se("borderSpacing"),a=se("borderWidth"),l=se("contrast"),u=se("grayscale"),c=se("hueRotate"),d=se("invert"),h=se("gap"),p=se("gradientColorStops"),y=se("gradientColorStopPositions"),_=se("inset"),E=se("margin"),m=se("opacity"),f=se("padding"),g=se("saturate"),w=se("scale"),S=se("sepia"),C=se("skew"),I=se("space"),R=se("translate"),M=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],re=()=>["auto",G,e],Y=()=>[G,e],rn=()=>["",sn,Rn],on=()=>["auto",gr,G],wt=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],In=()=>["solid","dashed","dotted","double","none"],jr=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"],$=()=>["start","end","center","between","around","evenly","stretch"],j=()=>["","0",G],W=()=>["auto","avoid","all","avoid-page","page","left","right","column"],ne=()=>[gr,ra],he=()=>[gr,G];return{cacheSize:500,separator:":",theme:{colors:[ri],spacing:[sn,Rn],blur:["none","",xn,G],brightness:ne(),borderColor:[t],borderRadius:["none","","full",xn,G],borderSpacing:Y(),borderWidth:rn(),contrast:ne(),grayscale:j(),hueRotate:he(),invert:j(),gap:Y(),gradientColorStops:[t],gradientColorStopPositions:[vS,Rn],inset:re(),margin:re(),opacity:ne(),padding:Y(),saturate:ne(),scale:ne(),sepia:j(),skew:he(),space:Y(),translate:Y()},classGroups:{aspect:[{aspect:["auto","square","video",G]}],container:["container"],columns:[{columns:[xn]}],"break-after":[{"break-after":W()}],"break-before":[{"break-before":W()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...wt(),G]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ni,G]}],basis:[{basis:re()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",G]}],grow:[{grow:j()}],shrink:[{shrink:j()}],order:[{order:["first","last","none",ni,G]}],"grid-cols":[{"grid-cols":[ri]}],"col-start-end":[{col:["auto",{span:["full",ni,G]},G]}],"col-start":[{"col-start":on()}],"col-end":[{"col-end":on()}],"grid-rows":[{"grid-rows":[ri]}],"row-start-end":[{row:["auto",{span:[ni,G]},G]}],"row-start":[{"row-start":on()}],"row-end":[{"row-end":on()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",G]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",G]}],gap:[{gap:[h]}],"gap-x":[{"gap-x":[h]}],"gap-y":[{"gap-y":[h]}],"justify-content":[{justify:["normal",...$()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...$(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...$(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[f]}],px:[{px:[f]}],py:[{py:[f]}],ps:[{ps:[f]}],pe:[{pe:[f]}],pt:[{pt:[f]}],pr:[{pr:[f]}],pb:[{pb:[f]}],pl:[{pl:[f]}],m:[{m:[E]}],mx:[{mx:[E]}],my:[{my:[E]}],ms:[{ms:[E]}],me:[{me:[E]}],mt:[{mt:[E]}],mr:[{mr:[E]}],mb:[{mb:[E]}],ml:[{ml:[E]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",G,e]}],"min-w":[{"min-w":[G,e,"min","max","fit"]}],"max-w":[{"max-w":[G,e,"none","full","min","max","fit","prose",{screen:[xn]},xn]}],h:[{h:[G,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[G,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[G,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[G,e,"auto","min","max","fit"]}],"font-size":[{text:["base",xn,Rn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ra]}],"font-family":[{font:[ri]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",G]}],"line-clamp":[{"line-clamp":["none",gr,ra]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",sn,G]}],"list-image":[{"list-image":["none",G]}],"list-style-type":[{list:["none","disc","decimal",G]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[m]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[m]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...In(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",sn,Rn]}],"underline-offset":[{"underline-offset":["auto",sn,G]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:Y()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",G]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",G]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[m]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...wt(),ES]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",wS]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},SS]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[y]}],"gradient-via-pos":[{via:[y]}],"gradient-to-pos":[{to:[y]}],"gradient-from":[{from:[p]}],"gradient-via":[{via:[p]}],"gradient-to":[{to:[p]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[m]}],"border-style":[{border:[...In(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[m]}],"divide-style":[{divide:In()}],"border-color":[{border:[o]}],"border-color-x":[{"border-x":[o]}],"border-color-y":[{"border-y":[o]}],"border-color-t":[{"border-t":[o]}],"border-color-r":[{"border-r":[o]}],"border-color-b":[{"border-b":[o]}],"border-color-l":[{"border-l":[o]}],"divide-color":[{divide:[o]}],"outline-style":[{outline:["",...In()]}],"outline-offset":[{"outline-offset":[sn,G]}],"outline-w":[{outline:[sn,Rn]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:rn()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[m]}],"ring-offset-w":[{"ring-offset":[sn,Rn]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",xn,CS]}],"shadow-color":[{shadow:[ri]}],opacity:[{opacity:[m]}],"mix-blend":[{"mix-blend":jr()}],"bg-blend":[{"bg-blend":jr()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",xn,G]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[c]}],invert:[{invert:[d]}],saturate:[{saturate:[g]}],sepia:[{sepia:[S]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[c]}],"backdrop-invert":[{"backdrop-invert":[d]}],"backdrop-opacity":[{"backdrop-opacity":[m]}],"backdrop-saturate":[{"backdrop-saturate":[g]}],"backdrop-sepia":[{"backdrop-sepia":[S]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[s]}],"border-spacing-x":[{"border-spacing-x":[s]}],"border-spacing-y":[{"border-spacing-y":[s]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",G]}],duration:[{duration:he()}],ease:[{ease:["linear","in","out","in-out",G]}],delay:[{delay:he()}],animate:[{animate:["none","spin","ping","pulse","bounce",G]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[ni,G]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[C]}],"skew-y":[{"skew-y":[C]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",G]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",G]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":Y()}],"scroll-mx":[{"scroll-mx":Y()}],"scroll-my":[{"scroll-my":Y()}],"scroll-ms":[{"scroll-ms":Y()}],"scroll-me":[{"scroll-me":Y()}],"scroll-mt":[{"scroll-mt":Y()}],"scroll-mr":[{"scroll-mr":Y()}],"scroll-mb":[{"scroll-mb":Y()}],"scroll-ml":[{"scroll-ml":Y()}],"scroll-p":[{"scroll-p":Y()}],"scroll-px":[{"scroll-px":Y()}],"scroll-py":[{"scroll-py":Y()}],"scroll-ps":[{"scroll-ps":Y()}],"scroll-pe":[{"scroll-pe":Y()}],"scroll-pt":[{"scroll-pt":Y()}],"scroll-pr":[{"scroll-pr":Y()}],"scroll-pb":[{"scroll-pb":Y()}],"scroll-pl":[{"scroll-pl":Y()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",G]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[sn,Rn,ra]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}const PS=cS(xS);function Ut(...t){return PS(Yi(t))}const bS=tf("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50",{variants:{variant:{default:"bg-primary text-primary-foreground shadow hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground shadow-sm hover:bg-destructive/90",outline:"border border-input bg-background shadow-sm hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground shadow-sm hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),So=v.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...o},i)=>{const s=r?Qi:"button";return x.jsx(s,{className:Ut(bS({variant:e,size:n,className:t})),ref:i,...o})});So.displayName="Button";const kS={theme:"system",setTheme:()=>null},x1=v.createContext(kS);function $S({children:t,defaultTheme:e="system",storageKey:n="app-ui-theme",...r}){const[o,i]=v.useState(()=>localStorage.getItem(n)||e);v.useEffect(()=>{const a=window.document.documentElement;if(a.classList.remove("light","dark"),o!=="system"&&(a.style.colorScheme=o),o==="system"){const l=window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light";a.classList.add(l),a.style.colorScheme=l;return}a.classList.add(o)},[o]);const s={theme:o,setTheme:a=>{localStorage.setItem(n,a),i(a)}};return x.jsx(x1.Provider,{...r,value:s,children:t})}const NS=()=>{const t=v.useContext(x1);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t};function DS(){const{theme:t,setTheme:e}=NS(),[n,r]=v.useState(!1),[o,i]=v.useState(!1),s=["dark","light","system"],a=()=>{r(!0)},l=()=>{i(!0),setTimeout(()=>{r(!1),i(!1)},200)},u=p=>{e(p)},c=()=>s.filter(y=>y!==t).map(y=>x.jsx(So,{variant:"ghost",size:"icon",onClick:()=>u(y),children:y==="dark"?x.jsx(Pm,{className:"h-[1.2rem] w-[1.2rem] transition-all"}):y==="light"?x.jsx(bm,{className:"h-[1.2rem] w-[1.2rem] transition-all"}):x.jsx("span",{children:"A"})})),d=Yi("mode-toggle-container",{"gap-2.5":n&&!o}),h=Yi("other-modes",{hiding:o});return x.jsxs("div",{className:d,onMouseLeave:l,children:[x.jsxs(So,{variant:"secondary",size:"icon",onClick:a,children:[t==="system"?x.jsx("span",{children:"A"}):x.jsxs(x.Fragment,{children:[x.jsx(bm,{className:"h-[1.2rem] w-[1.2rem] rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0"}),x.jsx(Pm,{className:"absolute h-[1.2rem] w-[1.2rem] rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100"})]}),x.jsx("span",{className:"sr-only",children:"Toggle theme"})]}),n?x.jsx("div",{className:h,children:c()}):x.jsx(x.Fragment,{})]})}const VS=()=>x.jsx("header",{className:"sticky top-0 z-50 w-full border-b border-border/40 bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:x.jsxs("nav",{className:"container flex h-14 max-w-screen-2xl items-center",children:[x.jsx("div",{className:"mr-4 hidden md:flex",children:x.jsx("span",{className:"font-bold tracking-widest text-xl",children:"TODO"})}),x.jsx("div",{className:"flex flex-1 items-center justify-between space-x-2 md:justify-end",children:x.jsx(DS,{})})]})}),MS=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],tt=MS.reduce((t,e)=>{const n=v.forwardRef((r,o)=>{const{asChild:i,...s}=r,a=i?Qi:e;return v.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),v.createElement(a,F({},s,{ref:o}))});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),Xi=globalThis!=null&&globalThis.document?v.useLayoutEffect:()=>{};function OS(t,e){return v.useReducer((n,r)=>{const o=e[n][r];return o??n},t)}const Lo=t=>{const{present:e,children:n}=t,r=LS(e),o=typeof n=="function"?n({present:r.isPresent}):v.Children.only(n),i=Pt(r.ref,o.ref);return typeof n=="function"||r.isPresent?v.cloneElement(o,{ref:i}):null};Lo.displayName="Presence";function LS(t){const[e,n]=v.useState(),r=v.useRef({}),o=v.useRef(t),i=v.useRef("none"),s=t?"mounted":"unmounted",[a,l]=OS(s,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return v.useEffect(()=>{const u=oa(r.current);i.current=a==="mounted"?u:"none"},[a]),Xi(()=>{const u=r.current,c=o.current;if(c!==t){const h=i.current,p=oa(u);t?l("MOUNT"):p==="none"||(u==null?void 0:u.display)==="none"?l("UNMOUNT"):l(c&&h!==p?"ANIMATION_OUT":"UNMOUNT"),o.current=t}},[t,l]),Xi(()=>{if(e){const u=d=>{const p=oa(r.current).includes(d.animationName);d.target===e&&p&&_1.flushSync(()=>l("ANIMATION_END"))},c=d=>{d.target===e&&(i.current=oa(r.current))};return e.addEventListener("animationstart",c),e.addEventListener("animationcancel",u),e.addEventListener("animationend",u),()=>{e.removeEventListener("animationstart",c),e.removeEventListener("animationcancel",u),e.removeEventListener("animationend",u)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:v.useCallback(u=>{u&&(r.current=getComputedStyle(u)),n(u)},[])}}function oa(t){return(t==null?void 0:t.animationName)||"none"}function Fo(t,e=[]){let n=[];function r(i,s){const a=v.createContext(s),l=n.length;n=[...n,s];function u(d){const{scope:h,children:p,...y}=d,_=(h==null?void 0:h[t][l])||a,E=v.useMemo(()=>y,Object.values(y));return v.createElement(_.Provider,{value:E},p)}function c(d,h){const p=(h==null?void 0:h[t][l])||a,y=v.useContext(p);if(y)return y;if(s!==void 0)return s;throw new Error(`\`${d}\` must be used within \`${i}\``)}return u.displayName=i+"Provider",[u,c]}const o=()=>{const i=n.map(s=>v.createContext(s));return function(a){const l=(a==null?void 0:a[t])||i;return v.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return o.scopeName=t,[r,FS(o,...e)]}function FS(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(o=>({useScope:o(),scopeName:o.scopeName}));return function(i){const s=r.reduce((a,{useScope:l,scopeName:u})=>{const d=l(i)[`__scope${u}`];return{...a,...d}},{});return v.useMemo(()=>({[`__scope${e.scopeName}`]:s}),[s])}};return n.scopeName=e.scopeName,n}function Gt(t){const e=v.useRef(t);return v.useEffect(()=>{e.current=t}),v.useMemo(()=>(...n)=>{var r;return(r=e.current)===null||r===void 0?void 0:r.call(e,...n)},[])}const jS=v.createContext(void 0);function Hl(t){const e=v.useContext(jS);return t||e||"ltr"}function zS(t,[e,n]){return Math.min(n,Math.max(e,t))}function qe(t,e,{checkForDefaultPrevented:n=!0}={}){return function(o){if(t==null||t(o),n===!1||!o.defaultPrevented)return e==null?void 0:e(o)}}function US(t,e){return v.useReducer((n,r)=>{const o=e[n][r];return o??n},t)}const P1="ScrollArea",[b1,e4]=Fo(P1),[BS,bt]=b1(P1),HS=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,type:r="hover",dir:o,scrollHideDelay:i=600,...s}=t,[a,l]=v.useState(null),[u,c]=v.useState(null),[d,h]=v.useState(null),[p,y]=v.useState(null),[_,E]=v.useState(null),[m,f]=v.useState(0),[g,w]=v.useState(0),[S,C]=v.useState(!1),[I,R]=v.useState(!1),M=Pt(e,re=>l(re)),V=Hl(o);return v.createElement(BS,{scope:n,type:r,dir:V,scrollHideDelay:i,scrollArea:a,viewport:u,onViewportChange:c,content:d,onContentChange:h,scrollbarX:p,onScrollbarXChange:y,scrollbarXEnabled:S,onScrollbarXEnabledChange:C,scrollbarY:_,onScrollbarYChange:E,scrollbarYEnabled:I,onScrollbarYEnabledChange:R,onCornerWidthChange:f,onCornerHeightChange:w},v.createElement(tt.div,F({dir:V},s,{ref:M,style:{position:"relative","--radix-scroll-area-corner-width":m+"px","--radix-scroll-area-corner-height":g+"px",...t.style}})))}),WS="ScrollAreaViewport",GS=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,children:r,...o}=t,i=bt(WS,n),s=v.useRef(null),a=Pt(e,s,i.onViewportChange);return v.createElement(v.Fragment,null,v.createElement("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"}}),v.createElement(tt.div,F({"data-radix-scroll-area-viewport":""},o,{ref:a,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...t.style}}),v.createElement("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"}},r)))}),Cn="ScrollAreaScrollbar",k1=v.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=bt(Cn,t.__scopeScrollArea),{onScrollbarXEnabledChange:i,onScrollbarYEnabledChange:s}=o,a=t.orientation==="horizontal";return v.useEffect(()=>(a?i(!0):s(!0),()=>{a?i(!1):s(!1)}),[a,i,s]),o.type==="hover"?v.createElement(qS,F({},r,{ref:e,forceMount:n})):o.type==="scroll"?v.createElement(KS,F({},r,{ref:e,forceMount:n})):o.type==="auto"?v.createElement($1,F({},r,{ref:e,forceMount:n})):o.type==="always"?v.createElement(rf,F({},r,{ref:e})):null}),qS=v.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=bt(Cn,t.__scopeScrollArea),[i,s]=v.useState(!1);return v.useEffect(()=>{const a=o.scrollArea;let l=0;if(a){const u=()=>{window.clearTimeout(l),s(!0)},c=()=>{l=window.setTimeout(()=>s(!1),o.scrollHideDelay)};return a.addEventListener("pointerenter",u),a.addEventListener("pointerleave",c),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",u),a.removeEventListener("pointerleave",c)}}},[o.scrollArea,o.scrollHideDelay]),v.createElement(Lo,{present:n||i},v.createElement($1,F({"data-state":i?"visible":"hidden"},r,{ref:e})))}),KS=v.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=bt(Cn,t.__scopeScrollArea),i=t.orientation==="horizontal",s=Gl(()=>l("SCROLL_END"),100),[a,l]=US("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return v.useEffect(()=>{if(a==="idle"){const u=window.setTimeout(()=>l("HIDE"),o.scrollHideDelay);return()=>window.clearTimeout(u)}},[a,o.scrollHideDelay,l]),v.useEffect(()=>{const u=o.viewport,c=i?"scrollLeft":"scrollTop";if(u){let d=u[c];const h=()=>{const p=u[c];d!==p&&(l("SCROLL"),s()),d=p};return u.addEventListener("scroll",h),()=>u.removeEventListener("scroll",h)}},[o.viewport,i,l,s]),v.createElement(Lo,{present:n||a!=="hidden"},v.createElement(rf,F({"data-state":a==="hidden"?"hidden":"visible"},r,{ref:e,onPointerEnter:qe(t.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:qe(t.onPointerLeave,()=>l("POINTER_LEAVE"))})))}),$1=v.forwardRef((t,e)=>{const n=bt(Cn,t.__scopeScrollArea),{forceMount:r,...o}=t,[i,s]=v.useState(!1),a=t.orientation==="horizontal",l=Gl(()=>{if(n.viewport){const u=n.viewport.offsetWidth<n.viewport.scrollWidth,c=n.viewport.offsetHeight<n.viewport.scrollHeight;s(a?u:c)}},10);return Co(n.viewport,l),Co(n.content,l),v.createElement(Lo,{present:r||i},v.createElement(rf,F({"data-state":i?"visible":"hidden"},o,{ref:e})))}),rf=v.forwardRef((t,e)=>{const{orientation:n="vertical",...r}=t,o=bt(Cn,t.__scopeScrollArea),i=v.useRef(null),s=v.useRef(0),[a,l]=v.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),u=M1(a.viewport,a.content),c={...r,sizes:a,onSizesChange:l,hasThumb:u>0&&u<1,onThumbChange:h=>i.current=h,onThumbPointerUp:()=>s.current=0,onThumbPointerDown:h=>s.current=h};function d(h,p){return nC(h,s.current,a,p)}return n==="horizontal"?v.createElement(QS,F({},c,{ref:e,onThumbPositionChange:()=>{if(o.viewport&&i.current){const h=o.viewport.scrollLeft,p=Vm(h,a,o.dir);i.current.style.transform=`translate3d(${p}px, 0, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollLeft=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollLeft=d(h,o.dir))}})):n==="vertical"?v.createElement(YS,F({},c,{ref:e,onThumbPositionChange:()=>{if(o.viewport&&i.current){const h=o.viewport.scrollTop,p=Vm(h,a);i.current.style.transform=`translate3d(0, ${p}px, 0)`}},onWheelScroll:h=>{o.viewport&&(o.viewport.scrollTop=h)},onDragScroll:h=>{o.viewport&&(o.viewport.scrollTop=d(h))}})):null}),QS=v.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...o}=t,i=bt(Cn,t.__scopeScrollArea),[s,a]=v.useState(),l=v.useRef(null),u=Pt(e,l,i.onScrollbarXChange);return v.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),v.createElement(D1,F({"data-orientation":"horizontal"},o,{ref:u,sizes:n,style:{bottom:0,left:i.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:i.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":Wl(n)+"px",...t.style},onThumbPointerDown:c=>t.onThumbPointerDown(c.x),onDragScroll:c=>t.onDragScroll(c.x),onWheelScroll:(c,d)=>{if(i.viewport){const h=i.viewport.scrollLeft+c.deltaX;t.onWheelScroll(h),L1(h,d)&&c.preventDefault()}},onResize:()=>{l.current&&i.viewport&&s&&r({content:i.viewport.scrollWidth,viewport:i.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:rl(s.paddingLeft),paddingEnd:rl(s.paddingRight)}})}}))}),YS=v.forwardRef((t,e)=>{const{sizes:n,onSizesChange:r,...o}=t,i=bt(Cn,t.__scopeScrollArea),[s,a]=v.useState(),l=v.useRef(null),u=Pt(e,l,i.onScrollbarYChange);return v.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),v.createElement(D1,F({"data-orientation":"vertical"},o,{ref:u,sizes:n,style:{top:0,right:i.dir==="ltr"?0:void 0,left:i.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":Wl(n)+"px",...t.style},onThumbPointerDown:c=>t.onThumbPointerDown(c.y),onDragScroll:c=>t.onDragScroll(c.y),onWheelScroll:(c,d)=>{if(i.viewport){const h=i.viewport.scrollTop+c.deltaY;t.onWheelScroll(h),L1(h,d)&&c.preventDefault()}},onResize:()=>{l.current&&i.viewport&&s&&r({content:i.viewport.scrollHeight,viewport:i.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:rl(s.paddingTop),paddingEnd:rl(s.paddingBottom)}})}}))}),[XS,N1]=b1(Cn),D1=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:o,onThumbChange:i,onThumbPointerUp:s,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:u,onWheelScroll:c,onResize:d,...h}=t,p=bt(Cn,n),[y,_]=v.useState(null),E=Pt(e,M=>_(M)),m=v.useRef(null),f=v.useRef(""),g=p.viewport,w=r.content-r.viewport,S=Gt(c),C=Gt(l),I=Gl(d,10);function R(M){if(m.current){const V=M.clientX-m.current.left,re=M.clientY-m.current.top;u({x:V,y:re})}}return v.useEffect(()=>{const M=V=>{const re=V.target;(y==null?void 0:y.contains(re))&&S(V,w)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[g,y,w,S]),v.useEffect(C,[r,C]),Co(y,I),Co(p.content,I),v.createElement(XS,{scope:n,scrollbar:y,hasThumb:o,onThumbChange:Gt(i),onThumbPointerUp:Gt(s),onThumbPositionChange:C,onThumbPointerDown:Gt(a)},v.createElement(tt.div,F({},h,{ref:E,style:{position:"absolute",...h.style},onPointerDown:qe(t.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),m.current=y.getBoundingClientRect(),f.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",p.viewport&&(p.viewport.style.scrollBehavior="auto"),R(M))}),onPointerMove:qe(t.onPointerMove,R),onPointerUp:qe(t.onPointerUp,M=>{const V=M.target;V.hasPointerCapture(M.pointerId)&&V.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=f.current,p.viewport&&(p.viewport.style.scrollBehavior=""),m.current=null})})))}),vd="ScrollAreaThumb",JS=v.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=N1(vd,t.__scopeScrollArea);return v.createElement(Lo,{present:n||o.hasThumb},v.createElement(ZS,F({ref:e},r)))}),ZS=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,style:r,...o}=t,i=bt(vd,n),s=N1(vd,n),{onThumbPositionChange:a}=s,l=Pt(e,d=>s.onThumbChange(d)),u=v.useRef(),c=Gl(()=>{u.current&&(u.current(),u.current=void 0)},100);return v.useEffect(()=>{const d=i.viewport;if(d){const h=()=>{if(c(),!u.current){const p=rC(d,a);u.current=p,a()}};return a(),d.addEventListener("scroll",h),()=>d.removeEventListener("scroll",h)}},[i.viewport,c,a]),v.createElement(tt.div,F({"data-state":s.hasThumb?"visible":"hidden"},o,{ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:qe(t.onPointerDownCapture,d=>{const p=d.target.getBoundingClientRect(),y=d.clientX-p.left,_=d.clientY-p.top;s.onThumbPointerDown({x:y,y:_})}),onPointerUp:qe(t.onPointerUp,s.onThumbPointerUp)}))}),V1="ScrollAreaCorner",eC=v.forwardRef((t,e)=>{const n=bt(V1,t.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?v.createElement(tC,F({},t,{ref:e})):null}),tC=v.forwardRef((t,e)=>{const{__scopeScrollArea:n,...r}=t,o=bt(V1,n),[i,s]=v.useState(0),[a,l]=v.useState(0),u=!!(i&&a);return Co(o.scrollbarX,()=>{var c;const d=((c=o.scrollbarX)===null||c===void 0?void 0:c.offsetHeight)||0;o.onCornerHeightChange(d),l(d)}),Co(o.scrollbarY,()=>{var c;const d=((c=o.scrollbarY)===null||c===void 0?void 0:c.offsetWidth)||0;o.onCornerWidthChange(d),s(d)}),u?v.createElement(tt.div,F({},r,{ref:e,style:{width:i,height:a,position:"absolute",right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:0,...t.style}})):null});function rl(t){return t?parseInt(t,10):0}function M1(t,e){const n=t/e;return isNaN(n)?0:n}function Wl(t){const e=M1(t.viewport,t.content),n=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,r=(t.scrollbar.size-n)*e;return Math.max(r,18)}function nC(t,e,n,r="ltr"){const o=Wl(n),i=o/2,s=e||i,a=o-s,l=n.scrollbar.paddingStart+s,u=n.scrollbar.size-n.scrollbar.paddingEnd-a,c=n.content-n.viewport,d=r==="ltr"?[0,c]:[c*-1,0];return O1([l,u],d)(t)}function Vm(t,e,n="ltr"){const r=Wl(e),o=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,i=e.scrollbar.size-o,s=e.content-e.viewport,a=i-r,l=n==="ltr"?[0,s]:[s*-1,0],u=zS(t,l);return O1([0,s],[0,a])(u)}function O1(t,e){return n=>{if(t[0]===t[1]||e[0]===e[1])return e[0];const r=(e[1]-e[0])/(t[1]-t[0]);return e[0]+r*(n-t[0])}}function L1(t,e){return t>0&&t<e}const rC=(t,e=()=>{})=>{let n={left:t.scrollLeft,top:t.scrollTop},r=0;return function o(){const i={left:t.scrollLeft,top:t.scrollTop},s=n.left!==i.left,a=n.top!==i.top;(s||a)&&e(),n=i,r=window.requestAnimationFrame(o)}(),()=>window.cancelAnimationFrame(r)};function Gl(t,e){const n=Gt(t),r=v.useRef(0);return v.useEffect(()=>()=>window.clearTimeout(r.current),[]),v.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,e)},[n,e])}function Co(t,e){const n=Gt(e);Xi(()=>{let r=0;if(t){const o=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return o.observe(t),()=>{window.cancelAnimationFrame(r),o.unobserve(t)}}},[t,n])}const F1=HS,oC=GS,iC=eC,j1=v.forwardRef(({className:t,children:e,...n},r)=>x.jsxs(F1,{ref:r,className:Ut("relative overflow-hidden",t),...n,children:[x.jsx(oC,{className:"h-full w-full rounded-[inherit]",children:e}),x.jsx(z1,{}),x.jsx(iC,{})]}));j1.displayName=F1.displayName;const z1=v.forwardRef(({className:t,orientation:e="vertical",...n},r)=>x.jsx(k1,{ref:r,orientation:e,className:Ut("flex touch-none select-none transition-colors",e==="vertical"&&"h-full w-2.5 border-l border-l-transparent p-[1px]",e==="horizontal"&&"h-2.5 flex-col border-t border-t-transparent p-[1px]",t),...n,children:x.jsx(JS,{className:"relative flex-1 rounded-full bg-border"})}));z1.displayName=k1.displayName;const Mm=["Today","Yesterday","7 Mar"],sC=()=>{const[t,e]=v.useState(Mm[0]),n=()=>Mm.map(r=>x.jsx(So,{variant:t===r?"default":"ghost",onClick:()=>{e(r)},className:"w-full mb-2 justify-start",children:r},r));return x.jsx("aside",{className:"fixed top-14 z-30 -ml-2 hidden h-[calc(100vh-3.5rem)] w-full shrink-0 md:sticky md:block",children:x.jsx(j1,{className:"h-full p-4 py-6 max-w-44",children:n()})})};function of(t,e){if(t==null)return{};var n={},r=Object.keys(t),o,i;for(i=0;i<r.length;i++)o=r[i],!(e.indexOf(o)>=0)&&(n[o]=t[o]);return n}var aC=["color"],lC=v.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,o=of(t,aC);return v.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),v.createElement("path",{d:"M3.13523 6.15803C3.3241 5.95657 3.64052 5.94637 3.84197 6.13523L7.5 9.56464L11.158 6.13523C11.3595 5.94637 11.6759 5.95657 11.8648 6.15803C12.0536 6.35949 12.0434 6.67591 11.842 6.86477L7.84197 10.6148C7.64964 10.7951 7.35036 10.7951 7.15803 10.6148L3.15803 6.86477C2.95657 6.67591 2.94637 6.35949 3.13523 6.15803Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),uC=["color"],cC=v.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,o=of(t,uC);return v.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),v.createElement("path",{d:"M2.8 1L2.74967 0.99997C2.52122 0.999752 2.32429 0.999564 2.14983 1.04145C1.60136 1.17312 1.17312 1.60136 1.04145 2.14983C0.999564 2.32429 0.999752 2.52122 0.99997 2.74967L1 2.8V5.2L0.99997 5.25033C0.999752 5.47878 0.999564 5.67572 1.04145 5.85017C1.17312 6.39864 1.60136 6.82688 2.14983 6.95856C2.32429 7.00044 2.52122 7.00025 2.74967 7.00003L2.8 7H5.2L5.25033 7.00003C5.47878 7.00025 5.67572 7.00044 5.85017 6.95856C6.39864 6.82688 6.82688 6.39864 6.95856 5.85017C7.00044 5.67572 7.00025 5.47878 7.00003 5.25033L7 5.2V2.8L7.00003 2.74967C7.00025 2.52122 7.00044 2.32429 6.95856 2.14983C6.82688 1.60136 6.39864 1.17312 5.85017 1.04145C5.67572 0.999564 5.47878 0.999752 5.25033 0.99997L5.2 1H2.8ZM2.38328 2.01382C2.42632 2.00348 2.49222 2 2.8 2H5.2C5.50779 2 5.57369 2.00348 5.61672 2.01382C5.79955 2.05771 5.94229 2.20045 5.98619 2.38328C5.99652 2.42632 6 2.49222 6 2.8V5.2C6 5.50779 5.99652 5.57369 5.98619 5.61672C5.94229 5.79955 5.79955 5.94229 5.61672 5.98619C5.57369 5.99652 5.50779 6 5.2 6H2.8C2.49222 6 2.42632 5.99652 2.38328 5.98619C2.20045 5.94229 2.05771 5.79955 2.01382 5.61672C2.00348 5.57369 2 5.50779 2 5.2V2.8C2 2.49222 2.00348 2.42632 2.01382 2.38328C2.05771 2.20045 2.20045 2.05771 2.38328 2.01382ZM9.8 1L9.74967 0.99997C9.52122 0.999752 9.32429 0.999564 9.14983 1.04145C8.60136 1.17312 8.17312 1.60136 8.04145 2.14983C7.99956 2.32429 7.99975 2.52122 7.99997 2.74967L8 2.8V5.2L7.99997 5.25033C7.99975 5.47878 7.99956 5.67572 8.04145 5.85017C8.17312 6.39864 8.60136 6.82688 9.14983 6.95856C9.32429 7.00044 9.52122 7.00025 9.74967 7.00003L9.8 7H12.2L12.2503 7.00003C12.4788 7.00025 12.6757 7.00044 12.8502 6.95856C13.3986 6.82688 13.8269 6.39864 13.9586 5.85017C14.0004 5.67572 14.0003 5.47878 14 5.25033L14 5.2V2.8L14 2.74967C14.0003 2.52122 14.0004 2.32429 13.9586 2.14983C13.8269 1.60136 13.3986 1.17312 12.8502 1.04145C12.6757 0.999564 12.4788 0.999752 12.2503 0.99997L12.2 1H9.8ZM9.38328 2.01382C9.42632 2.00348 9.49222 2 9.8 2H12.2C12.5078 2 12.5737 2.00348 12.6167 2.01382C12.7995 2.05771 12.9423 2.20045 12.9862 2.38328C12.9965 2.42632 13 2.49222 13 2.8V5.2C13 5.50779 12.9965 5.57369 12.9862 5.61672C12.9423 5.79955 12.7995 5.94229 12.6167 5.98619C12.5737 5.99652 12.5078 6 12.2 6H9.8C9.49222 6 9.42632 5.99652 9.38328 5.98619C9.20045 5.94229 9.05771 5.79955 9.01382 5.61672C9.00348 5.57369 9 5.50779 9 5.2V2.8C9 2.49222 9.00348 2.42632 9.01382 2.38328C9.05771 2.20045 9.20045 2.05771 9.38328 2.01382ZM2.74967 7.99997L2.8 8H5.2L5.25033 7.99997C5.47878 7.99975 5.67572 7.99956 5.85017 8.04145C6.39864 8.17312 6.82688 8.60136 6.95856 9.14983C7.00044 9.32429 7.00025 9.52122 7.00003 9.74967L7 9.8V12.2L7.00003 12.2503C7.00025 12.4788 7.00044 12.6757 6.95856 12.8502C6.82688 13.3986 6.39864 13.8269 5.85017 13.9586C5.67572 14.0004 5.47878 14.0003 5.25033 14L5.2 14H2.8L2.74967 14C2.52122 14.0003 2.32429 14.0004 2.14983 13.9586C1.60136 13.8269 1.17312 13.3986 1.04145 12.8502C0.999564 12.6757 0.999752 12.4788 0.99997 12.2503L1 12.2V9.8L0.99997 9.74967C0.999752 9.52122 0.999564 9.32429 1.04145 9.14983C1.17312 8.60136 1.60136 8.17312 2.14983 8.04145C2.32429 7.99956 2.52122 7.99975 2.74967 7.99997ZM2.8 9C2.49222 9 2.42632 9.00348 2.38328 9.01382C2.20045 9.05771 2.05771 9.20045 2.01382 9.38328C2.00348 9.42632 2 9.49222 2 9.8V12.2C2 12.5078 2.00348 12.5737 2.01382 12.6167C2.05771 12.7995 2.20045 12.9423 2.38328 12.9862C2.42632 12.9965 2.49222 13 2.8 13H5.2C5.50779 13 5.57369 12.9965 5.61672 12.9862C5.79955 12.9423 5.94229 12.7995 5.98619 12.6167C5.99652 12.5737 6 12.5078 6 12.2V9.8C6 9.49222 5.99652 9.42632 5.98619 9.38328C5.94229 9.20045 5.79955 9.05771 5.61672 9.01382C5.57369 9.00348 5.50779 9 5.2 9H2.8ZM9.8 8L9.74967 7.99997C9.52122 7.99975 9.32429 7.99956 9.14983 8.04145C8.60136 8.17312 8.17312 8.60136 8.04145 9.14983C7.99956 9.32429 7.99975 9.52122 7.99997 9.74967L8 9.8V12.2L7.99997 12.2503C7.99975 12.4788 7.99956 12.6757 8.04145 12.8502C8.17312 13.3986 8.60136 13.8269 9.14983 13.9586C9.32429 14.0004 9.52122 14.0003 9.74967 14L9.8 14H12.2L12.2503 14C12.4788 14.0003 12.6757 14.0004 12.8502 13.9586C13.3986 13.8269 13.8269 13.3986 13.9586 12.8502C14.0004 12.6757 14.0003 12.4788 14 12.2503L14 12.2V9.8L14 9.74967C14.0003 9.52122 14.0004 9.32429 13.9586 9.14983C13.8269 8.60136 13.3986 8.17312 12.8502 8.04145C12.6757 7.99956 12.4788 7.99975 12.2503 7.99997L12.2 8H9.8ZM9.38328 9.01382C9.42632 9.00348 9.49222 9 9.8 9H12.2C12.5078 9 12.5737 9.00348 12.6167 9.01382C12.7995 9.05771 12.9423 9.20045 12.9862 9.38328C12.9965 9.42632 13 9.49222 13 9.8V12.2C13 12.5078 12.9965 12.5737 12.9862 12.6167C12.9423 12.7995 12.7995 12.9423 12.6167 12.9862C12.5737 12.9965 12.5078 13 12.2 13H9.8C9.49222 13 9.42632 12.9965 9.38328 12.9862C9.20045 12.9423 9.05771 12.7995 9.01382 12.6167C9.00348 12.5737 9 12.5078 9 12.2V9.8C9 9.49222 9.00348 9.42632 9.01382 9.38328C9.05771 9.20045 9.20045 9.05771 9.38328 9.01382Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))}),dC=["color"],hC=v.forwardRef(function(t,e){var n=t.color,r=n===void 0?"currentColor":n,o=of(t,dC);return v.createElement("svg",Object.assign({width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg"},o,{ref:e}),v.createElement("path",{d:"M1.5 5.25C1.91421 5.25 2.25 4.91421 2.25 4.5C2.25 4.08579 1.91421 3.75 1.5 3.75C1.08579 3.75 0.75 4.08579 0.75 4.5C0.75 4.91421 1.08579 5.25 1.5 5.25ZM4 4.5C4 4.22386 4.22386 4 4.5 4H13.5C13.7761 4 14 4.22386 14 4.5C14 4.77614 13.7761 5 13.5 5H4.5C4.22386 5 4 4.77614 4 4.5ZM4.5 7C4.22386 7 4 7.22386 4 7.5C4 7.77614 4.22386 8 4.5 8H13.5C13.7761 8 14 7.77614 14 7.5C14 7.22386 13.7761 7 13.5 7H4.5ZM4.5 10C4.22386 10 4 10.2239 4 10.5C4 10.7761 4.22386 11 4.5 11H13.5C13.7761 11 14 10.7761 14 10.5C14 10.2239 13.7761 10 13.5 10H4.5ZM2.25 7.5C2.25 7.91421 1.91421 8.25 1.5 8.25C1.08579 8.25 0.75 7.91421 0.75 7.5C0.75 7.08579 1.08579 6.75 1.5 6.75C1.91421 6.75 2.25 7.08579 2.25 7.5ZM1.5 11.25C1.91421 11.25 2.25 10.9142 2.25 10.5C2.25 10.0858 1.91421 9.75 1.5 9.75C1.08579 9.75 0.75 10.0858 0.75 10.5C0.75 10.9142 1.08579 11.25 1.5 11.25Z",fill:r,fillRule:"evenodd",clipRule:"evenodd"}))});function U1(t){const e=t+"CollectionProvider",[n,r]=Fo(e),[o,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),s=p=>{const{scope:y,children:_}=p,E=N.useRef(null),m=N.useRef(new Map).current;return N.createElement(o,{scope:y,itemMap:m,collectionRef:E},_)},a=t+"CollectionSlot",l=N.forwardRef((p,y)=>{const{scope:_,children:E}=p,m=i(a,_),f=Pt(y,m.collectionRef);return N.createElement(Qi,{ref:f},E)}),u=t+"CollectionItemSlot",c="data-radix-collection-item",d=N.forwardRef((p,y)=>{const{scope:_,children:E,...m}=p,f=N.useRef(null),g=Pt(y,f),w=i(u,_);return N.useEffect(()=>(w.itemMap.set(f,{ref:f,...m}),()=>void w.itemMap.delete(f))),N.createElement(Qi,{[c]:"",ref:g},E)});function h(p){const y=i(t+"CollectionConsumer",p);return N.useCallback(()=>{const E=y.collectionRef.current;if(!E)return[];const m=Array.from(E.querySelectorAll(`[${c}]`));return Array.from(y.itemMap.values()).sort((w,S)=>m.indexOf(w.ref.current)-m.indexOf(S.ref.current))},[y.collectionRef,y.itemMap])}return[{Provider:s,Slot:l,ItemSlot:d},h,r]}const fC=Tc.useId||(()=>{});let pC=0;function sf(t){const[e,n]=v.useState(fC());return Xi(()=>{t||n(r=>r??String(pC++))},[t]),t||(e?`radix-${e}`:"")}function Mr({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,o]=mC({defaultProp:e,onChange:n}),i=t!==void 0,s=i?t:r,a=Gt(n),l=v.useCallback(u=>{if(i){const d=typeof u=="function"?u(t):u;d!==t&&a(d)}else o(u)},[i,t,o,a]);return[s,l]}function mC({defaultProp:t,onChange:e}){const n=v.useState(t),[r]=n,o=v.useRef(r),i=Gt(e);return v.useEffect(()=>{o.current!==r&&(i(r),o.current=r)},[r,o,i]),n}const tc="rovingFocusGroup.onEntryFocus",gC={bubbles:!1,cancelable:!0},af="RovingFocusGroup",[_d,B1,yC]=U1(af),[vC,H1]=Fo(af,[yC]),[_C,wC]=vC(af),EC=v.forwardRef((t,e)=>v.createElement(_d.Provider,{scope:t.__scopeRovingFocusGroup},v.createElement(_d.Slot,{scope:t.__scopeRovingFocusGroup},v.createElement(TC,F({},t,{ref:e}))))),TC=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:o=!1,dir:i,currentTabStopId:s,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:u,...c}=t,d=v.useRef(null),h=Pt(e,d),p=Hl(i),[y=null,_]=Mr({prop:s,defaultProp:a,onChange:l}),[E,m]=v.useState(!1),f=Gt(u),g=B1(n),w=v.useRef(!1),[S,C]=v.useState(0);return v.useEffect(()=>{const I=d.current;if(I)return I.addEventListener(tc,f),()=>I.removeEventListener(tc,f)},[f]),v.createElement(_C,{scope:n,orientation:r,dir:p,loop:o,currentTabStopId:y,onItemFocus:v.useCallback(I=>_(I),[_]),onItemShiftTab:v.useCallback(()=>m(!0),[]),onFocusableItemAdd:v.useCallback(()=>C(I=>I+1),[]),onFocusableItemRemove:v.useCallback(()=>C(I=>I-1),[])},v.createElement(tt.div,F({tabIndex:E||S===0?-1:0,"data-orientation":r},c,{ref:h,style:{outline:"none",...t.style},onMouseDown:qe(t.onMouseDown,()=>{w.current=!0}),onFocus:qe(t.onFocus,I=>{const R=!w.current;if(I.target===I.currentTarget&&R&&!E){const M=new CustomEvent(tc,gC);if(I.currentTarget.dispatchEvent(M),!M.defaultPrevented){const V=g().filter(wt=>wt.focusable),re=V.find(wt=>wt.active),Y=V.find(wt=>wt.id===y),on=[re,Y,...V].filter(Boolean).map(wt=>wt.ref.current);W1(on)}}w.current=!1}),onBlur:qe(t.onBlur,()=>m(!1))})))}),SC="RovingFocusGroupItem",CC=v.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:o=!1,tabStopId:i,...s}=t,a=sf(),l=i||a,u=wC(SC,n),c=u.currentTabStopId===l,d=B1(n),{onFocusableItemAdd:h,onFocusableItemRemove:p}=u;return v.useEffect(()=>{if(r)return h(),()=>p()},[r,h,p]),v.createElement(_d.ItemSlot,{scope:n,id:l,focusable:r,active:o},v.createElement(tt.span,F({tabIndex:c?0:-1,"data-orientation":u.orientation},s,{ref:e,onMouseDown:qe(t.onMouseDown,y=>{r?u.onItemFocus(l):y.preventDefault()}),onFocus:qe(t.onFocus,()=>u.onItemFocus(l)),onKeyDown:qe(t.onKeyDown,y=>{if(y.key==="Tab"&&y.shiftKey){u.onItemShiftTab();return}if(y.target!==y.currentTarget)return;const _=RC(y,u.orientation,u.dir);if(_!==void 0){y.preventDefault();let m=d().filter(f=>f.focusable).map(f=>f.ref.current);if(_==="last")m.reverse();else if(_==="prev"||_==="next"){_==="prev"&&m.reverse();const f=m.indexOf(y.currentTarget);m=u.loop?xC(m,f+1):m.slice(f+1)}setTimeout(()=>W1(m))}})})))}),IC={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function AC(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function RC(t,e,n){const r=AC(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return IC[r]}function W1(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function xC(t,e){return t.map((n,r)=>t[(e+r)%t.length])}const PC=EC,bC=CC,G1=v.forwardRef((t,e)=>{const{pressed:n,defaultPressed:r=!1,onPressedChange:o,...i}=t,[s=!1,a]=Mr({prop:n,onChange:o,defaultProp:r});return v.createElement(tt.button,F({type:"button","aria-pressed":s,"data-state":s?"on":"off","data-disabled":t.disabled?"":void 0},i,{ref:e,onClick:qe(t.onClick,()=>{t.disabled||a(!s)})}))}),q1=G1,ql="ToggleGroup",[K1,t4]=Fo(ql,[H1]),Q1=H1(),kC=N.forwardRef((t,e)=>{const{type:n,...r}=t;if(n==="single"){const o=r;return N.createElement($C,F({},o,{ref:e}))}if(n==="multiple"){const o=r;return N.createElement(NC,F({},o,{ref:e}))}throw new Error(`Missing prop \`type\` expected on \`${ql}\``)}),[Y1,X1]=K1(ql),$C=N.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...i}=t,[s,a]=Mr({prop:n,defaultProp:r,onChange:o});return N.createElement(Y1,{scope:t.__scopeToggleGroup,type:"single",value:s?[s]:[],onItemActivate:a,onItemDeactivate:N.useCallback(()=>a(""),[a])},N.createElement(J1,F({},i,{ref:e})))}),NC=N.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...i}=t,[s=[],a]=Mr({prop:n,defaultProp:r,onChange:o}),l=N.useCallback(c=>a((d=[])=>[...d,c]),[a]),u=N.useCallback(c=>a((d=[])=>d.filter(h=>h!==c)),[a]);return N.createElement(Y1,{scope:t.__scopeToggleGroup,type:"multiple",value:s,onItemActivate:l,onItemDeactivate:u},N.createElement(J1,F({},i,{ref:e})))}),[DC,VC]=K1(ql),J1=N.forwardRef((t,e)=>{const{__scopeToggleGroup:n,disabled:r=!1,rovingFocus:o=!0,orientation:i,dir:s,loop:a=!0,...l}=t,u=Q1(n),c=Hl(s),d={role:"group",dir:c,...l};return N.createElement(DC,{scope:n,rovingFocus:o,disabled:r},o?N.createElement(PC,F({asChild:!0},u,{orientation:i,dir:c,loop:a}),N.createElement(tt.div,F({},d,{ref:e}))):N.createElement(tt.div,F({},d,{ref:e})))}),wd="ToggleGroupItem",MC=N.forwardRef((t,e)=>{const n=X1(wd,t.__scopeToggleGroup),r=VC(wd,t.__scopeToggleGroup),o=Q1(t.__scopeToggleGroup),i=n.value.includes(t.value),s=r.disabled||t.disabled,a={...t,pressed:i,disabled:s},l=N.useRef(null);return r.rovingFocus?N.createElement(bC,F({asChild:!0},o,{focusable:!s,active:i,ref:l}),N.createElement(Om,F({},a,{ref:e}))):N.createElement(Om,F({},a,{ref:e}))}),Om=N.forwardRef((t,e)=>{const{__scopeToggleGroup:n,value:r,...o}=t,i=X1(wd,n),s={role:"radio","aria-checked":t.pressed,"aria-pressed":void 0},a=i.type==="single"?s:void 0;return N.createElement(G1,F({},a,o,{ref:e,onPressedChange:l=>{l?i.onItemActivate(r):i.onItemDeactivate(r)}}))}),Z1=kC,e0=MC,t0=tf("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-3",sm:"h-8 px-2",lg:"h-10 px-3"}},defaultVariants:{variant:"default",size:"default"}}),OC=v.forwardRef(({className:t,variant:e,size:n,...r},o)=>x.jsx(q1,{ref:o,className:Ut(t0({variant:e,size:n,className:t})),...r}));OC.displayName=q1.displayName;const n0=v.createContext({size:"default",variant:"default"}),r0=v.forwardRef(({className:t,variant:e,size:n,children:r,...o},i)=>x.jsx(Z1,{ref:i,className:Ut("flex items-center justify-center gap-1",t),...o,children:x.jsx(n0.Provider,{value:{variant:e,size:n},children:r})}));r0.displayName=Z1.displayName;const Ed=v.forwardRef(({className:t,children:e,variant:n,size:r,...o},i)=>{const s=v.useContext(n0);return x.jsx(e0,{ref:i,className:Ut(t0({variant:s.variant||n,size:s.size||r}),t),...o,children:e})});Ed.displayName=e0.displayName;var o0={exports:{}},i0={};/**
 * @license React
 * use-sync-external-store-with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ss=v;function LC(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var FC=typeof Object.is=="function"?Object.is:LC,jC=Ss.useSyncExternalStore,zC=Ss.useRef,UC=Ss.useEffect,BC=Ss.useMemo,HC=Ss.useDebugValue;i0.useSyncExternalStoreWithSelector=function(t,e,n,r,o){var i=zC(null);if(i.current===null){var s={hasValue:!1,value:null};i.current=s}else s=i.current;i=BC(function(){function l(p){if(!u){if(u=!0,c=p,p=r(p),o!==void 0&&s.hasValue){var y=s.value;if(o(y,p))return d=y}return d=p}if(y=d,FC(c,p))return y;var _=r(p);return o!==void 0&&o(y,_)?y:(c=p,d=_)}var u=!1,c,d,h=n===void 0?null:n;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,n,r,o]);var a=jC(t,i[0],i[1]);return UC(function(){s.hasValue=!0,s.value=a},[a]),HC(a),a};o0.exports=i0;var WC=o0.exports,ht="default"in Tc?N:Tc,Lm=Symbol.for("react-redux-context"),Fm=typeof globalThis<"u"?globalThis:{};function GC(){if(!ht.createContext)return{};const t=Fm[Lm]??(Fm[Lm]=new Map);let e=t.get(ht.createContext);return e||(e=ht.createContext(null),t.set(ht.createContext,e)),e}var Qn=GC(),qC=()=>{throw new Error("uSES not initialized!")};function lf(t=Qn){return function(){return ht.useContext(t)}}var s0=lf(),a0=qC,KC=t=>{a0=t},QC=(t,e)=>t===e;function YC(t=Qn){const e=t===Qn?s0:lf(t),n=(r,o={})=>{const{equalityFn:i=QC,devModeChecks:s={}}=typeof o=="function"?{equalityFn:o}:o,{store:a,subscription:l,getServerState:u,stabilityCheck:c,identityFunctionCheck:d}=e();ht.useRef(!0);const h=ht.useCallback({[r.name](y){return r(y)}}[r.name],[r,c,s.stabilityCheck]),p=a0(l.addNestedSub,a.getState,u||a.getState,h,i);return ht.useDebugValue(p),p};return Object.assign(n,{withTypes:()=>n}),n}var XC=YC();function JC(t){t()}function ZC(){let t=null,e=null;return{clear(){t=null,e=null},notify(){JC(()=>{let n=t;for(;n;)n.callback(),n=n.next})},get(){const n=[];let r=t;for(;r;)n.push(r),r=r.next;return n},subscribe(n){let r=!0;const o=e={callback:n,next:null,prev:e};return o.prev?o.prev.next=o:t=o,function(){!r||t===null||(r=!1,o.next?o.next.prev=o.prev:e=o.prev,o.prev?o.prev.next=o.next:t=o.next)}}}}var jm={notify(){},get:()=>[]};function eI(t,e){let n,r=jm,o=0,i=!1;function s(_){c();const E=r.subscribe(_);let m=!1;return()=>{m||(m=!0,E(),d())}}function a(){r.notify()}function l(){y.onStateChange&&y.onStateChange()}function u(){return i}function c(){o++,n||(n=e?e.addNestedSub(l):t.subscribe(l),r=ZC())}function d(){o--,n&&o===0&&(n(),n=void 0,r.clear(),r=jm)}function h(){i||(i=!0,c())}function p(){i&&(i=!1,d())}const y={addNestedSub:s,notifyNestedSubs:a,handleChangeWrapper:l,isSubscribed:u,trySubscribe:h,tryUnsubscribe:p,getListeners:()=>r};return y}var tI=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",nI=tI?ht.useLayoutEffect:ht.useEffect;function rI({store:t,context:e,children:n,serverState:r,stabilityCheck:o="once",identityFunctionCheck:i="once"}){const s=ht.useMemo(()=>{const u=eI(t);return{store:t,subscription:u,getServerState:r?()=>r:void 0,stabilityCheck:o,identityFunctionCheck:i}},[t,r,o,i]),a=ht.useMemo(()=>t.getState(),[t]);nI(()=>{const{subscription:u}=s;return u.onStateChange=u.notifyNestedSubs,u.trySubscribe(),a!==t.getState()&&u.notifyNestedSubs(),()=>{u.tryUnsubscribe(),u.onStateChange=void 0}},[s,a]);const l=e||Qn;return ht.createElement(l.Provider,{value:s},n)}var oI=rI;function l0(t=Qn){const e=t===Qn?s0:lf(t),n=()=>{const{store:r}=e();return r};return Object.assign(n,{withTypes:()=>n}),n}var iI=l0();function sI(t=Qn){const e=t===Qn?iI:l0(t),n=()=>e().dispatch;return Object.assign(n,{withTypes:()=>n}),n}var aI=sI();KC(WC.useSyncExternalStoreWithSelector);const u0=aI,Td=XC;class c0{static get taskListMode(){return localStorage.getItem("taskListMode")}static set taskListMode(e){localStorage.setItem("taskListMode",e)}}function $e(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var lI=typeof Symbol=="function"&&Symbol.observable||"@@observable",zm=lI,nc=()=>Math.random().toString(36).substring(7).split("").join("."),uI={INIT:`@@redux/INIT${nc()}`,REPLACE:`@@redux/REPLACE${nc()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${nc()}`},ol=uI;function uf(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function d0(t,e,n){if(typeof t!="function")throw new Error($e(2));if(typeof e=="function"&&typeof n=="function"||typeof n=="function"&&typeof arguments[3]=="function")throw new Error($e(0));if(typeof e=="function"&&typeof n>"u"&&(n=e,e=void 0),typeof n<"u"){if(typeof n!="function")throw new Error($e(1));return n(d0)(t,e)}let r=t,o=e,i=new Map,s=i,a=0,l=!1;function u(){s===i&&(s=new Map,i.forEach((E,m)=>{s.set(m,E)}))}function c(){if(l)throw new Error($e(3));return o}function d(E){if(typeof E!="function")throw new Error($e(4));if(l)throw new Error($e(5));let m=!0;u();const f=a++;return s.set(f,E),function(){if(m){if(l)throw new Error($e(6));m=!1,u(),s.delete(f),i=null}}}function h(E){if(!uf(E))throw new Error($e(7));if(typeof E.type>"u")throw new Error($e(8));if(typeof E.type!="string")throw new Error($e(17));if(l)throw new Error($e(9));try{l=!0,o=r(o,E)}finally{l=!1}return(i=s).forEach(f=>{f()}),E}function p(E){if(typeof E!="function")throw new Error($e(10));r=E,h({type:ol.REPLACE})}function y(){const E=d;return{subscribe(m){if(typeof m!="object"||m===null)throw new Error($e(11));function f(){const w=m;w.next&&w.next(c())}return f(),{unsubscribe:E(f)}},[zm](){return this}}}return h({type:ol.INIT}),{dispatch:h,subscribe:d,getState:c,replaceReducer:p,[zm]:y}}function cI(t){Object.keys(t).forEach(e=>{const n=t[e];if(typeof n(void 0,{type:ol.INIT})>"u")throw new Error($e(12));if(typeof n(void 0,{type:ol.PROBE_UNKNOWN_ACTION()})>"u")throw new Error($e(13))})}function dI(t){const e=Object.keys(t),n={};for(let i=0;i<e.length;i++){const s=e[i];typeof t[s]=="function"&&(n[s]=t[s])}const r=Object.keys(n);let o;try{cI(n)}catch(i){o=i}return function(s={},a){if(o)throw o;let l=!1;const u={};for(let c=0;c<r.length;c++){const d=r[c],h=n[d],p=s[d],y=h(p,a);if(typeof y>"u")throw a&&a.type,new Error($e(14));u[d]=y,l=l||y!==p}return l=l||r.length!==Object.keys(s).length,l?u:s}}function il(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,n)=>(...r)=>e(n(...r)))}function hI(...t){return e=>(n,r)=>{const o=e(n,r);let i=()=>{throw new Error($e(15))};const s={getState:o.getState,dispatch:(l,...u)=>i(l,...u)},a=t.map(l=>l(s));return i=il(...a)(o.dispatch),{...o,dispatch:i}}}function fI(t){return uf(t)&&"type"in t&&typeof t.type=="string"}var h0=Symbol.for("immer-nothing"),Um=Symbol.for("immer-draftable"),mt=Symbol.for("immer-state");function Vt(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Io=Object.getPrototypeOf;function Yn(t){return!!t&&!!t[mt]}function wn(t){var e;return t?f0(t)||Array.isArray(t)||!!t[Um]||!!((e=t.constructor)!=null&&e[Um])||Ql(t)||Yl(t):!1}var pI=Object.prototype.constructor.toString();function f0(t){if(!t||typeof t!="object")return!1;const e=Io(t);if(e===null)return!0;const n=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===pI}function sl(t,e){Kl(t)===0?Reflect.ownKeys(t).forEach(n=>{e(n,t[n],t)}):t.forEach((n,r)=>e(r,n,t))}function Kl(t){const e=t[mt];return e?e.type_:Array.isArray(t)?1:Ql(t)?2:Yl(t)?3:0}function Sd(t,e){return Kl(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function p0(t,e,n){const r=Kl(t);r===2?t.set(e,n):r===3?t.add(n):t[e]=n}function mI(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ql(t){return t instanceof Map}function Yl(t){return t instanceof Set}function cr(t){return t.copy_||t.base_}function Cd(t,e){if(Ql(t))return new Map(t);if(Yl(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);if(!e&&f0(t))return Io(t)?{...t}:Object.assign(Object.create(null),t);const n=Object.getOwnPropertyDescriptors(t);delete n[mt];let r=Reflect.ownKeys(n);for(let o=0;o<r.length;o++){const i=r[o],s=n[i];s.writable===!1&&(s.writable=!0,s.configurable=!0),(s.get||s.set)&&(n[i]={configurable:!0,writable:!0,enumerable:s.enumerable,value:t[i]})}return Object.create(Io(t),n)}function cf(t,e=!1){return Xl(t)||Yn(t)||!wn(t)||(Kl(t)>1&&(t.set=t.add=t.clear=t.delete=gI),Object.freeze(t),e&&Object.entries(t).forEach(([n,r])=>cf(r,!0))),t}function gI(){Vt(2)}function Xl(t){return Object.isFrozen(t)}var yI={};function Pr(t){const e=yI[t];return e||Vt(0,t),e}var Ji;function m0(){return Ji}function vI(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Bm(t,e){e&&(Pr("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function Id(t){Ad(t),t.drafts_.forEach(_I),t.drafts_=null}function Ad(t){t===Ji&&(Ji=t.parent_)}function Hm(t){return Ji=vI(Ji,t)}function _I(t){const e=t[mt];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Wm(t,e){e.unfinalizedDrafts_=e.drafts_.length;const n=e.drafts_[0];return t!==void 0&&t!==n?(n[mt].modified_&&(Id(e),Vt(4)),wn(t)&&(t=al(e,t),e.parent_||ll(e,t)),e.patches_&&Pr("Patches").generateReplacementPatches_(n[mt].base_,t,e.patches_,e.inversePatches_)):t=al(e,n,[]),Id(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==h0?t:void 0}function al(t,e,n){if(Xl(e))return e;const r=e[mt];if(!r)return sl(e,(o,i)=>Gm(t,r,e,o,i,n)),e;if(r.scope_!==t)return e;if(!r.modified_)return ll(t,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const o=r.copy_;let i=o,s=!1;r.type_===3&&(i=new Set(o),o.clear(),s=!0),sl(i,(a,l)=>Gm(t,r,o,a,l,n,s)),ll(t,o,!1),n&&t.patches_&&Pr("Patches").generatePatches_(r,n,t.patches_,t.inversePatches_)}return r.copy_}function Gm(t,e,n,r,o,i,s){if(Yn(o)){const a=i&&e&&e.type_!==3&&!Sd(e.assigned_,r)?i.concat(r):void 0,l=al(t,o,a);if(p0(n,r,l),Yn(l))t.canAutoFreeze_=!1;else return}else s&&n.add(o);if(wn(o)&&!Xl(o)){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1)return;al(t,o),(!e||!e.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&ll(t,o)}}function ll(t,e,n=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&cf(e,n)}function wI(t,e){const n=Array.isArray(t),r={type_:n?1:0,scope_:e?e.scope_:m0(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let o=r,i=df;n&&(o=[r],i=Zi);const{revoke:s,proxy:a}=Proxy.revocable(o,i);return r.draft_=a,r.revoke_=s,a}var df={get(t,e){if(e===mt)return t;const n=cr(t);if(!Sd(n,e))return EI(t,n,e);const r=n[e];return t.finalized_||!wn(r)?r:r===rc(t.base_,e)?(oc(t),t.copy_[e]=xd(r,t)):r},has(t,e){return e in cr(t)},ownKeys(t){return Reflect.ownKeys(cr(t))},set(t,e,n){const r=g0(cr(t),e);if(r!=null&&r.set)return r.set.call(t.draft_,n),!0;if(!t.modified_){const o=rc(cr(t),e),i=o==null?void 0:o[mt];if(i&&i.base_===n)return t.copy_[e]=n,t.assigned_[e]=!1,!0;if(mI(n,o)&&(n!==void 0||Sd(t.base_,e)))return!0;oc(t),Rd(t)}return t.copy_[e]===n&&(n!==void 0||e in t.copy_)||Number.isNaN(n)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=n,t.assigned_[e]=!0),!0},deleteProperty(t,e){return rc(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,oc(t),Rd(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const n=cr(t),r=Reflect.getOwnPropertyDescriptor(n,e);return r&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:r.enumerable,value:n[e]}},defineProperty(){Vt(11)},getPrototypeOf(t){return Io(t.base_)},setPrototypeOf(){Vt(12)}},Zi={};sl(df,(t,e)=>{Zi[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Zi.deleteProperty=function(t,e){return Zi.set.call(this,t,e,void 0)};Zi.set=function(t,e,n){return df.set.call(this,t[0],e,n,t[0])};function rc(t,e){const n=t[mt];return(n?cr(n):t)[e]}function EI(t,e,n){var o;const r=g0(e,n);return r?"value"in r?r.value:(o=r.get)==null?void 0:o.call(t.draft_):void 0}function g0(t,e){if(!(e in t))return;let n=Io(t);for(;n;){const r=Object.getOwnPropertyDescriptor(n,e);if(r)return r;n=Io(n)}}function Rd(t){t.modified_||(t.modified_=!0,t.parent_&&Rd(t.parent_))}function oc(t){t.copy_||(t.copy_=Cd(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var TI=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(e,n,r)=>{if(typeof e=="function"&&typeof n!="function"){const i=n;n=e;const s=this;return function(l=i,...u){return s.produce(l,c=>n.call(this,c,...u))}}typeof n!="function"&&Vt(6),r!==void 0&&typeof r!="function"&&Vt(7);let o;if(wn(e)){const i=Hm(this),s=xd(e,void 0);let a=!0;try{o=n(s),a=!1}finally{a?Id(i):Ad(i)}return Bm(i,r),Wm(o,i)}else if(!e||typeof e!="object"){if(o=n(e),o===void 0&&(o=e),o===h0&&(o=void 0),this.autoFreeze_&&cf(o,!0),r){const i=[],s=[];Pr("Patches").generateReplacementPatches_(e,o,i,s),r(i,s)}return o}else Vt(1,e)},this.produceWithPatches=(e,n)=>{if(typeof e=="function")return(s,...a)=>this.produceWithPatches(s,l=>e(l,...a));let r,o;return[this.produce(e,n,(s,a)=>{r=s,o=a}),r,o]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy)}createDraft(t){wn(t)||Vt(8),Yn(t)&&(t=y0(t));const e=Hm(this),n=xd(t,void 0);return n[mt].isManual_=!0,Ad(e),n}finishDraft(t,e){const n=t&&t[mt];(!n||!n.isManual_)&&Vt(9);const{scope_:r}=n;return Bm(r,e),Wm(void 0,r)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}applyPatches(t,e){let n;for(n=e.length-1;n>=0;n--){const o=e[n];if(o.path.length===0&&o.op==="replace"){t=o.value;break}}n>-1&&(e=e.slice(n+1));const r=Pr("Patches").applyPatches_;return Yn(t)?r(t,e):this.produce(t,o=>r(o,e))}};function xd(t,e){const n=Ql(t)?Pr("MapSet").proxyMap_(t,e):Yl(t)?Pr("MapSet").proxySet_(t,e):wI(t,e);return(e?e.scope_:m0()).drafts_.push(n),n}function y0(t){return Yn(t)||Vt(10,t),v0(t)}function v0(t){if(!wn(t)||Xl(t))return t;const e=t[mt];let n;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,n=Cd(t,e.scope_.immer_.useStrictShallowCopy_)}else n=Cd(t,!0);return sl(n,(r,o)=>{p0(n,r,v0(o))}),e&&(e.finalized_=!1),n}var gt=new TI,_0=gt.produce;gt.produceWithPatches.bind(gt);gt.setAutoFreeze.bind(gt);gt.setUseStrictShallowCopy.bind(gt);gt.applyPatches.bind(gt);gt.createDraft.bind(gt);gt.finishDraft.bind(gt);function SI(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function CI(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function II(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(n=>typeof n=="function")){const n=t.map(r=>typeof r=="function"?`function ${r.name||"unnamed"}()`:typeof r).join(", ");throw new TypeError(`${e}[${n}]`)}}var qm=t=>Array.isArray(t)?t:[t];function AI(t){const e=Array.isArray(t[0])?t[0]:t;return II(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function RI(t,e){const n=[],{length:r}=t;for(let o=0;o<r;o++)n.push(t[o].apply(null,e));return n}var xI=class{constructor(t){this.value=t}deref(){return this.value}},PI=typeof WeakRef<"u"?WeakRef:xI,bI=0,Km=1;function ia(){return{s:bI,v:void 0,o:null,p:null}}function hf(t,e={}){let n=ia();const{resultEqualityCheck:r}=e;let o,i=0;function s(){var d;let a=n;const{length:l}=arguments;for(let h=0,p=l;h<p;h++){const y=arguments[h];if(typeof y=="function"||typeof y=="object"&&y!==null){let _=a.o;_===null&&(a.o=_=new WeakMap);const E=_.get(y);E===void 0?(a=ia(),_.set(y,a)):a=E}else{let _=a.p;_===null&&(a.p=_=new Map);const E=_.get(y);E===void 0?(a=ia(),_.set(y,a)):a=E}}const u=a;let c;if(a.s===Km?c=a.v:(c=t.apply(null,arguments),i++),u.s=Km,r){const h=((d=o==null?void 0:o.deref)==null?void 0:d.call(o))??o;h!=null&&r(h,c)&&(c=h,i!==0&&i--),o=typeof c=="object"&&c!==null||typeof c=="function"?new PI(c):c}return u.v=c,c}return s.clearCache=()=>{n=ia(),s.resetResultsCount()},s.resultsCount=()=>i,s.resetResultsCount=()=>{i=0},s}function w0(t,...e){const n=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,r=(...o)=>{let i=0,s=0,a,l={},u=o.pop();typeof u=="object"&&(l=u,u=o.pop()),SI(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const c={...n,...l},{memoize:d,memoizeOptions:h=[],argsMemoize:p=hf,argsMemoizeOptions:y=[],devModeChecks:_={}}=c,E=qm(h),m=qm(y),f=AI(o),g=d(function(){return i++,u.apply(null,arguments)},...E),w=p(function(){s++;const C=RI(f,arguments);return a=g.apply(null,C),a},...m);return Object.assign(w,{resultFunc:u,memoizedResultFunc:g,dependencies:f,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>a,recomputations:()=>i,resetRecomputations:()=>{i=0},memoize:d,argsMemoize:p})};return Object.assign(r,{withTypes:()=>r}),r}var kI=w0(hf),$I=Object.assign((t,e=kI)=>{CI(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const n=Object.keys(t),r=n.map(i=>t[i]);return e(r,(...i)=>i.reduce((s,a,l)=>(s[n[l]]=a,s),{}))},{withTypes:()=>$I});function E0(t){return({dispatch:n,getState:r})=>o=>i=>typeof i=="function"?i(n,r,t):o(i)}var NI=E0(),DI=E0,VI=(...t)=>{const e=w0(...t),n=Object.assign((...r)=>{const o=e(...r),i=(s,...a)=>o(Yn(s)?y0(s):s,...a);return Object.assign(i,o),i},{withTypes:()=>n});return n};VI(hf);var MI=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?il:il.apply(null,arguments)},OI=t=>t&&typeof t.match=="function";function fn(t,e){function n(...r){if(e){let o=e(...r);if(!o)throw new Error(ut(0));return{type:t,payload:o.payload,..."meta"in o&&{meta:o.meta},..."error"in o&&{error:o.error}}}return{type:t,payload:r[0]}}return n.toString=()=>`${t}`,n.type=t,n.match=r=>fI(r)&&r.type===t,n}var T0=class di extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,di.prototype)}static get[Symbol.species](){return di}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new di(...e[0].concat(this)):new di(...e.concat(this))}};function Qm(t){return wn(t)?_0(t,()=>{}):t}function Ym(t,e,n){if(t.has(e)){let o=t.get(e);return n.update&&(o=n.update(o,e,t),t.set(e,o)),o}if(!n.insert)throw new Error(ut(10));const r=n.insert(e,t);return t.set(e,r),r}function LI(t){return typeof t=="boolean"}var FI=()=>function(e){const{thunk:n=!0,immutableCheck:r=!0,serializableCheck:o=!0,actionCreatorCheck:i=!0}=e??{};let s=new T0;return n&&(LI(n)?s.push(NI):s.push(DI(n.extraArgument))),s},jI="RTK_autoBatch",S0=t=>e=>{setTimeout(e,t)},zI=typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:S0(10),UI=(t={type:"raf"})=>e=>(...n)=>{const r=e(...n);let o=!0,i=!1,s=!1;const a=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?zI:t.type==="callback"?t.queueNotification:S0(t.timeout),u=()=>{s=!1,i&&(i=!1,a.forEach(c=>c()))};return Object.assign({},r,{subscribe(c){const d=()=>o&&c(),h=r.subscribe(d);return a.add(c),()=>{h(),a.delete(c)}},dispatch(c){var d;try{return o=!((d=c==null?void 0:c.meta)!=null&&d[jI]),i=!o,i&&(s||(s=!0,l(u))),r.dispatch(c)}finally{o=!0}}})},BI=t=>function(n){const{autoBatch:r=!0}=n??{};let o=new T0(t);return r&&o.push(UI(typeof r=="object"?r:void 0)),o},HI=!0;function WI(t){const e=FI(),{reducer:n=void 0,middleware:r,devTools:o=!0,preloadedState:i=void 0,enhancers:s=void 0}=t||{};let a;if(typeof n=="function")a=n;else if(uf(n))a=dI(n);else throw new Error(ut(1));let l;typeof r=="function"?l=r(e):l=e();let u=il;o&&(u=MI({trace:!HI,...typeof o=="object"&&o}));const c=hI(...l),d=BI(c);let h=typeof s=="function"?s(d):d();const p=u(...h);return d0(a,i,p)}function C0(t){const e={},n=[];let r;const o={addCase(i,s){const a=typeof i=="string"?i:i.type;if(!a)throw new Error(ut(28));if(a in e)throw new Error(ut(29));return e[a]=s,o},addMatcher(i,s){return n.push({matcher:i,reducer:s}),o},addDefaultCase(i){return r=i,o}};return t(o),[e,n,r]}function GI(t){return typeof t=="function"}function qI(t,e){let[n,r,o]=C0(e),i;if(GI(t))i=()=>Qm(t());else{const a=Qm(t);i=()=>a}function s(a=i(),l){let u=[n[l.type],...r.filter(({matcher:c})=>c(l)).map(({reducer:c})=>c)];return u.filter(c=>!!c).length===0&&(u=[o]),u.reduce((c,d)=>{if(d)if(Yn(c)){const p=d(c,l);return p===void 0?c:p}else{if(wn(c))return _0(c,h=>d(h,l));{const h=d(c,l);if(h===void 0){if(c===null)return c;throw new Error(ut(9))}return h}}return c},a)}return s.getInitialState=i,s}var KI="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",I0=(t=21)=>{let e="",n=t;for(;n--;)e+=KI[Math.random()*64|0];return e},QI=(t,e)=>OI(t)?t.match(e):t(e);function YI(...t){return e=>t.some(n=>QI(n,e))}var XI=["name","message","stack","code"],ic=class{constructor(t,e){qo(this,"_type");this.payload=t,this.meta=e}},Xm=class{constructor(t,e){qo(this,"_type");this.payload=t,this.meta=e}},JI=t=>{if(typeof t=="object"&&t!==null){const e={};for(const n of XI)typeof t[n]=="string"&&(e[n]=t[n]);return e}return{message:String(t)}},ZI=(()=>{function t(e,n,r){const o=fn(e+"/fulfilled",(l,u,c,d)=>({payload:l,meta:{...d||{},arg:c,requestId:u,requestStatus:"fulfilled"}})),i=fn(e+"/pending",(l,u,c)=>({payload:void 0,meta:{...c||{},arg:u,requestId:l,requestStatus:"pending"}})),s=fn(e+"/rejected",(l,u,c,d,h)=>({payload:d,error:(r&&r.serializeError||JI)(l||"Rejected"),meta:{...h||{},arg:c,requestId:u,rejectedWithValue:!!d,requestStatus:"rejected",aborted:(l==null?void 0:l.name)==="AbortError",condition:(l==null?void 0:l.name)==="ConditionError"}}));function a(l){return(u,c,d)=>{const h=r!=null&&r.idGenerator?r.idGenerator(l):I0(),p=new AbortController;let y,_;function E(f){_=f,p.abort()}const m=async function(){var w,S;let f;try{let C=(w=r==null?void 0:r.condition)==null?void 0:w.call(r,l,{getState:c,extra:d});if(tA(C)&&(C=await C),C===!1||p.signal.aborted)throw{name:"ConditionError",message:"Aborted due to condition callback returning false."};const I=new Promise((R,M)=>{y=()=>{M({name:"AbortError",message:_||"Aborted"})},p.signal.addEventListener("abort",y)});u(i(h,l,(S=r==null?void 0:r.getPendingMeta)==null?void 0:S.call(r,{requestId:h,arg:l},{getState:c,extra:d}))),f=await Promise.race([I,Promise.resolve(n(l,{dispatch:u,getState:c,extra:d,requestId:h,signal:p.signal,abort:E,rejectWithValue:(R,M)=>new ic(R,M),fulfillWithValue:(R,M)=>new Xm(R,M)})).then(R=>{if(R instanceof ic)throw R;return R instanceof Xm?o(R.payload,h,l,R.meta):o(R,h,l)})])}catch(C){f=C instanceof ic?s(null,h,l,C.payload,C.meta):s(C,h,l)}finally{y&&p.signal.removeEventListener("abort",y)}return r&&!r.dispatchConditionRejection&&s.match(f)&&f.meta.condition||u(f),f}();return Object.assign(m,{abort:E,requestId:h,arg:l,unwrap(){return m.then(eA)}})}}return Object.assign(a,{pending:i,rejected:s,fulfilled:o,settled:YI(s,o),typePrefix:e})}return t.withTypes=()=>t,t})();function eA(t){if(t.meta&&t.meta.rejectedWithValue)throw t.payload;if(t.error)throw t.error;return t.payload}function tA(t){return t!==null&&typeof t=="object"&&typeof t.then=="function"}var nA=Symbol.for("rtk-slice-createasyncthunk");function rA(t,e){return`${t}/${e}`}function oA({creators:t}={}){var n;const e=(n=t==null?void 0:t.asyncThunk)==null?void 0:n[nA];return function(o){const{name:i,reducerPath:s=i}=o;if(!i)throw new Error(ut(11));typeof process<"u";const a=(typeof o.reducers=="function"?o.reducers(sA()):o.reducers)||{},l=Object.keys(a),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},c={addCase(g,w){const S=typeof g=="string"?g:g.type;if(!S)throw new Error(ut(12));if(S in u.sliceCaseReducersByType)throw new Error(ut(13));return u.sliceCaseReducersByType[S]=w,c},addMatcher(g,w){return u.sliceMatchers.push({matcher:g,reducer:w}),c},exposeAction(g,w){return u.actionCreators[g]=w,c},exposeCaseReducer(g,w){return u.sliceCaseReducersByName[g]=w,c}};l.forEach(g=>{const w=a[g],S={reducerName:g,type:rA(i,g),createNotation:typeof o.reducers=="function"};lA(w)?cA(S,w,c,e):aA(S,w,c)});function d(){const[g={},w=[],S=void 0]=typeof o.extraReducers=="function"?C0(o.extraReducers):[o.extraReducers],C={...g,...u.sliceCaseReducersByType};return qI(o.initialState,I=>{for(let R in C)I.addCase(R,C[R]);for(let R of u.sliceMatchers)I.addMatcher(R.matcher,R.reducer);for(let R of w)I.addMatcher(R.matcher,R.reducer);S&&I.addDefaultCase(S)})}const h=g=>g,p=new Map;let y;function _(g,w){return y||(y=d()),y(g,w)}function E(){return y||(y=d()),y.getInitialState()}function m(g,w=!1){function S(I){let R=I[g];return typeof R>"u"&&w&&(R=E()),R}function C(I=h){const R=Ym(p,w,{insert:()=>new WeakMap});return Ym(R,I,{insert:()=>{const M={};for(const[V,re]of Object.entries(o.selectors??{}))M[V]=iA(re,I,E,w);return M}})}return{reducerPath:g,getSelectors:C,get selectors(){return C(S)},selectSlice:S}}const f={name:i,reducer:_,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:E,...m(s),injectInto(g,{reducerPath:w,...S}={}){const C=w??s;return g.inject({reducerPath:C,reducer:_},S),{...f,...m(C,!0)}}};return f}}function iA(t,e,n,r){function o(i,...s){let a=e(i);return typeof a>"u"&&r&&(a=n()),t(a,...s)}return o.unwrapped=t,o}var A0=oA();function sA(){function t(e,n){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...n}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...n){return e(...n)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,n){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:n}},asyncThunk:t}}function aA({type:t,reducerName:e,createNotation:n},r,o){let i,s;if("reducer"in r){if(n&&!uA(r))throw new Error(ut(17));i=r.reducer,s=r.prepare}else i=r;o.addCase(t,i).exposeCaseReducer(e,i).exposeAction(e,s?fn(t,s):fn(t))}function lA(t){return t._reducerDefinitionType==="asyncThunk"}function uA(t){return t._reducerDefinitionType==="reducerWithPrepare"}function cA({type:t,reducerName:e},n,r,o){if(!o)throw new Error(ut(18));const{payloadCreator:i,fulfilled:s,pending:a,rejected:l,settled:u,options:c}=n,d=o(t,i,c);r.exposeAction(e,d),s&&r.addCase(d.fulfilled,s),a&&r.addCase(d.pending,a),l&&r.addCase(d.rejected,l),u&&r.addMatcher(d.settled,u),r.exposeCaseReducer(e,{fulfilled:s||sa,pending:a||sa,rejected:l||sa,settled:u||sa})}function sa(){}var dA=(t,e)=>{if(typeof t!="function")throw new Error(ut(32))},ff="listenerMiddleware",hA=t=>{let{type:e,actionCreator:n,matcher:r,predicate:o,effect:i}=t;if(e)o=fn(e).match;else if(n)e=n.type,o=n.match;else if(r)o=r;else if(!o)throw new Error(ut(21));return dA(i),{predicate:o,type:e,effect:i}},fA=Object.assign(t=>{const{type:e,predicate:n,effect:r}=hA(t);return{id:I0(),effect:r,type:e,predicate:n,pending:new Set,unsubscribe:()=>{throw new Error(ut(22))}}},{withTypes:()=>fA}),pA=Object.assign(fn(`${ff}/add`),{withTypes:()=>pA});fn(`${ff}/removeAll`);var mA=Object.assign(fn(`${ff}/remove`),{withTypes:()=>mA});function ut(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}const gA={listMode:c0.taskListMode??"list"},R0=A0({name:"taskListModeSelector",initialState:gA,reducers:{changeListMode:(t,e)=>{t.listMode=e.payload,c0.taskListMode=e.payload}}}),{changeListMode:yA}=R0.actions,vA=R0.reducer,_A=()=>{const t=u0(),e=Td(r=>r.taskListChangeSelector.listMode);console.log(e);const n=r=>{t(yA(r))};return x.jsxs(r0,{defaultValue:e,onValueChange:n,className:"self-end hidden lg:flex",type:"single",children:[x.jsx(Ed,{disabled:e==="list",value:"list","aria-label":"Toggle list",children:x.jsx(hC,{className:"h-4 w-4"})}),x.jsx(Ed,{disabled:e==="grid",value:"grid","aria-label":"Toggle grid",children:x.jsx(cC,{className:"h-4 w-4"})})]})},x0=v.forwardRef(({className:t,type:e,...n},r)=>x.jsx("input",{type:e,className:Ut("flex h-9 w-full rounded-md border border-input bg-transparent px-3 py-1 text-sm shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:cursor-not-allowed disabled:opacity-50",t),ref:r,...n}));x0.displayName="Input";const P0="Collapsible",[wA,b0]=Fo(P0),[EA,pf]=wA(P0),TA=v.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:o,disabled:i,onOpenChange:s,...a}=t,[l=!1,u]=Mr({prop:r,defaultProp:o,onChange:s});return v.createElement(EA,{scope:n,disabled:i,contentId:sf(),open:l,onOpenToggle:v.useCallback(()=>u(c=>!c),[u])},v.createElement(tt.div,F({"data-state":mf(l),"data-disabled":i?"":void 0},a,{ref:e})))}),SA="CollapsibleTrigger",CA=v.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,o=pf(SA,n);return v.createElement(tt.button,F({type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":mf(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled},r,{ref:e,onClick:qe(t.onClick,o.onOpenToggle)}))}),k0="CollapsibleContent",IA=v.forwardRef((t,e)=>{const{forceMount:n,...r}=t,o=pf(k0,t.__scopeCollapsible);return v.createElement(Lo,{present:n||o.open},({present:i})=>v.createElement(AA,F({},r,{ref:e,present:i})))}),AA=v.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:o,...i}=t,s=pf(k0,n),[a,l]=v.useState(r),u=v.useRef(null),c=Pt(e,u),d=v.useRef(0),h=d.current,p=v.useRef(0),y=p.current,_=s.open||a,E=v.useRef(_),m=v.useRef();return v.useEffect(()=>{const f=requestAnimationFrame(()=>E.current=!1);return()=>cancelAnimationFrame(f)},[]),Xi(()=>{const f=u.current;if(f){m.current=m.current||{transitionDuration:f.style.transitionDuration,animationName:f.style.animationName},f.style.transitionDuration="0s",f.style.animationName="none";const g=f.getBoundingClientRect();d.current=g.height,p.current=g.width,E.current||(f.style.transitionDuration=m.current.transitionDuration,f.style.animationName=m.current.animationName),l(r)}},[s.open,r]),v.createElement(tt.div,F({"data-state":mf(s.open),"data-disabled":s.disabled?"":void 0,id:s.contentId,hidden:!_},i,{ref:c,style:{"--radix-collapsible-content-height":h?`${h}px`:void 0,"--radix-collapsible-content-width":y?`${y}px`:void 0,...t.style}}),_&&o)});function mf(t){return t?"open":"closed"}const RA=TA,xA=CA,PA=IA,rr="Accordion",bA=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[gf,kA,$A]=U1(rr),[Jl,n4]=Fo(rr,[$A,b0]),yf=b0(),$0=N.forwardRef((t,e)=>{const{type:n,...r}=t,o=r,i=r;return N.createElement(gf.Provider,{scope:t.__scopeAccordion},n==="multiple"?N.createElement(MA,F({},i,{ref:e})):N.createElement(VA,F({},o,{ref:e})))});$0.propTypes={type(t){const e=t.value||t.defaultValue;return t.type&&!["single","multiple"].includes(t.type)?new Error("Invalid prop `type` supplied to `Accordion`. Expected one of `single | multiple`."):t.type==="multiple"&&typeof e=="string"?new Error("Invalid prop `type` supplied to `Accordion`. Expected `single` when `defaultValue` or `value` is type `string`."):t.type==="single"&&Array.isArray(e)?new Error("Invalid prop `type` supplied to `Accordion`. Expected `multiple` when `defaultValue` or `value` is type `string[]`."):null}};const[N0,NA]=Jl(rr),[D0,DA]=Jl(rr,{collapsible:!1}),VA=N.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},collapsible:i=!1,...s}=t,[a,l]=Mr({prop:n,defaultProp:r,onChange:o});return N.createElement(N0,{scope:t.__scopeAccordion,value:a?[a]:[],onItemOpen:l,onItemClose:N.useCallback(()=>i&&l(""),[i,l])},N.createElement(D0,{scope:t.__scopeAccordion,collapsible:i},N.createElement(V0,F({},s,{ref:e}))))}),MA=N.forwardRef((t,e)=>{const{value:n,defaultValue:r,onValueChange:o=()=>{},...i}=t,[s=[],a]=Mr({prop:n,defaultProp:r,onChange:o}),l=N.useCallback(c=>a((d=[])=>[...d,c]),[a]),u=N.useCallback(c=>a((d=[])=>d.filter(h=>h!==c)),[a]);return N.createElement(N0,{scope:t.__scopeAccordion,value:s,onItemOpen:l,onItemClose:u},N.createElement(D0,{scope:t.__scopeAccordion,collapsible:!0},N.createElement(V0,F({},i,{ref:e}))))}),[OA,Zl]=Jl(rr),V0=N.forwardRef((t,e)=>{const{__scopeAccordion:n,disabled:r,dir:o,orientation:i="vertical",...s}=t,a=N.useRef(null),l=Pt(a,e),u=kA(n),d=Hl(o)==="ltr",h=qe(t.onKeyDown,p=>{var y;if(!bA.includes(p.key))return;const _=p.target,E=u().filter(M=>{var V;return!((V=M.ref.current)!==null&&V!==void 0&&V.disabled)}),m=E.findIndex(M=>M.ref.current===_),f=E.length;if(m===-1)return;p.preventDefault();let g=m;const w=0,S=f-1,C=()=>{g=m+1,g>S&&(g=w)},I=()=>{g=m-1,g<w&&(g=S)};switch(p.key){case"Home":g=w;break;case"End":g=S;break;case"ArrowRight":i==="horizontal"&&(d?C():I());break;case"ArrowDown":i==="vertical"&&C();break;case"ArrowLeft":i==="horizontal"&&(d?I():C());break;case"ArrowUp":i==="vertical"&&I();break}const R=g%f;(y=E[R].ref.current)===null||y===void 0||y.focus()});return N.createElement(OA,{scope:n,disabled:r,direction:o,orientation:i},N.createElement(gf.Slot,{scope:n},N.createElement(tt.div,F({},s,{"data-orientation":i,ref:l,onKeyDown:r?void 0:h}))))}),Pd="AccordionItem",[LA,vf]=Jl(Pd),FA=N.forwardRef((t,e)=>{const{__scopeAccordion:n,value:r,...o}=t,i=Zl(Pd,n),s=NA(Pd,n),a=yf(n),l=sf(),u=r&&s.value.includes(r)||!1,c=i.disabled||t.disabled;return N.createElement(LA,{scope:n,open:u,disabled:c,triggerId:l},N.createElement(RA,F({"data-orientation":i.orientation,"data-state":M0(u)},a,o,{ref:e,disabled:c,open:u,onOpenChange:d=>{d?s.onItemOpen(r):s.onItemClose(r)}})))}),jA="AccordionHeader",zA=N.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,o=Zl(rr,n),i=vf(jA,n);return N.createElement(tt.h3,F({"data-orientation":o.orientation,"data-state":M0(i.open),"data-disabled":i.disabled?"":void 0},r,{ref:e}))}),Jm="AccordionTrigger",UA=N.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,o=Zl(rr,n),i=vf(Jm,n),s=DA(Jm,n),a=yf(n);return N.createElement(gf.ItemSlot,{scope:n},N.createElement(xA,F({"aria-disabled":i.open&&!s.collapsible||void 0,"data-orientation":o.orientation,id:i.triggerId},a,r,{ref:e})))}),BA="AccordionContent",HA=N.forwardRef((t,e)=>{const{__scopeAccordion:n,...r}=t,o=Zl(rr,n),i=vf(BA,n),s=yf(n);return N.createElement(PA,F({role:"region","aria-labelledby":i.triggerId,"data-orientation":o.orientation},s,r,{ref:e,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...t.style}}))});function M0(t){return t?"open":"closed"}const WA=$0,GA=FA,qA=zA,O0=UA,L0=HA,F0=WA,_f=v.forwardRef(({className:t,...e},n)=>x.jsx(GA,{ref:n,className:Ut("border-b",t),...e}));_f.displayName="AccordionItem";const wf=v.forwardRef(({className:t,children:e,...n},r)=>x.jsx(qA,{className:"flex",children:x.jsxs(O0,{ref:r,className:Ut("flex flex-1 items-center justify-between py-4 text-sm font-medium transition-all hover:underline [&[data-state=open]>svg]:rotate-180",t),...n,children:[e,x.jsx(lC,{className:"h-4 w-4 shrink-0 text-muted-foreground transition-transform duration-200"})]})}));wf.displayName=O0.displayName;const Ef=v.forwardRef(({className:t,children:e,...n},r)=>x.jsx(L0,{ref:r,className:"overflow-hidden text-sm data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down",...n,children:x.jsx("div",{className:Ut("pb-4 pt-0",t),children:e})}));Ef.displayName=L0.displayName;const KA=tf("inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground shadow hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Zm({className:t,variant:e,...n}){return x.jsx("div",{className:Ut(KA({variant:e}),t),...n})}function QA(t){const e=new Date,n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate()-1),o=new Date(t.getFullYear(),t.getMonth(),t.getDate());if(o.getTime()===n.getTime())return t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit",hour12:!0}).toLowerCase();if(o.getTime()===r.getTime())return"yesterday";{const i=(n.getTime()-o.getTime())/864e5;return i<7?`${Math.round(i)} days ago`:e.getFullYear()===t.getFullYear()?t.toLocaleDateString([],{month:"long",day:"numeric"}):t.toLocaleDateString([],{year:"numeric"})}}const YA=({data:t})=>{const e=(n,r)=>{const o=n.getTime()===r.getTime()?"Created":"Updated",i=n===r?n:r;return x.jsxs("span",{children:[o," ",QA(i)]})};return x.jsxs("div",{className:"rounded-2xl border p-4 bg-secondary/40 hover:cursor-pointer flex flex-col gap-2",children:[x.jsxs("div",{className:"flex justify-between items-center",children:[x.jsx("h3",{children:t.name}),x.jsx(Zm,{className:"lowercase",variant:t.priority==="HIGH"?"destructive":t.priority==="NORMAL"?"default":"secondary",children:t.priority}),x.jsx(So,{variant:"ghost",className:"transition-colors hover:bg-destructive/80",size:"icon",onClick:()=>{console.log(`Deleting ${t.name}`)},children:x.jsx(GT,{className:"h-4 w-4"})})]}),x.jsx("div",{className:"flex gap-2",children:t.tags.map((n,r)=>x.jsx(Zm,{variant:"outline",children:n},`${n}-${r}`))}),x.jsx(F0,{type:"single",collapsible:!0,children:x.jsxs(_f,{className:"border-none",value:"detail",children:[x.jsx(wf,{className:"hover:no-underline pb-0",children:"Details"}),x.jsx(Ef,{className:"pb-0 pt-2",children:x.jsx("span",{className:"line-clamp-2 active:line-clamp-none select-none",children:t.description})})]})}),x.jsx("div",{className:"text-xs text-black/30 dark:text-white/30 italic",children:e(t.createdDate,t.updatedDate)}),x.jsx("div",{children:x.jsxs(So,{disabled:t.completed,className:Yi("w-full hover:bg-green-600",{"line-through":t.completed}),variant:"secondary",children:[x.jsx(HT,{className:"mr-2 h-4 w-4"})," ",t.completed?"Done":"Finish"]})})]})};var eg={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let o=t.charCodeAt(r);o<128?e[n++]=o:o<2048?(e[n++]=o>>6|192,e[n++]=o&63|128):(o&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(o=65536+((o&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=o>>18|240,e[n++]=o>>12&63|128,e[n++]=o>>6&63|128,e[n++]=o&63|128):(e[n++]=o>>12|224,e[n++]=o>>6&63|128,e[n++]=o&63|128)}return e},XA=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const o=t[n++];if(o<128)e[r++]=String.fromCharCode(o);else if(o>191&&o<224){const i=t[n++];e[r++]=String.fromCharCode((o&31)<<6|i&63)}else if(o>239&&o<365){const i=t[n++],s=t[n++],a=t[n++],l=((o&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],s=t[n++];e[r++]=String.fromCharCode((o&15)<<12|(i&63)<<6|s&63)}}return e.join("")},z0={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let o=0;o<t.length;o+=3){const i=t[o],s=o+1<t.length,a=s?t[o+1]:0,l=o+2<t.length,u=l?t[o+2]:0,c=i>>2,d=(i&3)<<4|a>>4;let h=(a&15)<<2|u>>6,p=u&63;l||(p=64,s||(h=64)),r.push(n[c],n[d],n[h],n[p])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(j0(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):XA(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let o=0;o<t.length;){const i=n[t.charAt(o++)],a=o<t.length?n[t.charAt(o)]:0;++o;const u=o<t.length?n[t.charAt(o)]:64;++o;const d=o<t.length?n[t.charAt(o)]:64;if(++o,i==null||a==null||u==null||d==null)throw new JA;const h=i<<2|a>>4;if(r.push(h),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const y=u<<6&192|d;r.push(y)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class JA extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const ZA=function(t){const e=j0(t);return z0.encodeByteArray(e,!0)},ul=function(t){return ZA(t).replace(/\./g,"")},eR=function(t){try{return z0.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nR=()=>tR().__FIREBASE_DEFAULTS__,rR=()=>{if(typeof process>"u"||typeof eg>"u")return;const t=eg.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},oR=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eR(t[1]);return e&&JSON.parse(e)},Tf=()=>{try{return nR()||rR()||oR()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},iR=t=>{var e,n;return(n=(e=Tf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},sR=t=>{const e=iR(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},U0=()=>{var t;return(t=Tf())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",o=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:o,exp:o+3600,auth_time:o,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t);return[ul(JSON.stringify(n)),ul(JSON.stringify(s)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cl(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function uR(){var t;const e=(t=Tf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function cR(){return!uR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function B0(){try{return typeof indexedDB=="object"}catch{return!1}}function dR(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",o=self.indexedDB.open(r);o.onsuccess=()=>{o.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},o.onupgradeneeded=()=>{n=!1},o.onerror=()=>{var i;e(((i=o.error)===null||i===void 0?void 0:i.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hR="FirebaseError";class jo extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=hR,Object.setPrototypeOf(this,jo.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,H0.prototype.create)}}class H0{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},o=`${this.service}/${e}`,i=this.errors[e],s=i?fR(i,r):"Error",a=`${this.serviceName}: ${s} (${o}).`;return new jo(o,a,r)}}function fR(t,e){return t.replace(pR,(n,r)=>{const o=e[r];return o!=null?String(o):`<${r}?>`})}const pR=/\{\$([^}]+)}/g;function bd(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const o of n){if(!r.includes(o))return!1;const i=t[o],s=e[o];if(tg(i)&&tg(s)){if(!bd(i,s))return!1}else if(i!==s)return!1}for(const o of r)if(!n.includes(o))return!1;return!0}function tg(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function es(t){return t&&t._delegate?t._delegate:t}class ts{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dr="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mR{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new aR;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const o=this.getOrInitializeService({instanceIdentifier:n});o&&r.resolve(o)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),o=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(o)return null;throw i}else{if(o)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(yR(e))try{this.getOrInitializeService({instanceIdentifier:dr})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:o});r.resolve(i)}catch{}}}}clearInstance(e=dr){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=dr){return this.instances.has(e)}getOptions(e=dr){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const o=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&s.resolve(o)}return o}onInit(e,n){var r;const o=this.normalizeInstanceIdentifier(n),i=(r=this.onInitCallbacks.get(o))!==null&&r!==void 0?r:new Set;i.add(e),this.onInitCallbacks.set(o,i);const s=this.instances.get(o);return s&&e(s,o),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const o of r)try{o(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:gR(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=dr){return this.component?this.component.multipleInstances?e:dr:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function gR(t){return t===dr?void 0:t}function yR(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new mR(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var X;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(X||(X={}));const _R={debug:X.DEBUG,verbose:X.VERBOSE,info:X.INFO,warn:X.WARN,error:X.ERROR,silent:X.SILENT},wR=X.INFO,ER={[X.DEBUG]:"log",[X.VERBOSE]:"log",[X.INFO]:"info",[X.WARN]:"warn",[X.ERROR]:"error"},TR=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),o=ER[e];if(o)console[o](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class W0{constructor(e){this.name=e,this._logLevel=wR,this._logHandler=TR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in X))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?_R[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,X.DEBUG,...e),this._logHandler(this,X.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,X.VERBOSE,...e),this._logHandler(this,X.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,X.INFO,...e),this._logHandler(this,X.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,X.WARN,...e),this._logHandler(this,X.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,X.ERROR,...e),this._logHandler(this,X.ERROR,...e)}}const SR=(t,e)=>e.some(n=>t instanceof n);let ng,rg;function CR(){return ng||(ng=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function IR(){return rg||(rg=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const G0=new WeakMap,kd=new WeakMap,q0=new WeakMap,sc=new WeakMap,Sf=new WeakMap;function AR(t){const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("success",i),t.removeEventListener("error",s)},i=()=>{n(Hn(t.result)),o()},s=()=>{r(t.error),o()};t.addEventListener("success",i),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&G0.set(n,t)}).catch(()=>{}),Sf.set(e,t),e}function RR(t){if(kd.has(t))return;const e=new Promise((n,r)=>{const o=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",s),t.removeEventListener("abort",s)},i=()=>{n(),o()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),o()};t.addEventListener("complete",i),t.addEventListener("error",s),t.addEventListener("abort",s)});kd.set(t,e)}let $d={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kd.get(t);if(e==="objectStoreNames")return t.objectStoreNames||q0.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Hn(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function xR(t){$d=t($d)}function PR(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(ac(this),e,...n);return q0.set(r,e.sort?e.sort():[e]),Hn(r)}:IR().includes(t)?function(...e){return t.apply(ac(this),e),Hn(G0.get(this))}:function(...e){return Hn(t.apply(ac(this),e))}}function bR(t){return typeof t=="function"?PR(t):(t instanceof IDBTransaction&&RR(t),SR(t,CR())?new Proxy(t,$d):t)}function Hn(t){if(t instanceof IDBRequest)return AR(t);if(sc.has(t))return sc.get(t);const e=bR(t);return e!==t&&(sc.set(t,e),Sf.set(e,t)),e}const ac=t=>Sf.get(t);function kR(t,e,{blocked:n,upgrade:r,blocking:o,terminated:i}={}){const s=indexedDB.open(t,e),a=Hn(s);return r&&s.addEventListener("upgradeneeded",l=>{r(Hn(s.result),l.oldVersion,l.newVersion,Hn(s.transaction),l)}),n&&s.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),o&&l.addEventListener("versionchange",u=>o(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const $R=["get","getKey","getAll","getAllKeys","count"],NR=["put","add","delete","clear"],lc=new Map;function og(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(lc.get(e))return lc.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,o=NR.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(o||$R.includes(n)))return;const i=async function(s,...a){const l=this.transaction(s,o?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),o&&l.done]))[0]};return lc.set(e,i),i}xR(t=>({...t,get:(e,n,r)=>og(e,n)||t.get(e,n,r),has:(e,n)=>!!og(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DR{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(VR(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function VR(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Nd="@firebase/app",ig="0.9.29";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const br=new W0("@firebase/app"),MR="@firebase/app-compat",OR="@firebase/analytics-compat",LR="@firebase/analytics",FR="@firebase/app-check-compat",jR="@firebase/app-check",zR="@firebase/auth",UR="@firebase/auth-compat",BR="@firebase/database",HR="@firebase/database-compat",WR="@firebase/functions",GR="@firebase/functions-compat",qR="@firebase/installations",KR="@firebase/installations-compat",QR="@firebase/messaging",YR="@firebase/messaging-compat",XR="@firebase/performance",JR="@firebase/performance-compat",ZR="@firebase/remote-config",ex="@firebase/remote-config-compat",tx="@firebase/storage",nx="@firebase/storage-compat",rx="@firebase/firestore",ox="@firebase/firestore-compat",ix="firebase",sx="10.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dd="[DEFAULT]",ax={[Nd]:"fire-core",[MR]:"fire-core-compat",[LR]:"fire-analytics",[OR]:"fire-analytics-compat",[jR]:"fire-app-check",[FR]:"fire-app-check-compat",[zR]:"fire-auth",[UR]:"fire-auth-compat",[BR]:"fire-rtdb",[HR]:"fire-rtdb-compat",[WR]:"fire-fn",[GR]:"fire-fn-compat",[qR]:"fire-iid",[KR]:"fire-iid-compat",[QR]:"fire-fcm",[YR]:"fire-fcm-compat",[XR]:"fire-perf",[JR]:"fire-perf-compat",[ZR]:"fire-rc",[ex]:"fire-rc-compat",[tx]:"fire-gcs",[nx]:"fire-gcs-compat",[rx]:"fire-fst",[ox]:"fire-fst-compat","fire-js":"fire-js",[ix]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dl=new Map,Vd=new Map;function lx(t,e){try{t.container.addComponent(e)}catch(n){br.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function hl(t){const e=t.name;if(Vd.has(e))return br.debug(`There were multiple attempts to register component ${e}.`),!1;Vd.set(e,t);for(const n of dl.values())lx(n,t);return!0}function ux(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cx={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},Wn=new H0("app","Firebase",cx);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ts("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Wn.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hx=sx;function K0(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Dd,automaticDataCollectionEnabled:!1},e),o=r.name;if(typeof o!="string"||!o)throw Wn.create("bad-app-name",{appName:String(o)});if(n||(n=U0()),!n)throw Wn.create("no-options");const i=dl.get(o);if(i){if(bd(n,i.options)&&bd(r,i.config))return i;throw Wn.create("duplicate-app",{appName:o})}const s=new vR(o);for(const l of Vd.values())s.addComponent(l);const a=new dx(n,r,s);return dl.set(o,a),a}function fx(t=Dd){const e=dl.get(t);if(!e&&t===Dd&&U0())return K0();if(!e)throw Wn.create("no-app",{appName:t});return e}function ho(t,e,n){var r;let o=(r=ax[t])!==null&&r!==void 0?r:t;n&&(o+=`-${n}`);const i=o.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${o}" with version "${e}":`];i&&a.push(`library name "${o}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),br.warn(a.join(" "));return}hl(new ts(`${o}-version`,()=>({library:o,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const px="firebase-heartbeat-database",mx=1,ns="firebase-heartbeat-store";let uc=null;function Q0(){return uc||(uc=kR(px,mx,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(ns)}catch(n){console.warn(n)}}}}).catch(t=>{throw Wn.create("idb-open",{originalErrorMessage:t.message})})),uc}async function gx(t){try{const n=(await Q0()).transaction(ns),r=await n.objectStore(ns).get(Y0(t));return await n.done,r}catch(e){if(e instanceof jo)br.warn(e.message);else{const n=Wn.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});br.warn(n.message)}}}async function sg(t,e){try{const r=(await Q0()).transaction(ns,"readwrite");await r.objectStore(ns).put(e,Y0(t)),await r.done}catch(n){if(n instanceof jo)br.warn(n.message);else{const r=Wn.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});br.warn(r.message)}}}function Y0(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx=1024,vx=30*24*60*60*1e3;class _x{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new Ex(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const o=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=ag();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(s=>s.date===i)))return this._heartbeatsCache.heartbeats.push({date:i,agent:o}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{const a=new Date(s.date).valueOf();return Date.now()-a<=vx}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=ag(),{heartbeatsToSend:r,unsentEntries:o}=wx(this._heartbeatsCache.heartbeats),i=ul(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,o.length>0?(this._heartbeatsCache.heartbeats=o,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function ag(){return new Date().toISOString().substring(0,10)}function wx(t,e=yx){const n=[];let r=t.slice();for(const o of t){const i=n.find(s=>s.agent===o.agent);if(i){if(i.dates.push(o.date),lg(n)>e){i.dates.pop();break}}else if(n.push({agent:o.agent,dates:[o.date]}),lg(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class Ex{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return B0()?dR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await gx(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return sg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const o=await this.read();return sg(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:o.lastSentHeartbeatDate,heartbeats:[...o.heartbeats,...e.heartbeats]})}else return}}function lg(t){return ul(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(t){hl(new ts("platform-logger",e=>new DR(e),"PRIVATE")),hl(new ts("heartbeat",e=>new _x(e),"PRIVATE")),ho(Nd,ig,t),ho(Nd,ig,"esm2017"),ho("fire-js","")}Tx("");var Sx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},k,Cf=Cf||{},U=Sx||self;function eu(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function Cs(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Cx(t){return Object.prototype.hasOwnProperty.call(t,cc)&&t[cc]||(t[cc]=++Ix)}var cc="closure_uid_"+(1e9*Math.random()>>>0),Ix=0;function Ax(t,e,n){return t.call.apply(t.bind,arguments)}function Rx(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var o=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(o,r),t.apply(e,o)}}return function(){return t.apply(e,arguments)}}function Ke(t,e,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Ke=Ax:Ke=Rx,Ke.apply(null,arguments)}function aa(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),t.apply(this,r)}}function ke(t,e){function n(){}n.prototype=e.prototype,t.$=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ac=function(r,o,i){for(var s=Array(arguments.length-2),a=2;a<arguments.length;a++)s[a-2]=arguments[a];return e.prototype[o].apply(r,s)}}function or(){this.s=this.s,this.o=this.o}var xx=0;or.prototype.s=!1;or.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),xx!=0)&&Cx(this)};or.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const X0=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1};function If(t){const e=t.length;if(0<e){const n=Array(e);for(let r=0;r<e;r++)n[r]=t[r];return n}return[]}function ug(t,e){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(eu(r)){const o=t.length||0,i=r.length||0;t.length=o+i;for(let s=0;s<i;s++)t[o+s]=r[s]}else t.push(r)}}function Qe(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Qe.prototype.h=function(){this.defaultPrevented=!0};var Px=function(){if(!U.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{const n=()=>{};U.addEventListener("test",n,e),U.removeEventListener("test",n,e)}catch{}return t}();function rs(t){return/^[\s\xa0]*$/.test(t)}function tu(){var t=U.navigator;return t&&(t=t.userAgent)?t:""}function qt(t){return tu().indexOf(t)!=-1}function Af(t){return Af[" "](t),t}Af[" "]=function(){};function bx(t,e){var n=TP;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}var kx=qt("Opera"),Ao=qt("Trident")||qt("MSIE"),J0=qt("Edge"),Md=J0||Ao,Z0=qt("Gecko")&&!(tu().toLowerCase().indexOf("webkit")!=-1&&!qt("Edge"))&&!(qt("Trident")||qt("MSIE"))&&!qt("Edge"),$x=tu().toLowerCase().indexOf("webkit")!=-1&&!qt("Edge");function e_(){var t=U.document;return t?t.documentMode:void 0}var Od;e:{var dc="",hc=function(){var t=tu();if(Z0)return/rv:([^\);]+)(\)|;)/.exec(t);if(J0)return/Edge\/([\d\.]+)/.exec(t);if(Ao)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if($x)return/WebKit\/(\S+)/.exec(t);if(kx)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(hc&&(dc=hc?hc[1]:""),Ao){var fc=e_();if(fc!=null&&fc>parseFloat(dc)){Od=String(fc);break e}}Od=dc}var Ld;if(U.document&&Ao){var cg=e_();Ld=cg||parseInt(Od,10)||void 0}else Ld=void 0;var Nx=Ld;function os(t,e){if(Qe.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var n=this.type=t.type,r=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Z0){e:{try{Af(e.nodeName);var o=!0;break e}catch{}o=!1}o||(e=null)}}else n=="mouseover"?e=t.fromElement:n=="mouseout"&&(e=t.toElement);this.relatedTarget=e,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Dx[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&os.$.h.call(this)}}ke(os,Qe);var Dx={2:"touch",3:"pen",4:"mouse"};os.prototype.h=function(){os.$.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var Is="closure_listenable_"+(1e6*Math.random()|0),Vx=0;function Mx(t,e,n,r,o){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.la=o,this.key=++Vx,this.fa=this.ia=!1}function nu(t){t.fa=!0,t.listener=null,t.proxy=null,t.src=null,t.la=null}function Rf(t,e,n){for(const r in t)e.call(n,t[r],r,t)}function Ox(t,e){for(const n in t)e.call(void 0,t[n],n,t)}function t_(t){const e={};for(const n in t)e[n]=t[n];return e}const dg="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function n_(t,e){let n,r;for(let o=1;o<arguments.length;o++){r=arguments[o];for(n in r)t[n]=r[n];for(let i=0;i<dg.length;i++)n=dg[i],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function ru(t){this.src=t,this.g={},this.h=0}ru.prototype.add=function(t,e,n,r,o){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var s=jd(t,e,r,o);return-1<s?(e=t[s],n||(e.ia=!1)):(e=new Mx(e,this.src,i,!!r,o),e.ia=n,t.push(e)),e};function Fd(t,e){var n=e.type;if(n in t.g){var r=t.g[n],o=X0(r,e),i;(i=0<=o)&&Array.prototype.splice.call(r,o,1),i&&(nu(e),t.g[n].length==0&&(delete t.g[n],t.h--))}}function jd(t,e,n,r){for(var o=0;o<t.length;++o){var i=t[o];if(!i.fa&&i.listener==e&&i.capture==!!n&&i.la==r)return o}return-1}var xf="closure_lm_"+(1e6*Math.random()|0),pc={};function r_(t,e,n,r,o){if(r&&r.once)return i_(t,e,n,r,o);if(Array.isArray(e)){for(var i=0;i<e.length;i++)r_(t,e[i],n,r,o);return null}return n=kf(n),t&&t[Is]?t.O(e,n,Cs(r)?!!r.capture:!!r,o):o_(t,e,n,!1,r,o)}function o_(t,e,n,r,o,i){if(!e)throw Error("Invalid event type");var s=Cs(o)?!!o.capture:!!o,a=bf(t);if(a||(t[xf]=a=new ru(t)),n=a.add(e,n,r,s,i),n.proxy)return n;if(r=Lx(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)Px||(o=s),o===void 0&&(o=!1),t.addEventListener(e.toString(),r,o);else if(t.attachEvent)t.attachEvent(a_(e.toString()),r);else if(t.addListener&&t.removeListener)t.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function Lx(){function t(n){return e.call(t.src,t.listener,n)}const e=Fx;return t}function i_(t,e,n,r,o){if(Array.isArray(e)){for(var i=0;i<e.length;i++)i_(t,e[i],n,r,o);return null}return n=kf(n),t&&t[Is]?t.P(e,n,Cs(r)?!!r.capture:!!r,o):o_(t,e,n,!0,r,o)}function s_(t,e,n,r,o){if(Array.isArray(e))for(var i=0;i<e.length;i++)s_(t,e[i],n,r,o);else r=Cs(r)?!!r.capture:!!r,n=kf(n),t&&t[Is]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],n=jd(i,n,r,o),-1<n&&(nu(i[n]),Array.prototype.splice.call(i,n,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=bf(t))&&(e=t.g[e.toString()],t=-1,e&&(t=jd(e,n,r,o)),(n=-1<t?e[t]:null)&&Pf(n))}function Pf(t){if(typeof t!="number"&&t&&!t.fa){var e=t.src;if(e&&e[Is])Fd(e.i,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(a_(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=bf(e))?(Fd(n,t),n.h==0&&(n.src=null,e[xf]=null)):nu(t)}}}function a_(t){return t in pc?pc[t]:pc[t]="on"+t}function Fx(t,e){if(t.fa)t=!0;else{e=new os(e,this);var n=t.listener,r=t.la||t.src;t.ia&&Pf(t),t=n.call(r,e)}return t}function bf(t){return t=t[xf],t instanceof ru?t:null}var mc="__closure_events_fn_"+(1e9*Math.random()>>>0);function kf(t){return typeof t=="function"?t:(t[mc]||(t[mc]=function(e){return t.handleEvent(e)}),t[mc])}function be(){or.call(this),this.i=new ru(this),this.S=this,this.J=null}ke(be,or);be.prototype[Is]=!0;be.prototype.removeEventListener=function(t,e,n,r){s_(this,t,e,n,r)};function Le(t,e){var n,r=t.J;if(r)for(n=[];r;r=r.J)n.push(r);if(t=t.S,r=e.type||e,typeof e=="string")e=new Qe(e,t);else if(e instanceof Qe)e.target=e.target||t;else{var o=e;e=new Qe(r,t),n_(e,o)}if(o=!0,n)for(var i=n.length-1;0<=i;i--){var s=e.g=n[i];o=la(s,r,!0,e)&&o}if(s=e.g=t,o=la(s,r,!0,e)&&o,o=la(s,r,!1,e)&&o,n)for(i=0;i<n.length;i++)s=e.g=n[i],o=la(s,r,!1,e)&&o}be.prototype.N=function(){if(be.$.N.call(this),this.i){var t=this.i,e;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)nu(n[r]);delete t.g[e],t.h--}}this.J=null};be.prototype.O=function(t,e,n,r){return this.i.add(String(t),e,!1,n,r)};be.prototype.P=function(t,e,n,r){return this.i.add(String(t),e,!0,n,r)};function la(t,e,n,r){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var o=!0,i=0;i<e.length;++i){var s=e[i];if(s&&!s.fa&&s.capture==n){var a=s.listener,l=s.la||s.src;s.ia&&Fd(t.i,s),o=a.call(l,r)!==!1&&o}}return o&&!r.defaultPrevented}var $f=U.JSON.stringify;class jx{constructor(e,n){this.i=e,this.j=n,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}function zx(){var t=Nf;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Ux{constructor(){this.h=this.g=null}add(e,n){const r=l_.get();r.set(e,n),this.h?this.h.next=r:this.g=r,this.h=r}}var l_=new jx(()=>new Bx,t=>t.reset());class Bx{constructor(){this.next=this.g=this.h=null}set(e,n){this.h=e,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function Hx(t){var e=1;t=t.split(":");const n=[];for(;0<e&&t.length;)n.push(t.shift()),e--;return t.length&&n.push(t.join(":")),n}function Wx(t){U.setTimeout(()=>{throw t},0)}let is,ss=!1,Nf=new Ux,u_=()=>{const t=U.Promise.resolve(void 0);is=()=>{t.then(Gx)}};var Gx=()=>{for(var t;t=zx();){try{t.h.call(t.g)}catch(n){Wx(n)}var e=l_;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}ss=!1};function ou(t,e){be.call(this),this.h=t||1,this.g=e||U,this.j=Ke(this.qb,this),this.l=Date.now()}ke(ou,be);k=ou.prototype;k.ga=!1;k.T=null;k.qb=function(){if(this.ga){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-t):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Le(this,"tick"),this.ga&&(Df(this),this.start()))}};k.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function Df(t){t.ga=!1,t.T&&(t.g.clearTimeout(t.T),t.T=null)}k.N=function(){ou.$.N.call(this),Df(this),delete this.g};function Vf(t,e,n){if(typeof t=="function")n&&(t=Ke(t,n));else if(t&&typeof t.handleEvent=="function")t=Ke(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:U.setTimeout(t,e||0)}function c_(t){t.g=Vf(()=>{t.g=null,t.i&&(t.i=!1,c_(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class qx extends or{constructor(e,n){super(),this.m=e,this.j=n,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:c_(this)}N(){super.N(),this.g&&(U.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function as(t){or.call(this),this.h=t,this.g={}}ke(as,or);var hg=[];function d_(t,e,n,r){Array.isArray(n)||(n&&(hg[0]=n.toString()),n=hg);for(var o=0;o<n.length;o++){var i=r_(e,n[o],r||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function h_(t){Rf(t.g,function(e,n){this.g.hasOwnProperty(n)&&Pf(e)},t),t.g={}}as.prototype.N=function(){as.$.N.call(this),h_(this)};as.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function iu(){this.g=!0}iu.prototype.Ea=function(){this.g=!1};function Kx(t,e,n,r,o,i){t.info(function(){if(t.g)if(i)for(var s="",a=i.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");s=2<=d.length&&d[1]=="type"?s+(c+"="+u+"&"):s+(c+"=redacted&")}}else s=null;else s=i;return"XMLHTTP REQ ("+r+") [attempt "+o+"]: "+e+`
`+n+`
`+s})}function Qx(t,e,n,r,o,i,s){t.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+o+"]: "+e+`
`+n+`
`+i+" "+s})}function oo(t,e,n,r){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+Xx(t,n)+(r?" "+r:"")})}function Yx(t,e){t.info(function(){return"TIMEOUT: "+e})}iu.prototype.info=function(){};function Xx(t,e){if(!t.g)return e;if(!e)return null;try{var n=JSON.parse(e);if(n){for(t=0;t<n.length;t++)if(Array.isArray(n[t])){var r=n[t];if(!(2>r.length)){var o=r[1];if(Array.isArray(o)&&!(1>o.length)){var i=o[0];if(i!="noop"&&i!="stop"&&i!="close")for(var s=1;s<o.length;s++)o[s]=""}}}}return $f(n)}catch{return e}}var Or={},fg=null;function su(){return fg=fg||new be}Or.Ta="serverreachability";function f_(t){Qe.call(this,Or.Ta,t)}ke(f_,Qe);function ls(t){const e=su();Le(e,new f_(e))}Or.STAT_EVENT="statevent";function p_(t,e){Qe.call(this,Or.STAT_EVENT,t),this.stat=e}ke(p_,Qe);function Ze(t){const e=su();Le(e,new p_(e,t))}Or.Ua="timingevent";function m_(t,e){Qe.call(this,Or.Ua,t),this.size=e}ke(m_,Qe);function As(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return U.setTimeout(function(){t()},e)}var au={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},g_={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function Mf(){}Mf.prototype.h=null;function pg(t){return t.h||(t.h=t.i())}function y_(){}var Rs={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Of(){Qe.call(this,"d")}ke(Of,Qe);function Lf(){Qe.call(this,"c")}ke(Lf,Qe);var zd;function lu(){}ke(lu,Mf);lu.prototype.g=function(){return new XMLHttpRequest};lu.prototype.i=function(){return{}};zd=new lu;function xs(t,e,n,r){this.l=t,this.j=e,this.m=n,this.W=r||1,this.U=new as(this),this.P=Jx,t=Md?125:void 0,this.V=new ou(t),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new v_}function v_(){this.i=null,this.g="",this.h=!1}var Jx=45e3,__={},Ud={};k=xs.prototype;k.setTimeout=function(t){this.P=t};function Bd(t,e,n){t.L=1,t.A=cu(En(e)),t.u=n,t.S=!0,w_(t,null)}function w_(t,e){t.G=Date.now(),Ps(t),t.B=En(t.A);var n=t.B,r=t.W;Array.isArray(r)||(r=[String(r)]),x_(n.i,"t",r),t.o=0,n=t.l.J,t.h=new v_,t.g=Q_(t.l,n?e:null,!t.u),0<t.O&&(t.M=new qx(Ke(t.Pa,t,t.g),t.O)),d_(t.U,t.g,"readystatechange",t.nb),e=t.I?t_(t.I):{},t.u?(t.v||(t.v="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.ha(t.B,t.v,t.u,e)):(t.v="GET",t.g.ha(t.B,t.v,null,e)),ls(),Kx(t.j,t.v,t.B,t.m,t.W,t.u)}k.nb=function(t){t=t.target;const e=this.M;e&&Kt(t)==3?e.l():this.Pa(t)};k.Pa=function(t){try{if(t==this.g)e:{const c=Kt(this.g);var e=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||Md||this.g&&(this.h.h||this.g.ja()||vg(this.g)))){this.J||c!=4||e==7||(e==8||0>=d?ls(3):ls(2)),uu(this);var n=this.g.da();this.ca=n;t:if(E_(this)){var r=vg(this.g);t="";var o=r.length,i=Kt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){yr(this),Ii(this);var s="";break t}this.h.i=new U.TextDecoder}for(e=0;e<o;e++)this.h.h=!0,t+=this.h.i.decode(r[e],{stream:i&&e==o-1});r.length=0,this.h.g+=t,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=n==200,Qx(this.j,this.v,this.B,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!rs(a)){var u=a;break t}}u=null}if(n=u)oo(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Hd(this,n);else{this.i=!1,this.s=3,Ze(12),yr(this),Ii(this);break e}}this.S?(T_(this,c,s),Md&&this.i&&c==3&&(d_(this.U,this.V,"tick",this.mb),this.V.start())):(oo(this.j,this.m,s,null),Hd(this,s)),c==4&&yr(this),this.i&&!this.J&&(c==4?W_(this.l,this):(this.i=!1,Ps(this)))}else _P(this.g),n==400&&0<s.indexOf("Unknown SID")?(this.s=3,Ze(12)):(this.s=0,Ze(13)),yr(this),Ii(this)}}}catch{}finally{}};function E_(t){return t.g?t.v=="GET"&&t.L!=2&&t.l.Ha:!1}function T_(t,e,n){let r=!0,o;for(;!t.J&&t.o<n.length;)if(o=Zx(t,n),o==Ud){e==4&&(t.s=4,Ze(14),r=!1),oo(t.j,t.m,null,"[Incomplete Response]");break}else if(o==__){t.s=4,Ze(15),oo(t.j,t.m,n,"[Invalid Chunk]"),r=!1;break}else oo(t.j,t.m,o,null),Hd(t,o);E_(t)&&t.o!=0&&(t.h.g=t.h.g.slice(t.o),t.o=0),e!=4||n.length!=0||t.h.h||(t.s=1,Ze(16),r=!1),t.i=t.i&&r,r?0<n.length&&!t.ba&&(t.ba=!0,e=t.l,e.g==t&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),Hf(e),e.M=!0,Ze(11))):(oo(t.j,t.m,n,"[Invalid Chunked Response]"),yr(t),Ii(t))}k.mb=function(){if(this.g){var t=Kt(this.g),e=this.g.ja();this.o<e.length&&(uu(this),T_(this,t,e),this.i&&t!=4&&Ps(this))}};function Zx(t,e){var n=t.o,r=e.indexOf(`
`,n);return r==-1?Ud:(n=Number(e.substring(n,r)),isNaN(n)?__:(r+=1,r+n>e.length?Ud:(e=e.slice(r,r+n),t.o=r+n,e)))}k.cancel=function(){this.J=!0,yr(this)};function Ps(t){t.Y=Date.now()+t.P,S_(t,t.P)}function S_(t,e){if(t.C!=null)throw Error("WatchDog timer not null");t.C=As(Ke(t.lb,t),e)}function uu(t){t.C&&(U.clearTimeout(t.C),t.C=null)}k.lb=function(){this.C=null;const t=Date.now();0<=t-this.Y?(Yx(this.j,this.B),this.L!=2&&(ls(),Ze(17)),yr(this),this.s=2,Ii(this)):S_(this,this.Y-t)};function Ii(t){t.l.H==0||t.J||W_(t.l,t)}function yr(t){uu(t);var e=t.M;e&&typeof e.sa=="function"&&e.sa(),t.M=null,Df(t.V),h_(t.U),t.g&&(e=t.g,t.g=null,e.abort(),e.sa())}function Hd(t,e){try{var n=t.l;if(n.H!=0&&(n.g==t||Wd(n.i,t))){if(!t.K&&Wd(n.i,t)&&n.H==3){try{var r=n.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&r.length==3){var o=r;if(o[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<t.G)ml(n),pu(n);else break e;Bf(n),Ze(18)}}else n.Fa=o[1],0<n.Fa-n.V&&37500>o[2]&&n.G&&n.A==0&&!n.v&&(n.v=As(Ke(n.ib,n),6e3));if(1>=k_(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else vr(n,11)}else if((t.K||n.g==t)&&ml(n),!rs(e))for(o=n.Ja.g.parse(e),e=0;e<o.length;e++){let u=o[e];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(r=1.5*h,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=t.g;if(p){const y=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(y){var i=r.i;i.g||y.indexOf("spdy")==-1&&y.indexOf("quic")==-1&&y.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Ff(i,i.h),i.h=null))}if(r.F){const _=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;_&&(r.Da=_,le(r.I,r.F,_))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-t.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var s=t;if(r.wa=K_(r,r.J?r.pa:null,r.Y),s.K){$_(r.i,s);var a=s,l=r.L;l&&a.setTimeout(l),a.C&&(uu(a),Ps(a)),r.g=s}else B_(r);0<n.j.length&&mu(n)}else u[0]!="stop"&&u[0]!="close"||vr(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?vr(n,7):Uf(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}ls(4)}catch{}}function eP(t){if(t.Z&&typeof t.Z=="function")return t.Z();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(eu(t)){for(var e=[],n=t.length,r=0;r<n;r++)e.push(t[r]);return e}e=[],n=0;for(r in t)e[n++]=t[r];return e}function tP(t){if(t.ta&&typeof t.ta=="function")return t.ta();if(!t.Z||typeof t.Z!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(eu(t)||typeof t=="string"){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}e=[],n=0;for(const r in t)e[n++]=r;return e}}}function C_(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(eu(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var n=tP(t),r=eP(t),o=r.length,i=0;i<o;i++)e.call(void 0,r[i],n&&n[i],t)}var I_=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function nP(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),o=null;if(0<=r){var i=t[n].substring(0,r);o=t[n].substring(r+1)}else i=t[n];e(i,o?decodeURIComponent(o.replace(/\+/g," ")):"")}}}function Sr(t){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof Sr){this.h=t.h,fl(this,t.j),this.s=t.s,this.g=t.g,pl(this,t.m),this.l=t.l;var e=t.i,n=new us;n.i=e.i,e.g&&(n.g=new Map(e.g),n.h=e.h),mg(this,n),this.o=t.o}else t&&(e=String(t).match(I_))?(this.h=!1,fl(this,e[1]||"",!0),this.s=hi(e[2]||""),this.g=hi(e[3]||"",!0),pl(this,e[4]),this.l=hi(e[5]||"",!0),mg(this,e[6]||"",!0),this.o=hi(e[7]||"")):(this.h=!1,this.i=new us(null,this.h))}Sr.prototype.toString=function(){var t=[],e=this.j;e&&t.push(fi(e,gg,!0),":");var n=this.g;return(n||e=="file")&&(t.push("//"),(e=this.s)&&t.push(fi(e,gg,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&t.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&t.push("/"),t.push(fi(n,n.charAt(0)=="/"?iP:oP,!0))),(n=this.i.toString())&&t.push("?",n),(n=this.o)&&t.push("#",fi(n,aP)),t.join("")};function En(t){return new Sr(t)}function fl(t,e,n){t.j=n?hi(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function pl(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function mg(t,e,n){e instanceof us?(t.i=e,lP(t.i,t.h)):(n||(e=fi(e,sP)),t.i=new us(e,t.h))}function le(t,e,n){t.i.set(e,n)}function cu(t){return le(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function hi(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function fi(t,e,n){return typeof t=="string"?(t=encodeURI(t).replace(e,rP),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function rP(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var gg=/[#\/\?@]/g,oP=/[#\?:]/g,iP=/[#\?]/g,sP=/[#\?@]/g,aP=/#/g;function us(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function ir(t){t.g||(t.g=new Map,t.h=0,t.i&&nP(t.i,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}k=us.prototype;k.add=function(t,e){ir(this),this.i=null,t=zo(this,t);var n=this.g.get(t);return n||this.g.set(t,n=[]),n.push(e),this.h+=1,this};function A_(t,e){ir(t),e=zo(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function R_(t,e){return ir(t),e=zo(t,e),t.g.has(e)}k.forEach=function(t,e){ir(this),this.g.forEach(function(n,r){n.forEach(function(o){t.call(e,o,r,this)},this)},this)};k.ta=function(){ir(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),n=[];for(let r=0;r<e.length;r++){const o=t[r];for(let i=0;i<o.length;i++)n.push(e[r])}return n};k.Z=function(t){ir(this);let e=[];if(typeof t=="string")R_(this,t)&&(e=e.concat(this.g.get(zo(this,t))));else{t=Array.from(this.g.values());for(let n=0;n<t.length;n++)e=e.concat(t[n])}return e};k.set=function(t,e){return ir(this),this.i=null,t=zo(this,t),R_(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};k.get=function(t,e){return t?(t=this.Z(t),0<t.length?String(t[0]):e):e};function x_(t,e,n){A_(t,e),0<n.length&&(t.i=null,t.g.set(zo(t,e),If(n)),t.h+=n.length)}k.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var n=0;n<e.length;n++){var r=e[n];const i=encodeURIComponent(String(r)),s=this.Z(r);for(r=0;r<s.length;r++){var o=i;s[r]!==""&&(o+="="+encodeURIComponent(String(s[r]))),t.push(o)}}return this.i=t.join("&")};function zo(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function lP(t,e){e&&!t.j&&(ir(t),t.i=null,t.g.forEach(function(n,r){var o=r.toLowerCase();r!=o&&(A_(this,r),x_(this,o,n))},t)),t.j=e}var uP=class{constructor(t,e){this.g=t,this.map=e}};function P_(t){this.l=t||cP,U.PerformanceNavigationTiming?(t=U.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(U.g&&U.g.Ka&&U.g.Ka()&&U.g.Ka().dc),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var cP=10;function b_(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function k_(t){return t.h?1:t.g?t.g.size:0}function Wd(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Ff(t,e){t.g?t.g.add(e):t.h=e}function $_(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}P_.prototype.cancel=function(){if(this.i=N_(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function N_(t){if(t.h!=null)return t.i.concat(t.h.F);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const n of t.g.values())e=e.concat(n.F);return e}return If(t.i)}var dP=class{stringify(t){return U.JSON.stringify(t,void 0)}parse(t){return U.JSON.parse(t,void 0)}};function hP(){this.g=new dP}function fP(t,e,n){const r=n||"";try{C_(t,function(o,i){let s=o;Cs(o)&&(s=$f(o)),e.push(r+i+"="+encodeURIComponent(s))})}catch(o){throw e.push(r+"type="+encodeURIComponent("_badmap")),o}}function pP(t,e){const n=new iu;if(U.Image){const r=new Image;r.onload=aa(ua,n,r,"TestLoadImage: loaded",!0,e),r.onerror=aa(ua,n,r,"TestLoadImage: error",!1,e),r.onabort=aa(ua,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=aa(ua,n,r,"TestLoadImage: timeout",!1,e),U.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}else e(!1)}function ua(t,e,n,r,o){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,o(r)}catch{}}function du(t){this.l=t.ec||null,this.j=t.ob||!1}ke(du,Mf);du.prototype.g=function(){return new hu(this.l,this.j)};du.prototype.i=function(t){return function(){return t}}({});function hu(t,e){be.call(this),this.F=t,this.u=e,this.m=void 0,this.readyState=jf,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ke(hu,be);var jf=0;k=hu.prototype;k.open=function(t,e){if(this.readyState!=jf)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,cs(this)};k.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.F||U).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))};k.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bs(this)),this.readyState=jf};k.$a=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,cs(this)),this.g&&(this.readyState=3,cs(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof U.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;D_(this)}else t.text().then(this.Za.bind(this),this.ka.bind(this))};function D_(t){t.j.read().then(t.Xa.bind(t)).catch(t.ka.bind(t))}k.Xa=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?bs(this):cs(this),this.readyState==3&&D_(this)}};k.Za=function(t){this.g&&(this.response=this.responseText=t,bs(this))};k.Ya=function(t){this.g&&(this.response=t,bs(this))};k.ka=function(){this.g&&bs(this)};function bs(t){t.readyState=4,t.l=null,t.j=null,t.A=null,cs(t)}k.setRequestHeader=function(t,e){this.v.append(t,e)};k.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};k.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join(`\r
`)};function cs(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(hu.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var mP=U.JSON.parse;function ve(t){be.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=V_,this.L=this.M=!1}ke(ve,be);var V_="",gP=/^https?$/i,yP=["POST","PUT"];k=ve.prototype;k.Oa=function(t){this.M=t};k.ha=function(t,e,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+t);e=e?e.toUpperCase():"GET",this.I=t,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():zd.g(),this.C=this.u?pg(this.u):pg(zd),this.g.onreadystatechange=Ke(this.La,this);try{this.G=!0,this.g.open(e,String(t),!0),this.G=!1}catch(i){yg(this,i);return}if(t=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var o in r)n.set(o,r[o]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const i of r.keys())n.set(i,r.get(i));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(i=>i.toLowerCase()=="content-type"),o=U.FormData&&t instanceof U.FormData,!(0<=X0(yP,e))||r||o||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,s]of n)this.g.setRequestHeader(i,s);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{L_(this),0<this.B&&((this.L=vP(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Ke(this.ua,this)):this.A=Vf(this.ua,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){yg(this,i)}};function vP(t){return Ao&&typeof t.timeout=="number"&&t.ontimeout!==void 0}k.ua=function(){typeof Cf<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Le(this,"timeout"),this.abort(8))};function yg(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,M_(t),fu(t)}function M_(t){t.F||(t.F=!0,Le(t,"complete"),Le(t,"error"))}k.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,Le(this,"complete"),Le(this,"abort"),fu(this))};k.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),fu(this,!0)),ve.$.N.call(this)};k.La=function(){this.s||(this.G||this.v||this.l?O_(this):this.kb())};k.kb=function(){O_(this)};function O_(t){if(t.h&&typeof Cf<"u"&&(!t.C[1]||Kt(t)!=4||t.da()!=2)){if(t.v&&Kt(t)==4)Vf(t.La,0,t);else if(Le(t,"readystatechange"),Kt(t)==4){t.h=!1;try{const s=t.da();e:switch(s){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var n;if(!(n=e)){var r;if(r=s===0){var o=String(t.I).match(I_)[1]||null;!o&&U.self&&U.self.location&&(o=U.self.location.protocol.slice(0,-1)),r=!gP.test(o?o.toLowerCase():"")}n=r}if(n)Le(t,"complete"),Le(t,"success");else{t.m=6;try{var i=2<Kt(t)?t.g.statusText:""}catch{i=""}t.j=i+" ["+t.da()+"]",M_(t)}}finally{fu(t)}}}}function fu(t,e){if(t.g){L_(t);const n=t.g,r=t.C[0]?()=>{}:null;t.g=null,t.C=null,e||Le(t,"ready");try{n.onreadystatechange=r}catch{}}}function L_(t){t.g&&t.L&&(t.g.ontimeout=null),t.A&&(U.clearTimeout(t.A),t.A=null)}k.isActive=function(){return!!this.g};function Kt(t){return t.g?t.g.readyState:0}k.da=function(){try{return 2<Kt(this)?this.g.status:-1}catch{return-1}};k.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};k.Wa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),mP(e)}};function vg(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.K){case V_:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}function _P(t){const e={};t=(t.g&&2<=Kt(t)&&t.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<t.length;r++){if(rs(t[r]))continue;var n=Hx(t[r]);const o=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const i=e[o]||[];e[o]=i,i.push(n)}Ox(e,function(r){return r.join(", ")})}k.Ia=function(){return this.m};k.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function F_(t){let e="";return Rf(t,function(n,r){e+=r,e+=":",e+=n,e+=`\r
`}),e}function zf(t,e,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=F_(n),typeof t=="string"?n!=null&&encodeURIComponent(String(n)):le(t,e,n))}function oi(t,e,n){return n&&n.internalChannelParams&&n.internalChannelParams[t]||e}function j_(t){this.Ga=0,this.j=[],this.l=new iu,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=oi("failFast",!1,t),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=oi("baseRetryDelayMs",5e3,t),this.hb=oi("retryDelaySeedMs",1e4,t),this.eb=oi("forwardChannelMaxRetries",2,t),this.xa=oi("forwardChannelRequestTimeoutMs",2e4,t),this.va=t&&t.xmlHttpFactory||void 0,this.Ha=t&&t.useFetchStreams||!1,this.L=void 0,this.J=t&&t.supportsCrossDomainXhr||!1,this.K="",this.i=new P_(t&&t.concurrentRequestLimit),this.Ja=new hP,this.P=t&&t.fastHandshake||!1,this.O=t&&t.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=t&&t.bc||!1,t&&t.Ea&&this.l.Ea(),t&&t.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&t&&t.detectBufferingProxy||!1,this.qa=void 0,t&&t.longPollingTimeout&&0<t.longPollingTimeout&&(this.qa=t.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}k=j_.prototype;k.ra=8;k.H=1;function Uf(t){if(z_(t),t.H==3){var e=t.W++,n=En(t.I);if(le(n,"SID",t.K),le(n,"RID",e),le(n,"TYPE","terminate"),ks(t,n),e=new xs(t,t.l,e),e.L=2,e.A=cu(En(n)),n=!1,U.navigator&&U.navigator.sendBeacon)try{n=U.navigator.sendBeacon(e.A.toString(),"")}catch{}!n&&U.Image&&(new Image().src=e.A,n=!0),n||(e.g=Q_(e.l,null),e.g.ha(e.A)),e.G=Date.now(),Ps(e)}q_(t)}function pu(t){t.g&&(Hf(t),t.g.cancel(),t.g=null)}function z_(t){pu(t),t.u&&(U.clearTimeout(t.u),t.u=null),ml(t),t.i.cancel(),t.m&&(typeof t.m=="number"&&U.clearTimeout(t.m),t.m=null)}function mu(t){if(!b_(t.i)&&!t.m){t.m=!0;var e=t.Na;is||u_(),ss||(is(),ss=!0),Nf.add(e,t),t.C=0}}function wP(t,e){return k_(t.i)>=t.i.j-(t.m?1:0)?!1:t.m?(t.j=e.F.concat(t.j),!0):t.H==1||t.H==2||t.C>=(t.cb?0:t.eb)?!1:(t.m=As(Ke(t.Na,t,e),G_(t,t.C)),t.C++,!0)}k.Na=function(t){if(this.m)if(this.m=null,this.H==1){if(!t){this.W=Math.floor(1e5*Math.random()),t=this.W++;const o=new xs(this,this.l,t);let i=this.s;if(this.U&&(i?(i=t_(i),n_(i,this.U)):i=this.U),this.o!==null||this.O||(o.I=i,i=null),this.P)e:{for(var e=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(e+=r,4096<e){e=n;break e}if(e===4096||n===this.j.length-1){e=n+1;break e}}e=1e3}else e=1e3;e=U_(this,o,e),n=En(this.I),le(n,"RID",t),le(n,"CVER",22),this.F&&le(n,"X-HTTP-Session-Id",this.F),ks(this,n),i&&(this.O?e="headers="+encodeURIComponent(String(F_(i)))+"&"+e:this.o&&zf(n,this.o,i)),Ff(this.i,o),this.bb&&le(n,"TYPE","init"),this.P?(le(n,"$req",e),le(n,"SID","null"),o.aa=!0,Bd(o,n,null)):Bd(o,n,e),this.H=2}}else this.H==3&&(t?_g(this,t):this.j.length==0||b_(this.i)||_g(this))};function _g(t,e){var n;e?n=e.m:n=t.W++;const r=En(t.I);le(r,"SID",t.K),le(r,"RID",n),le(r,"AID",t.V),ks(t,r),t.o&&t.s&&zf(r,t.o,t.s),n=new xs(t,t.l,n,t.C+1),t.o===null&&(n.I=t.s),e&&(t.j=e.F.concat(t.j)),e=U_(t,n,1e3),n.setTimeout(Math.round(.5*t.xa)+Math.round(.5*t.xa*Math.random())),Ff(t.i,n),Bd(n,r,e)}function ks(t,e){t.na&&Rf(t.na,function(n,r){le(e,r,n)}),t.h&&C_({},function(n,r){le(e,r,n)})}function U_(t,e,n){n=Math.min(t.j.length,n);var r=t.h?Ke(t.h.Va,t.h,t):null;e:{var o=t.j;let i=-1;for(;;){const s=["count="+n];i==-1?0<n?(i=o[0].g,s.push("ofs="+i)):i=0:s.push("ofs="+i);let a=!0;for(let l=0;l<n;l++){let u=o[l].g;const c=o[l].map;if(u-=i,0>u)i=Math.max(0,o[l].g-100),a=!1;else try{fP(c,s,"req"+u+"_")}catch{r&&r(c)}}if(a){r=s.join("&");break e}}}return t=t.j.splice(0,n),e.F=t,r}function B_(t){if(!t.g&&!t.u){t.ba=1;var e=t.Ma;is||u_(),ss||(is(),ss=!0),Nf.add(e,t),t.A=0}}function Bf(t){return t.g||t.u||3<=t.A?!1:(t.ba++,t.u=As(Ke(t.Ma,t),G_(t,t.A)),t.A++,!0)}k.Ma=function(){if(this.u=null,H_(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var t=2*this.S;this.l.info("BP detection timer enabled: "+t),this.B=As(Ke(this.jb,this),t)}};k.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Ze(10),pu(this),H_(this))};function Hf(t){t.B!=null&&(U.clearTimeout(t.B),t.B=null)}function H_(t){t.g=new xs(t,t.l,"rpc",t.ba),t.o===null&&(t.g.I=t.s),t.g.O=0;var e=En(t.wa);le(e,"RID","rpc"),le(e,"SID",t.K),le(e,"AID",t.V),le(e,"CI",t.G?"0":"1"),!t.G&&t.qa&&le(e,"TO",t.qa),le(e,"TYPE","xmlhttp"),ks(t,e),t.o&&t.s&&zf(e,t.o,t.s),t.L&&t.g.setTimeout(t.L);var n=t.g;t=t.pa,n.L=1,n.A=cu(En(e)),n.u=null,n.S=!0,w_(n,t)}k.ib=function(){this.v!=null&&(this.v=null,pu(this),Bf(this),Ze(19))};function ml(t){t.v!=null&&(U.clearTimeout(t.v),t.v=null)}function W_(t,e){var n=null;if(t.g==e){ml(t),Hf(t),t.g=null;var r=2}else if(Wd(t.i,e))n=e.F,$_(t.i,e),r=1;else return;if(t.H!=0){if(e.i)if(r==1){n=e.u?e.u.length:0,e=Date.now()-e.G;var o=t.C;r=su(),Le(r,new m_(r,n)),mu(t)}else B_(t);else if(o=e.s,o==3||o==0&&0<e.ca||!(r==1&&wP(t,e)||r==2&&Bf(t)))switch(n&&0<n.length&&(e=t.i,e.i=e.i.concat(n)),o){case 1:vr(t,5);break;case 4:vr(t,10);break;case 3:vr(t,6);break;default:vr(t,2)}}}function G_(t,e){let n=t.ab+Math.floor(Math.random()*t.hb);return t.isActive()||(n*=2),n*e}function vr(t,e){if(t.l.info("Error code "+e),e==2){var n=null;t.h&&(n=null);var r=Ke(t.pb,t);n||(n=new Sr("//www.google.com/images/cleardot.gif"),U.location&&U.location.protocol=="http"||fl(n,"https"),cu(n)),pP(n.toString(),r)}else Ze(2);t.H=0,t.h&&t.h.za(e),q_(t),z_(t)}k.pb=function(t){t?(this.l.info("Successfully pinged google.com"),Ze(2)):(this.l.info("Failed to ping google.com"),Ze(1))};function q_(t){if(t.H=0,t.ma=[],t.h){const e=N_(t.i);(e.length!=0||t.j.length!=0)&&(ug(t.ma,e),ug(t.ma,t.j),t.i.i.length=0,If(t.j),t.j.length=0),t.h.ya()}}function K_(t,e,n){var r=n instanceof Sr?En(n):new Sr(n);if(r.g!="")e&&(r.g=e+"."+r.g),pl(r,r.m);else{var o=U.location;r=o.protocol,e=e?e+"."+o.hostname:o.hostname,o=+o.port;var i=new Sr(null);r&&fl(i,r),e&&(i.g=e),o&&pl(i,o),n&&(i.l=n),r=i}return n=t.F,e=t.Da,n&&e&&le(r,n,e),le(r,"VER",t.ra),ks(t,r),r}function Q_(t,e,n){if(e&&!t.J)throw Error("Can't create secondary domain capable XhrIo object.");return e=t.Ha&&!t.va?new ve(new du({ob:n})):new ve(t.va),e.Oa(t.J),e}k.isActive=function(){return!!this.h&&this.h.isActive(this)};function Y_(){}k=Y_.prototype;k.Ba=function(){};k.Aa=function(){};k.za=function(){};k.ya=function(){};k.isActive=function(){return!0};k.Va=function(){};function gl(){if(Ao&&!(10<=Number(Nx)))throw Error("Environmental error: no available transport.")}gl.prototype.g=function(t,e){return new yt(t,e)};function yt(t,e){be.call(this),this.g=new j_(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(t?t["X-WebChannel-Client-Profile"]=e.Ca:t={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=t,(t=e&&e.cc)&&!rs(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!rs(e)&&(this.g.F=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Uo(this)}ke(yt,be);yt.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var t=this.g,e=this.l,n=this.h||void 0;Ze(0),t.Y=e,t.na=n||{},t.G=t.aa,t.I=K_(t,null,t.Y),mu(t)};yt.prototype.close=function(){Uf(this.g)};yt.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var n={};n.__data__=t,t=n}else this.v&&(n={},n.__data__=$f(t),t=n);e.j.push(new uP(e.fb++,t)),e.H==3&&mu(e)};yt.prototype.N=function(){this.g.h=null,delete this.j,Uf(this.g),delete this.g,yt.$.N.call(this)};function X_(t){Of.call(this),t.__headers__&&(this.headers=t.__headers__,this.statusCode=t.__status__,delete t.__headers__,delete t.__status__);var e=t.__sm__;if(e){e:{for(const n in e){t=n;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ke(X_,Of);function J_(){Lf.call(this),this.status=1}ke(J_,Lf);function Uo(t){this.g=t}ke(Uo,Y_);Uo.prototype.Ba=function(){Le(this.g,"a")};Uo.prototype.Aa=function(t){Le(this.g,new X_(t))};Uo.prototype.za=function(t){Le(this.g,new J_)};Uo.prototype.ya=function(){Le(this.g,"b")};function EP(){this.blockSize=-1}function zt(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}ke(zt,EP);zt.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function gc(t,e,n){n||(n=0);var r=Array(16);if(typeof e=="string")for(var o=0;16>o;++o)r[o]=e.charCodeAt(n++)|e.charCodeAt(n++)<<8|e.charCodeAt(n++)<<16|e.charCodeAt(n++)<<24;else for(o=0;16>o;++o)r[o]=e[n++]|e[n++]<<8|e[n++]<<16|e[n++]<<24;e=t.g[0],n=t.g[1],o=t.g[2];var i=t.g[3],s=e+(i^n&(o^i))+r[0]+3614090360&4294967295;e=n+(s<<7&4294967295|s>>>25),s=i+(o^e&(n^o))+r[1]+3905402710&4294967295,i=e+(s<<12&4294967295|s>>>20),s=o+(n^i&(e^n))+r[2]+606105819&4294967295,o=i+(s<<17&4294967295|s>>>15),s=n+(e^o&(i^e))+r[3]+3250441966&4294967295,n=o+(s<<22&4294967295|s>>>10),s=e+(i^n&(o^i))+r[4]+4118548399&4294967295,e=n+(s<<7&4294967295|s>>>25),s=i+(o^e&(n^o))+r[5]+1200080426&4294967295,i=e+(s<<12&4294967295|s>>>20),s=o+(n^i&(e^n))+r[6]+2821735955&4294967295,o=i+(s<<17&4294967295|s>>>15),s=n+(e^o&(i^e))+r[7]+4249261313&4294967295,n=o+(s<<22&4294967295|s>>>10),s=e+(i^n&(o^i))+r[8]+1770035416&4294967295,e=n+(s<<7&4294967295|s>>>25),s=i+(o^e&(n^o))+r[9]+2336552879&4294967295,i=e+(s<<12&4294967295|s>>>20),s=o+(n^i&(e^n))+r[10]+4294925233&4294967295,o=i+(s<<17&4294967295|s>>>15),s=n+(e^o&(i^e))+r[11]+2304563134&4294967295,n=o+(s<<22&4294967295|s>>>10),s=e+(i^n&(o^i))+r[12]+1804603682&4294967295,e=n+(s<<7&4294967295|s>>>25),s=i+(o^e&(n^o))+r[13]+4254626195&4294967295,i=e+(s<<12&4294967295|s>>>20),s=o+(n^i&(e^n))+r[14]+2792965006&4294967295,o=i+(s<<17&4294967295|s>>>15),s=n+(e^o&(i^e))+r[15]+1236535329&4294967295,n=o+(s<<22&4294967295|s>>>10),s=e+(o^i&(n^o))+r[1]+4129170786&4294967295,e=n+(s<<5&4294967295|s>>>27),s=i+(n^o&(e^n))+r[6]+3225465664&4294967295,i=e+(s<<9&4294967295|s>>>23),s=o+(e^n&(i^e))+r[11]+643717713&4294967295,o=i+(s<<14&4294967295|s>>>18),s=n+(i^e&(o^i))+r[0]+3921069994&4294967295,n=o+(s<<20&4294967295|s>>>12),s=e+(o^i&(n^o))+r[5]+3593408605&4294967295,e=n+(s<<5&4294967295|s>>>27),s=i+(n^o&(e^n))+r[10]+38016083&4294967295,i=e+(s<<9&4294967295|s>>>23),s=o+(e^n&(i^e))+r[15]+3634488961&4294967295,o=i+(s<<14&4294967295|s>>>18),s=n+(i^e&(o^i))+r[4]+3889429448&4294967295,n=o+(s<<20&4294967295|s>>>12),s=e+(o^i&(n^o))+r[9]+568446438&4294967295,e=n+(s<<5&4294967295|s>>>27),s=i+(n^o&(e^n))+r[14]+3275163606&4294967295,i=e+(s<<9&4294967295|s>>>23),s=o+(e^n&(i^e))+r[3]+4107603335&4294967295,o=i+(s<<14&4294967295|s>>>18),s=n+(i^e&(o^i))+r[8]+1163531501&4294967295,n=o+(s<<20&4294967295|s>>>12),s=e+(o^i&(n^o))+r[13]+2850285829&4294967295,e=n+(s<<5&4294967295|s>>>27),s=i+(n^o&(e^n))+r[2]+4243563512&4294967295,i=e+(s<<9&4294967295|s>>>23),s=o+(e^n&(i^e))+r[7]+1735328473&4294967295,o=i+(s<<14&4294967295|s>>>18),s=n+(i^e&(o^i))+r[12]+2368359562&4294967295,n=o+(s<<20&4294967295|s>>>12),s=e+(n^o^i)+r[5]+4294588738&4294967295,e=n+(s<<4&4294967295|s>>>28),s=i+(e^n^o)+r[8]+2272392833&4294967295,i=e+(s<<11&4294967295|s>>>21),s=o+(i^e^n)+r[11]+1839030562&4294967295,o=i+(s<<16&4294967295|s>>>16),s=n+(o^i^e)+r[14]+4259657740&4294967295,n=o+(s<<23&4294967295|s>>>9),s=e+(n^o^i)+r[1]+2763975236&4294967295,e=n+(s<<4&4294967295|s>>>28),s=i+(e^n^o)+r[4]+1272893353&4294967295,i=e+(s<<11&4294967295|s>>>21),s=o+(i^e^n)+r[7]+4139469664&4294967295,o=i+(s<<16&4294967295|s>>>16),s=n+(o^i^e)+r[10]+3200236656&4294967295,n=o+(s<<23&4294967295|s>>>9),s=e+(n^o^i)+r[13]+681279174&4294967295,e=n+(s<<4&4294967295|s>>>28),s=i+(e^n^o)+r[0]+3936430074&4294967295,i=e+(s<<11&4294967295|s>>>21),s=o+(i^e^n)+r[3]+3572445317&4294967295,o=i+(s<<16&4294967295|s>>>16),s=n+(o^i^e)+r[6]+76029189&4294967295,n=o+(s<<23&4294967295|s>>>9),s=e+(n^o^i)+r[9]+3654602809&4294967295,e=n+(s<<4&4294967295|s>>>28),s=i+(e^n^o)+r[12]+3873151461&4294967295,i=e+(s<<11&4294967295|s>>>21),s=o+(i^e^n)+r[15]+530742520&4294967295,o=i+(s<<16&4294967295|s>>>16),s=n+(o^i^e)+r[2]+3299628645&4294967295,n=o+(s<<23&4294967295|s>>>9),s=e+(o^(n|~i))+r[0]+4096336452&4294967295,e=n+(s<<6&4294967295|s>>>26),s=i+(n^(e|~o))+r[7]+1126891415&4294967295,i=e+(s<<10&4294967295|s>>>22),s=o+(e^(i|~n))+r[14]+2878612391&4294967295,o=i+(s<<15&4294967295|s>>>17),s=n+(i^(o|~e))+r[5]+4237533241&4294967295,n=o+(s<<21&4294967295|s>>>11),s=e+(o^(n|~i))+r[12]+1700485571&4294967295,e=n+(s<<6&4294967295|s>>>26),s=i+(n^(e|~o))+r[3]+2399980690&4294967295,i=e+(s<<10&4294967295|s>>>22),s=o+(e^(i|~n))+r[10]+4293915773&4294967295,o=i+(s<<15&4294967295|s>>>17),s=n+(i^(o|~e))+r[1]+2240044497&4294967295,n=o+(s<<21&4294967295|s>>>11),s=e+(o^(n|~i))+r[8]+1873313359&4294967295,e=n+(s<<6&4294967295|s>>>26),s=i+(n^(e|~o))+r[15]+4264355552&4294967295,i=e+(s<<10&4294967295|s>>>22),s=o+(e^(i|~n))+r[6]+2734768916&4294967295,o=i+(s<<15&4294967295|s>>>17),s=n+(i^(o|~e))+r[13]+1309151649&4294967295,n=o+(s<<21&4294967295|s>>>11),s=e+(o^(n|~i))+r[4]+4149444226&4294967295,e=n+(s<<6&4294967295|s>>>26),s=i+(n^(e|~o))+r[11]+3174756917&4294967295,i=e+(s<<10&4294967295|s>>>22),s=o+(e^(i|~n))+r[2]+718787259&4294967295,o=i+(s<<15&4294967295|s>>>17),s=n+(i^(o|~e))+r[9]+3951481745&4294967295,t.g[0]=t.g[0]+e&4294967295,t.g[1]=t.g[1]+(o+(s<<21&4294967295|s>>>11))&4294967295,t.g[2]=t.g[2]+o&4294967295,t.g[3]=t.g[3]+i&4294967295}zt.prototype.j=function(t,e){e===void 0&&(e=t.length);for(var n=e-this.blockSize,r=this.m,o=this.h,i=0;i<e;){if(o==0)for(;i<=n;)gc(this,t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<e;)if(r[o++]=t.charCodeAt(i++),o==this.blockSize){gc(this,r),o=0;break}}else for(;i<e;)if(r[o++]=t[i++],o==this.blockSize){gc(this,r),o=0;break}}this.h=o,this.i+=e};zt.prototype.l=function(){var t=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);t[0]=128;for(var e=1;e<t.length-8;++e)t[e]=0;var n=8*this.i;for(e=t.length-8;e<t.length;++e)t[e]=n&255,n/=256;for(this.j(t),t=Array(16),e=n=0;4>e;++e)for(var r=0;32>r;r+=8)t[n++]=this.g[e]>>>r&255;return t};function te(t,e){this.h=e;for(var n=[],r=!0,o=t.length-1;0<=o;o--){var i=t[o]|0;r&&i==e||(n[o]=i,r=!1)}this.g=n}var TP={};function Wf(t){return-128<=t&&128>t?bx(t,function(e){return new te([e|0],0>e?-1:0)}):new te([t|0],0>t?-1:0)}function Qt(t){if(isNaN(t)||!isFinite(t))return fo;if(0>t)return Ve(Qt(-t));for(var e=[],n=1,r=0;t>=n;r++)e[r]=t/n|0,n*=Gd;return new te(e,0)}function Z_(t,e){if(t.length==0)throw Error("number format error: empty string");if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(t.charAt(0)=="-")return Ve(Z_(t.substring(1),e));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=Qt(Math.pow(e,8)),r=fo,o=0;o<t.length;o+=8){var i=Math.min(8,t.length-o),s=parseInt(t.substring(o,o+i),e);8>i?(i=Qt(Math.pow(e,i)),r=r.R(i).add(Qt(s))):(r=r.R(n),r=r.add(Qt(s)))}return r}var Gd=4294967296,fo=Wf(0),qd=Wf(1),wg=Wf(16777216);k=te.prototype;k.ea=function(){if(St(this))return-Ve(this).ea();for(var t=0,e=1,n=0;n<this.g.length;n++){var r=this.D(n);t+=(0<=r?r:Gd+r)*e,e*=Gd}return t};k.toString=function(t){if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(dn(this))return"0";if(St(this))return"-"+Ve(this).toString(t);for(var e=Qt(Math.pow(t,6)),n=this,r="";;){var o=vl(n,e).g;n=yl(n,o.R(e));var i=((0<n.g.length?n.g[0]:n.h)>>>0).toString(t);if(n=o,dn(n))return i+r;for(;6>i.length;)i="0"+i;r=i+r}};k.D=function(t){return 0>t?0:t<this.g.length?this.g[t]:this.h};function dn(t){if(t.h!=0)return!1;for(var e=0;e<t.g.length;e++)if(t.g[e]!=0)return!1;return!0}function St(t){return t.h==-1}k.X=function(t){return t=yl(this,t),St(t)?-1:dn(t)?0:1};function Ve(t){for(var e=t.g.length,n=[],r=0;r<e;r++)n[r]=~t.g[r];return new te(n,~t.h).add(qd)}k.abs=function(){return St(this)?Ve(this):this};k.add=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0,o=0;o<=e;o++){var i=r+(this.D(o)&65535)+(t.D(o)&65535),s=(i>>>16)+(this.D(o)>>>16)+(t.D(o)>>>16);r=s>>>16,i&=65535,s&=65535,n[o]=s<<16|i}return new te(n,n[n.length-1]&-2147483648?-1:0)};function yl(t,e){return t.add(Ve(e))}k.R=function(t){if(dn(this)||dn(t))return fo;if(St(this))return St(t)?Ve(this).R(Ve(t)):Ve(Ve(this).R(t));if(St(t))return Ve(this.R(Ve(t)));if(0>this.X(wg)&&0>t.X(wg))return Qt(this.ea()*t.ea());for(var e=this.g.length+t.g.length,n=[],r=0;r<2*e;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var o=0;o<t.g.length;o++){var i=this.D(r)>>>16,s=this.D(r)&65535,a=t.D(o)>>>16,l=t.D(o)&65535;n[2*r+2*o]+=s*l,ca(n,2*r+2*o),n[2*r+2*o+1]+=i*l,ca(n,2*r+2*o+1),n[2*r+2*o+1]+=s*a,ca(n,2*r+2*o+1),n[2*r+2*o+2]+=i*a,ca(n,2*r+2*o+2)}for(r=0;r<e;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=e;r<2*e;r++)n[r]=0;return new te(n,0)};function ca(t,e){for(;(t[e]&65535)!=t[e];)t[e+1]+=t[e]>>>16,t[e]&=65535,e++}function ii(t,e){this.g=t,this.h=e}function vl(t,e){if(dn(e))throw Error("division by zero");if(dn(t))return new ii(fo,fo);if(St(t))return e=vl(Ve(t),e),new ii(Ve(e.g),Ve(e.h));if(St(e))return e=vl(t,Ve(e)),new ii(Ve(e.g),e.h);if(30<t.g.length){if(St(t)||St(e))throw Error("slowDivide_ only works with positive integers.");for(var n=qd,r=e;0>=r.X(t);)n=Eg(n),r=Eg(r);var o=Ur(n,1),i=Ur(r,1);for(r=Ur(r,2),n=Ur(n,2);!dn(r);){var s=i.add(r);0>=s.X(t)&&(o=o.add(n),i=s),r=Ur(r,1),n=Ur(n,1)}return e=yl(t,o.R(e)),new ii(o,e)}for(o=fo;0<=t.X(e);){for(n=Math.max(1,Math.floor(t.ea()/e.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),i=Qt(n),s=i.R(e);St(s)||0<s.X(t);)n-=r,i=Qt(n),s=i.R(e);dn(i)&&(i=qd),o=o.add(i),t=yl(t,s)}return new ii(o,t)}k.gb=function(t){return vl(this,t).h};k.and=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)&t.D(r);return new te(n,this.h&t.h)};k.or=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)|t.D(r);return new te(n,this.h|t.h)};k.xor=function(t){for(var e=Math.max(this.g.length,t.g.length),n=[],r=0;r<e;r++)n[r]=this.D(r)^t.D(r);return new te(n,this.h^t.h)};function Eg(t){for(var e=t.g.length+1,n=[],r=0;r<e;r++)n[r]=t.D(r)<<1|t.D(r-1)>>>31;return new te(n,t.h)}function Ur(t,e){var n=e>>5;e%=32;for(var r=t.g.length-n,o=[],i=0;i<r;i++)o[i]=0<e?t.D(i+n)>>>e|t.D(i+n+1)<<32-e:t.D(i+n);return new te(o,t.h)}gl.prototype.createWebChannel=gl.prototype.g;yt.prototype.send=yt.prototype.u;yt.prototype.open=yt.prototype.m;yt.prototype.close=yt.prototype.close;au.NO_ERROR=0;au.TIMEOUT=8;au.HTTP_ERROR=6;g_.COMPLETE="complete";y_.EventType=Rs;Rs.OPEN="a";Rs.CLOSE="b";Rs.ERROR="c";Rs.MESSAGE="d";be.prototype.listen=be.prototype.O;ve.prototype.listenOnce=ve.prototype.P;ve.prototype.getLastError=ve.prototype.Sa;ve.prototype.getLastErrorCode=ve.prototype.Ia;ve.prototype.getStatus=ve.prototype.da;ve.prototype.getResponseJson=ve.prototype.Wa;ve.prototype.getResponseText=ve.prototype.ja;ve.prototype.send=ve.prototype.ha;ve.prototype.setWithCredentials=ve.prototype.Oa;zt.prototype.digest=zt.prototype.l;zt.prototype.reset=zt.prototype.reset;zt.prototype.update=zt.prototype.j;te.prototype.add=te.prototype.add;te.prototype.multiply=te.prototype.R;te.prototype.modulo=te.prototype.gb;te.prototype.compare=te.prototype.X;te.prototype.toNumber=te.prototype.ea;te.prototype.toString=te.prototype.toString;te.prototype.getBits=te.prototype.D;te.fromNumber=Qt;te.fromString=Z_;var SP=function(){return new gl},CP=function(){return su()},yc=au,IP=g_,AP=Or,Tg={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},da=y_,RP=ve,xP=zt,po=te;const Sg="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}He.UNAUTHENTICATED=new He(null),He.GOOGLE_CREDENTIALS=new He("google-credentials-uid"),He.FIRST_PARTY=new He("first-party-uid"),He.MOCK_USER=new He("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Bo="10.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kr=new W0("@firebase/firestore");function si(){return kr.logLevel}function b(t,...e){if(kr.logLevel<=X.DEBUG){const n=e.map(Gf);kr.debug(`Firestore (${Bo}): ${t}`,...n)}}function en(t,...e){if(kr.logLevel<=X.ERROR){const n=e.map(Gf);kr.error(`Firestore (${Bo}): ${t}`,...n)}}function Ro(t,...e){if(kr.logLevel<=X.WARN){const n=e.map(Gf);kr.warn(`Firestore (${Bo}): ${t}`,...n)}}function Gf(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z(t="Unexpected state"){const e=`FIRESTORE (${Bo}) INTERNAL ASSERTION FAILED: `+t;throw en(e),new Error(e)}function ie(t,e){t||z()}function H(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class O extends jo{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ew{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PP{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(He.UNAUTHENTICATED))}shutdown(){}}class bP{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class kP{constructor(e){this.t=e,this.currentUser=He.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const o=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new pn;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new pn,e.enqueueRetryable(()=>o(this.currentUser))};const s=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await o(this.currentUser)})},a=l=>{b("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),s()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(b("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new pn)}},0),s()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(b("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ie(typeof r.accessToken=="string"),new ew(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return ie(e===null||typeof e=="string"),new He(e)}}class $P{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=He.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class NP{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new $P(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(He.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class DP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class VP{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=i=>{i.error!=null&&b("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const s=i.token!==this.R;return this.R=i.token,b("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const o=i=>{b("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.A.onInit(i=>o(i)),setTimeout(()=>{if(!this.appCheck){const i=this.A.getImmediate({optional:!0});i?o(i):b("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ie(typeof n.token=="string"),this.R=n.token,new DP(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MP(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const o=MP(40);for(let i=0;i<o.length;++i)r.length<20&&o[i]<n&&(r+=e.charAt(o[i]%e.length))}return r}}function Z(t,e){return t<e?-1:t>e?1:0}function xo(t,e,n){return t.length===e.length&&t.every((r,o)=>n(r,e[o]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ae{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new O(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new O(A.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new O(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new O(A.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Ae.fromMillis(Date.now())}static fromDate(e){return Ae.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new Ae(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Z(this.nanoseconds,e.nanoseconds):Z(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.timestamp=e}static fromTimestamp(e){return new B(e)}static min(){return new B(new Ae(0,0))}static max(){return new B(new Ae(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(e,n,r){n===void 0?n=0:n>e.length&&z(),r===void 0?r=e.length-n:r>e.length-n&&z(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return ds.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof ds?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let o=0;o<r;o++){const i=e.get(o),s=n.get(o);if(i<s)return-1;if(i>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class de extends ds{construct(e,n,r){return new de(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new O(A.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(o=>o.length>0))}return new de(n)}static emptyPath(){return new de([])}}const OP=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Me extends ds{construct(e,n,r){return new Me(e,n,r)}static isValidIdentifier(e){return OP.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Me.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Me(["__name__"])}static fromServerFormat(e){const n=[];let r="",o=0;const i=()=>{if(r.length===0)throw new O(A.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let s=!1;for(;o<e.length;){const a=e[o];if(a==="\\"){if(o+1===e.length)throw new O(A.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[o+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new O(A.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,o+=2}else a==="`"?(s=!s,o++):a!=="."||s?(r+=a,o++):(i(),o++)}if(i(),s)throw new O(A.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Me(n)}static emptyPath(){return new Me([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L{constructor(e){this.path=e}static fromPath(e){return new L(de.fromString(e))}static fromName(e){return new L(de.fromString(e).popFirst(5))}static empty(){return new L(de.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&de.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return de.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new L(new de(e.slice()))}}function LP(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,o=B.fromTimestamp(r===1e9?new Ae(n+1,0):new Ae(n,r));return new Xn(o,L.empty(),e)}function FP(t){return new Xn(t.readTime,t.key,-1)}class Xn{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Xn(B.min(),L.empty(),-1)}static max(){return new Xn(B.max(),L.empty(),-1)}}function jP(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=L.comparator(t.documentKey,e.documentKey),n!==0?n:Z(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zP="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class UP{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $s(t){if(t.code!==A.FAILED_PRECONDITION||t.message!==zP)throw t;b("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&z(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new T((r,o)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,o)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,o)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof T?n:T.resolve(n)}catch(n){return T.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):T.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):T.reject(n)}static resolve(e){return new T((n,r)=>{n(e)})}static reject(e){return new T((n,r)=>{r(e)})}static waitFor(e){return new T((n,r)=>{let o=0,i=0,s=!1;e.forEach(a=>{++o,a.next(()=>{++i,s&&i===o&&n()},l=>r(l))}),s=!0,i===o&&n()})}static or(e){let n=T.resolve(!1);for(const r of e)n=n.next(o=>o?T.resolve(o):r());return n}static forEach(e,n){const r=[];return e.forEach((o,i)=>{r.push(n.call(this,o,i))}),this.waitFor(r)}static mapArray(e,n){return new T((r,o)=>{const i=e.length,s=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;n(e[u]).next(c=>{s[u]=c,++a,a===i&&r(s)},c=>o(c))}})}static doWhile(e,n){return new T((r,o)=>{const i=()=>{e()===!0?n().next(()=>{i()},o):r()};i()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qf{constructor(e,n){this.action=e,this.transaction=n,this.aborted=!1,this.V=new pn,this.transaction.oncomplete=()=>{this.V.resolve()},this.transaction.onabort=()=>{n.error?this.V.reject(new Ai(e,n.error)):this.V.resolve()},this.transaction.onerror=r=>{const o=Kf(r.target.error);this.V.reject(new Ai(e,o))}}static open(e,n,r,o){try{return new qf(n,e.transaction(o,r))}catch(i){throw new Ai(n,i)}}get m(){return this.V.promise}abort(e){e&&this.V.reject(e),this.aborted||(b("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}g(){const e=this.transaction;this.aborted||typeof e.commit!="function"||e.commit()}store(e){const n=this.transaction.objectStore(e);return new HP(n)}}class _r{constructor(e,n,r){this.name=e,this.version=n,this.p=r,_r.S(cl())===12.2&&en("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return b("SimpleDb","Removing database:",e),hr(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!B0())return!1;if(_r.C())return!0;const e=cl(),n=_r.S(e),r=0<n&&n<10,o=_r.v(e),i=0<o&&o<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||i)}static C(){var e;return typeof process<"u"&&((e=process.__PRIVATE_env)===null||e===void 0?void 0:e.F)==="YES"}static M(e,n){return e.store(n)}static S(e){const n=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=n?n[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static v(e){const n=e.match(/Android ([\d.]+)/i),r=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(r)}async O(e){return this.db||(b("SimpleDb","Opening database:",this.name),this.db=await new Promise((n,r)=>{const o=indexedDB.open(this.name,this.version);o.onsuccess=i=>{const s=i.target.result;n(s)},o.onblocked=()=>{r(new Ai(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=i=>{const s=i.target.error;s.name==="VersionError"?r(new O(A.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):s.name==="InvalidStateError"?r(new O(A.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+s)):r(new Ai(e,s))},o.onupgradeneeded=i=>{b("SimpleDb",'Database "'+this.name+'" requires upgrade from version:',i.oldVersion);const s=i.target.result;this.p.N(s,o.transaction,i.oldVersion,this.version).next(()=>{b("SimpleDb","Database upgrade to version "+this.version+" complete")})}})),this.L&&(this.db.onversionchange=n=>this.L(n)),this.db}B(e){this.L=e,this.db&&(this.db.onversionchange=n=>e(n))}async runTransaction(e,n,r,o){const i=n==="readonly";let s=0;for(;;){++s;try{this.db=await this.O(e);const a=qf.open(this.db,e,i?"readonly":"readwrite",r),l=o(a).next(u=>(a.g(),u)).catch(u=>(a.abort(u),T.reject(u))).toPromise();return l.catch(()=>{}),await a.m,l}catch(a){const l=a,u=l.name!=="FirebaseError"&&s<3;if(b("SimpleDb","Transaction failed with error:",l.message,"Retrying:",u),this.close(),!u)return Promise.reject(l)}}}close(){this.db&&this.db.close(),this.db=void 0}}class BP{constructor(e){this.k=e,this.q=!1,this.K=null}get isDone(){return this.q}get $(){return this.K}set cursor(e){this.k=e}done(){this.q=!0}U(e){this.K=e}delete(){return hr(this.k.delete())}}class Ai extends O{constructor(e,n){super(A.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${n}`),this.name="IndexedDbTransactionError"}}function Ns(t){return t.name==="IndexedDbTransactionError"}class HP{constructor(e){this.store=e}put(e,n){let r;return n!==void 0?(b("SimpleDb","PUT",this.store.name,e,n),r=this.store.put(n,e)):(b("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),hr(r)}add(e){return b("SimpleDb","ADD",this.store.name,e,e),hr(this.store.add(e))}get(e){return hr(this.store.get(e)).next(n=>(n===void 0&&(n=null),b("SimpleDb","GET",this.store.name,e,n),n))}delete(e){return b("SimpleDb","DELETE",this.store.name,e),hr(this.store.delete(e))}count(){return b("SimpleDb","COUNT",this.store.name),hr(this.store.count())}W(e,n){const r=this.options(e,n),o=r.index?this.store.index(r.index):this.store;if(typeof o.getAll=="function"){const i=o.getAll(r.range);return new T((s,a)=>{i.onerror=l=>{a(l.target.error)},i.onsuccess=l=>{s(l.target.result)}})}{const i=this.cursor(r),s=[];return this.G(i,(a,l)=>{s.push(l)}).next(()=>s)}}j(e,n){const r=this.store.getAll(e,n===null?void 0:n);return new T((o,i)=>{r.onerror=s=>{i(s.target.error)},r.onsuccess=s=>{o(s.target.result)}})}H(e,n){b("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,n);r.J=!1;const o=this.cursor(r);return this.G(o,(i,s,a)=>a.delete())}Y(e,n){let r;n?r=e:(r={},n=e);const o=this.cursor(r);return this.G(o,n)}Z(e){const n=this.cursor({});return new T((r,o)=>{n.onerror=i=>{const s=Kf(i.target.error);o(s)},n.onsuccess=i=>{const s=i.target.result;s?e(s.primaryKey,s.value).next(a=>{a?s.continue():r()}):r()}})}G(e,n){const r=[];return new T((o,i)=>{e.onerror=s=>{i(s.target.error)},e.onsuccess=s=>{const a=s.target.result;if(!a)return void o();const l=new BP(a),u=n(a.primaryKey,a.value,l);if(u instanceof T){const c=u.catch(d=>(l.done(),T.reject(d)));r.push(c)}l.isDone?o():l.$===null?a.continue():a.continue(l.$)}}).next(()=>T.waitFor(r))}options(e,n){let r;return e!==void 0&&(typeof e=="string"?r=e:n=e),{index:r,range:n}}cursor(e){let n="next";if(e.reverse&&(n="prev"),e.index){const r=this.store.index(e.index);return e.J?r.openKeyCursor(e.range,n):r.openCursor(e.range,n)}return this.store.openCursor(e.range,n)}}function hr(t){return new T((e,n)=>{t.onsuccess=r=>{const o=r.target.result;e(o)},t.onerror=r=>{const o=Kf(r.target.error);n(o)}})}let Cg=!1;function Kf(t){const e=_r.S(cl());if(e>=12.2&&e<13){const n="An internal error was encountered in the Indexed Database server";if(t.message.indexOf(n)>=0){const r=new O("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${n}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return Cg||(Cg=!0,setTimeout(()=>{throw r},0)),r}}return t}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.se(r),this.oe=r=>n.writeSequenceNumber(r))}se(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.oe&&this.oe(e),e}}Qf._e=-1;function gu(t){return t==null}function _l(t){return t===0&&1/t==-1/0}function WP(t){return typeof t=="number"&&Number.isInteger(t)&&!_l(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ig(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Ho(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nw(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e,n){this.comparator=e,this.root=n||De.EMPTY}insert(e,n){return new ge(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,De.BLACK,null,null))}remove(e){return new ge(this.comparator,this.root.remove(e,this.comparator).copy(null,null,De.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const o=this.comparator(e,r.key);if(o===0)return n+r.left.size;o<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ha(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ha(this.root,e,this.comparator,!1)}getReverseIterator(){return new ha(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ha(this.root,e,this.comparator,!0)}}class ha{constructor(e,n,r,o){this.isReverse=o,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&o&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class De{constructor(e,n,r,o,i){this.key=e,this.value=n,this.color=r??De.RED,this.left=o??De.EMPTY,this.right=i??De.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,o,i){return new De(e??this.key,n??this.value,r??this.color,o??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let o=this;const i=r(e,o.key);return o=i<0?o.copy(null,null,null,o.left.insert(e,n,r),null):i===0?o.copy(null,n,null,null,null):o.copy(null,null,null,null,o.right.insert(e,n,r)),o.fixUp()}removeMin(){if(this.left.isEmpty())return De.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,o=this;if(n(e,o.key)<0)o.left.isEmpty()||o.left.isRed()||o.left.left.isRed()||(o=o.moveRedLeft()),o=o.copy(null,null,null,o.left.remove(e,n),null);else{if(o.left.isRed()&&(o=o.rotateRight()),o.right.isEmpty()||o.right.isRed()||o.right.left.isRed()||(o=o.moveRedRight()),n(e,o.key)===0){if(o.right.isEmpty())return De.EMPTY;r=o.right.min(),o=o.copy(r.key,r.value,null,null,o.right.removeMin())}o=o.copy(null,null,null,null,o.right.remove(e,n))}return o.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,De.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,De.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw z();const e=this.left.check();if(e!==this.right.check())throw z();return e+(this.isRed()?0:1)}}De.EMPTY=null,De.RED=!0,De.BLACK=!1;De.EMPTY=new class{constructor(){this.size=0}get key(){throw z()}get value(){throw z()}get color(){throw z()}get left(){throw z()}get right(){throw z()}copy(e,n,r,o,i){return this}insert(e,n,r){return new De(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fe{constructor(e){this.comparator=e,this.data=new ge(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const o=r.getNext();if(this.comparator(o.key,e[1])>=0)return;n(o.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Ag(this.data.getIterator())}getIteratorFrom(e){return new Ag(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof Fe)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const o=n.getNext().key,i=r.getNext().key;if(this.comparator(o,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new Fe(this.comparator);return n.data=e,n}}class Ag{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.fields=e,e.sort(Me.comparator)}static empty(){return new Mt([])}unionWith(e){let n=new Fe(Me.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new Mt(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return xo(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rw extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xe{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(o){try{return atob(o)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new rw("Invalid base64 string: "+i):i}}(e);return new Xe(n)}static fromUint8Array(e){const n=function(o){let i="";for(let s=0;s<o.length;++s)i+=String.fromCharCode(o[s]);return i}(e);return new Xe(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let o=0;o<n.length;o++)r[o]=n.charCodeAt(o);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Z(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Xe.EMPTY_BYTE_STRING=new Xe("");const GP=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Jn(t){if(ie(!!t),typeof t=="string"){let e=0;const n=GP.exec(t);if(ie(!!n),n[1]){let o=n[1];o=(o+"000000000").substr(0,9),e=Number(o)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ee(t.seconds),nanos:Ee(t.nanos)}}function Ee(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function $r(t){return typeof t=="string"?Xe.fromBase64String(t):Xe.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yf(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Xf(t){const e=t.mapValue.fields.__previous_value__;return Yf(e)?Xf(e):e}function hs(t){const e=Jn(t.mapValue.fields.__local_write_time__.timestampValue);return new Ae(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,n,r,o,i,s,a,l,u){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=o,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}}class fs{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new fs("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof fs&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Nr(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Yf(t)?4:KP(t)?9007199254740991:10:z()}function tn(t,e){if(t===e)return!0;const n=Nr(t);if(n!==Nr(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return hs(t).isEqual(hs(e));case 3:return function(o,i){if(typeof o.timestampValue=="string"&&typeof i.timestampValue=="string"&&o.timestampValue.length===i.timestampValue.length)return o.timestampValue===i.timestampValue;const s=Jn(o.timestampValue),a=Jn(i.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(o,i){return $r(o.bytesValue).isEqual($r(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(o,i){return Ee(o.geoPointValue.latitude)===Ee(i.geoPointValue.latitude)&&Ee(o.geoPointValue.longitude)===Ee(i.geoPointValue.longitude)}(t,e);case 2:return function(o,i){if("integerValue"in o&&"integerValue"in i)return Ee(o.integerValue)===Ee(i.integerValue);if("doubleValue"in o&&"doubleValue"in i){const s=Ee(o.doubleValue),a=Ee(i.doubleValue);return s===a?_l(s)===_l(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return xo(t.arrayValue.values||[],e.arrayValue.values||[],tn);case 10:return function(o,i){const s=o.mapValue.fields||{},a=i.mapValue.fields||{};if(Ig(s)!==Ig(a))return!1;for(const l in s)if(s.hasOwnProperty(l)&&(a[l]===void 0||!tn(s[l],a[l])))return!1;return!0}(t,e);default:return z()}}function ps(t,e){return(t.values||[]).find(n=>tn(n,e))!==void 0}function Po(t,e){if(t===e)return 0;const n=Nr(t),r=Nr(e);if(n!==r)return Z(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Z(t.booleanValue,e.booleanValue);case 2:return function(i,s){const a=Ee(i.integerValue||i.doubleValue),l=Ee(s.integerValue||s.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return Rg(t.timestampValue,e.timestampValue);case 4:return Rg(hs(t),hs(e));case 5:return Z(t.stringValue,e.stringValue);case 6:return function(i,s){const a=$r(i),l=$r(s);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,s){const a=i.split("/"),l=s.split("/");for(let u=0;u<a.length&&u<l.length;u++){const c=Z(a[u],l[u]);if(c!==0)return c}return Z(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,s){const a=Z(Ee(i.latitude),Ee(s.latitude));return a!==0?a:Z(Ee(i.longitude),Ee(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(i,s){const a=i.values||[],l=s.values||[];for(let u=0;u<a.length&&u<l.length;++u){const c=Po(a[u],l[u]);if(c)return c}return Z(a.length,l.length)}(t.arrayValue,e.arrayValue);case 10:return function(i,s){if(i===fa.mapValue&&s===fa.mapValue)return 0;if(i===fa.mapValue)return 1;if(s===fa.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),u=s.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let d=0;d<l.length&&d<c.length;++d){const h=Z(l[d],c[d]);if(h!==0)return h;const p=Po(a[l[d]],u[c[d]]);if(p!==0)return p}return Z(l.length,c.length)}(t.mapValue,e.mapValue);default:throw z()}}function Rg(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Z(t,e);const n=Jn(t),r=Jn(e),o=Z(n.seconds,r.seconds);return o!==0?o:Z(n.nanos,r.nanos)}function bo(t){return Kd(t)}function Kd(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Jn(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return $r(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return L.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",o=!0;for(const i of n.values||[])o?o=!1:r+=",",r+=Kd(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let o="{",i=!0;for(const s of r)i?i=!1:o+=",",o+=`${s}:${Kd(n.fields[s])}`;return o+"}"}(t.mapValue):z()}function Qd(t){return!!t&&"integerValue"in t}function Jf(t){return!!t&&"arrayValue"in t}function xg(t){return!!t&&"nullValue"in t}function Pg(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function xa(t){return!!t&&"mapValue"in t}function Ri(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Ho(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Ri(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Ri(t.arrayValue.values[n]);return e}return Object.assign({},t)}function KP(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ct{constructor(e){this.value=e}static empty(){return new Ct({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!xa(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ri(n)}setAll(e){let n=Me.emptyPath(),r={},o=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,o),r={},o=[],n=a.popLast()}s?r[a.lastSegment()]=Ri(s):o.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,o)}delete(e){const n=this.field(e.popLast());xa(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return tn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let o=n.mapValue.fields[e.get(r)];xa(o)&&o.mapValue.fields||(o={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=o),n=o}return n.mapValue.fields}applyChanges(e,n,r){Ho(n,(o,i)=>e[o]=i);for(const o of r)delete e[o]}clone(){return new Ct(Ri(this.value))}}function ow(t){const e=[];return Ho(t.fields,(n,r)=>{const o=new Me([n]);if(xa(r)){const i=ow(r.mapValue).fields;if(i.length===0)e.push(o);else for(const s of i)e.push(o.child(s))}else e.push(o)}),new Mt(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(e,n,r,o,i,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=o,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Ge(e,0,B.min(),B.min(),B.min(),Ct.empty(),0)}static newFoundDocument(e,n,r,o){return new Ge(e,1,n,B.min(),r,o,0)}static newNoDocument(e,n){return new Ge(e,2,n,B.min(),B.min(),Ct.empty(),0)}static newUnknownDocument(e,n){return new Ge(e,3,n,B.min(),B.min(),Ct.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(B.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ct.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ct.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=B.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ge&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(e,n){this.position=e,this.inclusive=n}}function bg(t,e,n){let r=0;for(let o=0;o<t.position.length;o++){const i=e[o],s=t.position[o];if(i.field.isKeyField()?r=L.comparator(L.fromName(s.referenceValue),n.key):r=Po(s,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function kg(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!tn(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class El{constructor(e,n="asc"){this.field=e,this.dir=n}}function QP(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iw{}class Ce extends iw{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new XP(e,n,r):n==="array-contains"?new e9(e,r):n==="in"?new t9(e,r):n==="not-in"?new n9(e,r):n==="array-contains-any"?new r9(e,r):new Ce(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new JP(e,r):new ZP(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Po(n,this.value)):n!==null&&Nr(this.value)===Nr(n)&&this.matchesComparison(Po(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return z()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class nn extends iw{constructor(e,n){super(),this.filters=e,this.op=n,this.ue=null}static create(e,n){return new nn(e,n)}matches(e){return sw(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ue!==null||(this.ue=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ue}getFilters(){return Object.assign([],this.filters)}}function sw(t){return t.op==="and"}function aw(t){return YP(t)&&sw(t)}function YP(t){for(const e of t.filters)if(e instanceof nn)return!1;return!0}function Yd(t){if(t instanceof Ce)return t.field.canonicalString()+t.op.toString()+bo(t.value);if(aw(t))return t.filters.map(e=>Yd(e)).join(",");{const e=t.filters.map(n=>Yd(n)).join(",");return`${t.op}(${e})`}}function lw(t,e){return t instanceof Ce?function(r,o){return o instanceof Ce&&r.op===o.op&&r.field.isEqual(o.field)&&tn(r.value,o.value)}(t,e):t instanceof nn?function(r,o){return o instanceof nn&&r.op===o.op&&r.filters.length===o.filters.length?r.filters.reduce((i,s,a)=>i&&lw(s,o.filters[a]),!0):!1}(t,e):void z()}function uw(t){return t instanceof Ce?function(n){return`${n.field.canonicalString()} ${n.op} ${bo(n.value)}`}(t):t instanceof nn?function(n){return n.op.toString()+" {"+n.getFilters().map(uw).join(" ,")+"}"}(t):"Filter"}class XP extends Ce{constructor(e,n,r){super(e,n,r),this.key=L.fromName(r.referenceValue)}matches(e){const n=L.comparator(e.key,this.key);return this.matchesComparison(n)}}class JP extends Ce{constructor(e,n){super(e,"in",n),this.keys=cw("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class ZP extends Ce{constructor(e,n){super(e,"not-in",n),this.keys=cw("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function cw(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>L.fromName(r.referenceValue))}class e9 extends Ce{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Jf(n)&&ps(n.arrayValue,this.value)}}class t9 extends Ce{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ps(this.value.arrayValue,n)}}class n9 extends Ce{constructor(e,n){super(e,"not-in",n)}matches(e){if(ps(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ps(this.value.arrayValue,n)}}class r9 extends Ce{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Jf(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ps(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o9{constructor(e,n=null,r=[],o=[],i=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=o,this.limit=i,this.startAt=s,this.endAt=a,this.ce=null}}function $g(t,e=null,n=[],r=[],o=null,i=null,s=null){return new o9(t,e,n,r,o,i,s)}function Zf(t){const e=H(t);if(e.ce===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>Yd(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),gu(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>bo(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>bo(r)).join(",")),e.ce=n}return e.ce}function ep(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!QP(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!lw(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!kg(t.startAt,e.startAt)&&kg(t.endAt,e.endAt)}function Xd(t){return L.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yu{constructor(e,n=null,r=[],o=[],i=null,s="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=o,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=l,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}}function i9(t,e,n,r,o,i,s,a){return new yu(t,e,n,r,o,i,s,a)}function dw(t){return new yu(t)}function Ng(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function s9(t){return t.collectionGroup!==null}function xi(t){const e=H(t);if(e.le===null){e.le=[];const n=new Set;for(const i of e.explicitOrderBy)e.le.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Fe(Me.comparator);return s.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(a=a.add(u.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.le.push(new El(i,r))}),n.has(Me.keyField().canonicalString())||e.le.push(new El(Me.keyField(),r))}return e.le}function Jt(t){const e=H(t);return e.he||(e.he=a9(e,xi(t))),e.he}function a9(t,e){if(t.limitType==="F")return $g(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(o=>{const i=o.dir==="desc"?"asc":"desc";return new El(o.field,i)});const n=t.endAt?new wl(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new wl(t.startAt.position,t.startAt.inclusive):null;return $g(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Jd(t,e,n){return new yu(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function vu(t,e){return ep(Jt(t),Jt(e))&&t.limitType===e.limitType}function hw(t){return`${Zf(Jt(t))}|lt:${t.limitType}`}function Br(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(o=>uw(o)).join(", ")}]`),gu(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(o=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(o)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(o=>bo(o)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(o=>bo(o)).join(",")),`Target(${r})`}(Jt(t))}; limitType=${t.limitType})`}function _u(t,e){return e.isFoundDocument()&&function(r,o){const i=o.key.path;return r.collectionGroup!==null?o.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):L.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,o){for(const i of xi(r))if(!i.field.isKeyField()&&o.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,o){for(const i of r.filters)if(!i.matches(o))return!1;return!0}(t,e)&&function(r,o){return!(r.startAt&&!function(s,a,l){const u=bg(s,a,l);return s.inclusive?u<=0:u<0}(r.startAt,xi(r),o)||r.endAt&&!function(s,a,l){const u=bg(s,a,l);return s.inclusive?u>=0:u>0}(r.endAt,xi(r),o))}(t,e)}function l9(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fw(t){return(e,n)=>{let r=!1;for(const o of xi(t)){const i=u9(o,e,n);if(i!==0)return i;r=r||o.field.isKeyField()}return 0}}function u9(t,e,n){const r=t.field.isKeyField()?L.comparator(e.key,n.key):function(i,s,a){const l=s.data.field(i),u=a.data.field(i);return l!==null&&u!==null?Po(l,u):z()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return z()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[o,i]of r)if(this.equalsFn(o,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),o=this.inner[r];if(o===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<o.length;i++)if(this.equalsFn(o[i][0],e))return void(o[i]=[e,n]);o.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let o=0;o<r.length;o++)if(this.equalsFn(r[o][0],e))return r.length===1?delete this.inner[n]:r.splice(o,1),this.innerSize--,!0;return!1}forEach(e){Ho(this.inner,(n,r)=>{for(const[o,i]of r)e(o,i)})}isEmpty(){return nw(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c9=new ge(L.comparator);function Tn(){return c9}const pw=new ge(L.comparator);function pi(...t){let e=pw;for(const n of t)e=e.insert(n.key,n);return e}function mw(t){let e=pw;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function wr(){return Pi()}function gw(){return Pi()}function Pi(){return new Wo(t=>t.toString(),(t,e)=>t.isEqual(e))}const d9=new ge(L.comparator),h9=new Fe(L.comparator);function q(...t){let e=h9;for(const n of t)e=e.add(n);return e}const f9=new Fe(Z);function p9(){return f9}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_l(e)?"-0":e}}function vw(t){return{integerValue:""+t}}function m9(t,e){return WP(e)?vw(e):yw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(){this._=void 0}}function g9(t,e,n){return t instanceof Tl?function(o,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:o.seconds,nanos:o.nanoseconds}}}};return i&&Yf(i)&&(i=Xf(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,e):t instanceof ms?ww(t,e):t instanceof gs?Ew(t,e):function(o,i){const s=_w(o,i),a=Dg(s)+Dg(o.Ie);return Qd(s)&&Qd(o.Ie)?vw(a):yw(o.serializer,a)}(t,e)}function y9(t,e,n){return t instanceof ms?ww(t,e):t instanceof gs?Ew(t,e):n}function _w(t,e){return t instanceof Sl?function(r){return Qd(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Tl extends wu{}class ms extends wu{constructor(e){super(),this.elements=e}}function ww(t,e){const n=Tw(e);for(const r of t.elements)n.some(o=>tn(o,r))||n.push(r);return{arrayValue:{values:n}}}class gs extends wu{constructor(e){super(),this.elements=e}}function Ew(t,e){let n=Tw(e);for(const r of t.elements)n=n.filter(o=>!tn(o,r));return{arrayValue:{values:n}}}class Sl extends wu{constructor(e,n){super(),this.serializer=e,this.Ie=n}}function Dg(t){return Ee(t.integerValue||t.doubleValue)}function Tw(t){return Jf(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function v9(t,e){return t.field.isEqual(e.field)&&function(r,o){return r instanceof ms&&o instanceof ms||r instanceof gs&&o instanceof gs?xo(r.elements,o.elements,tn):r instanceof Sl&&o instanceof Sl?tn(r.Ie,o.Ie):r instanceof Tl&&o instanceof Tl}(t.transform,e.transform)}class _9{constructor(e,n){this.version=e,this.transformResults=n}}class mn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new mn}static exists(e){return new mn(void 0,e)}static updateTime(e){return new mn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Pa(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Eu{}function Sw(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Iw(t.key,mn.none()):new Ds(t.key,t.data,mn.none());{const n=t.data,r=Ct.empty();let o=new Fe(Me.comparator);for(let i of e.fields)if(!o.has(i)){let s=n.field(i);s===null&&i.length>1&&(i=i.popLast(),s=n.field(i)),s===null?r.delete(i):r.set(i,s),o=o.add(i)}return new Lr(t.key,r,new Mt(o.toArray()),mn.none())}}function w9(t,e,n){t instanceof Ds?function(o,i,s){const a=o.value.clone(),l=Mg(o.fieldTransforms,i,s.transformResults);a.setAll(l),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Lr?function(o,i,s){if(!Pa(o.precondition,i))return void i.convertToUnknownDocument(s.version);const a=Mg(o.fieldTransforms,i,s.transformResults),l=i.data;l.setAll(Cw(o)),l.setAll(a),i.convertToFoundDocument(s.version,l).setHasCommittedMutations()}(t,e,n):function(o,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function bi(t,e,n,r){return t instanceof Ds?function(i,s,a,l){if(!Pa(i.precondition,s))return a;const u=i.value.clone(),c=Og(i.fieldTransforms,l,s);return u.setAll(c),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),null}(t,e,n,r):t instanceof Lr?function(i,s,a,l){if(!Pa(i.precondition,s))return a;const u=Og(i.fieldTransforms,l,s),c=s.data;return c.setAll(Cw(i)),c.setAll(u),s.convertToFoundDocument(s.version,c).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(d=>d.field))}(t,e,n,r):function(i,s,a){return Pa(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function E9(t,e){let n=null;for(const r of t.fieldTransforms){const o=e.data.field(r.field),i=_w(r.transform,o||null);i!=null&&(n===null&&(n=Ct.empty()),n.set(r.field,i))}return n||null}function Vg(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,o){return r===void 0&&o===void 0||!(!r||!o)&&xo(r,o,(i,s)=>v9(i,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ds extends Eu{constructor(e,n,r,o=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=o,this.type=0}getFieldMask(){return null}}class Lr extends Eu{constructor(e,n,r,o,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=o,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Cw(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function Mg(t,e,n){const r=new Map;ie(t.length===n.length);for(let o=0;o<n.length;o++){const i=t[o],s=i.transform,a=e.data.field(i.field);r.set(i.field,y9(s,a,n[o]))}return r}function Og(t,e,n){const r=new Map;for(const o of t){const i=o.transform,s=n.data.field(o.field);r.set(o.field,g9(i,s,e))}return r}class Iw extends Eu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class T9 extends Eu{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S9{constructor(e,n,r,o){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=o}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let o=0;o<this.mutations.length;o++){const i=this.mutations[o];i.key.isEqual(e.key)&&w9(i,e,r[o])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=bi(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=bi(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=gw();return this.mutations.forEach(o=>{const i=e.get(o.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=n.has(o.key)?null:a;const l=Sw(s,a);l!==null&&r.set(o.key,l),s.isValidDocument()||s.convertToNoDocument(B.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),q())}isEqual(e){return this.batchId===e.batchId&&xo(this.mutations,e.mutations,(n,r)=>Vg(n,r))&&xo(this.baseMutations,e.baseMutations,(n,r)=>Vg(n,r))}}class tp{constructor(e,n,r,o){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=o}static from(e,n,r){ie(e.mutations.length===r.length);let o=function(){return d9}();const i=e.mutations;for(let s=0;s<i.length;s++)o=o.insert(i[s].key,r[s].version);return new tp(e,n,r,o)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C9{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I9{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var we,Q;function A9(t){switch(t){default:return z();case A.CANCELLED:case A.UNKNOWN:case A.DEADLINE_EXCEEDED:case A.RESOURCE_EXHAUSTED:case A.INTERNAL:case A.UNAVAILABLE:case A.UNAUTHENTICATED:return!1;case A.INVALID_ARGUMENT:case A.NOT_FOUND:case A.ALREADY_EXISTS:case A.PERMISSION_DENIED:case A.FAILED_PRECONDITION:case A.ABORTED:case A.OUT_OF_RANGE:case A.UNIMPLEMENTED:case A.DATA_LOSS:return!0}}function Aw(t){if(t===void 0)return en("GRPC error has no .code"),A.UNKNOWN;switch(t){case we.OK:return A.OK;case we.CANCELLED:return A.CANCELLED;case we.UNKNOWN:return A.UNKNOWN;case we.DEADLINE_EXCEEDED:return A.DEADLINE_EXCEEDED;case we.RESOURCE_EXHAUSTED:return A.RESOURCE_EXHAUSTED;case we.INTERNAL:return A.INTERNAL;case we.UNAVAILABLE:return A.UNAVAILABLE;case we.UNAUTHENTICATED:return A.UNAUTHENTICATED;case we.INVALID_ARGUMENT:return A.INVALID_ARGUMENT;case we.NOT_FOUND:return A.NOT_FOUND;case we.ALREADY_EXISTS:return A.ALREADY_EXISTS;case we.PERMISSION_DENIED:return A.PERMISSION_DENIED;case we.FAILED_PRECONDITION:return A.FAILED_PRECONDITION;case we.ABORTED:return A.ABORTED;case we.OUT_OF_RANGE:return A.OUT_OF_RANGE;case we.UNIMPLEMENTED:return A.UNIMPLEMENTED;case we.DATA_LOSS:return A.DATA_LOSS;default:return z()}}(Q=we||(we={}))[Q.OK=0]="OK",Q[Q.CANCELLED=1]="CANCELLED",Q[Q.UNKNOWN=2]="UNKNOWN",Q[Q.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Q[Q.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Q[Q.NOT_FOUND=5]="NOT_FOUND",Q[Q.ALREADY_EXISTS=6]="ALREADY_EXISTS",Q[Q.PERMISSION_DENIED=7]="PERMISSION_DENIED",Q[Q.UNAUTHENTICATED=16]="UNAUTHENTICATED",Q[Q.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Q[Q.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Q[Q.ABORTED=10]="ABORTED",Q[Q.OUT_OF_RANGE=11]="OUT_OF_RANGE",Q[Q.UNIMPLEMENTED=12]="UNIMPLEMENTED",Q[Q.INTERNAL=13]="INTERNAL",Q[Q.UNAVAILABLE=14]="UNAVAILABLE",Q[Q.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x9=new po([4294967295,4294967295],0);function Lg(t){const e=R9().encode(t),n=new xP;return n.update(e),new Uint8Array(n.digest())}function Fg(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),o=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new po([n,r],0),new po([o,i],0)]}class np{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new mi(`Invalid padding: ${n}`);if(r<0)throw new mi(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new mi(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new mi(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ee=po.fromNumber(this.Te)}de(e,n,r){let o=e.add(n.multiply(po.fromNumber(r)));return o.compare(x9)===1&&(o=new po([o.getBits(0),o.getBits(1)],0)),o.modulo(this.Ee).toNumber()}Ae(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=Lg(e),[r,o]=Fg(n);for(let i=0;i<this.hashCount;i++){const s=this.de(r,o,i);if(!this.Ae(s))return!1}return!0}static create(e,n,r){const o=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new np(i,o,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Te===0)return;const n=Lg(e),[r,o]=Fg(n);for(let i=0;i<this.hashCount;i++){const s=this.de(r,o,i);this.Re(s)}}Re(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class mi extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n,r,o,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=o,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const o=new Map;return o.set(e,Vs.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Tu(B.min(),o,new ge(Z),Tn(),q())}}class Vs{constructor(e,n,r,o,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=o,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Vs(r,n,q(),q(),q())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e,n,r,o){this.Ve=e,this.removedTargetIds=n,this.key=r,this.me=o}}class Rw{constructor(e,n){this.targetId=e,this.fe=n}}class xw{constructor(e,n,r=Xe.EMPTY_BYTE_STRING,o=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=o}}class jg{constructor(){this.ge=0,this.pe=Ug(),this.ye=Xe.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}get current(){return this.we}get resumeToken(){return this.ye}get be(){return this.ge!==0}get De(){return this.Se}Ce(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}ve(){let e=q(),n=q(),r=q();return this.pe.forEach((o,i)=>{switch(i){case 0:e=e.add(o);break;case 2:n=n.add(o);break;case 1:r=r.add(o);break;default:z()}}),new Vs(this.ye,this.we,e,n,r)}Fe(){this.Se=!1,this.pe=Ug()}Me(e,n){this.Se=!0,this.pe=this.pe.insert(e,n)}xe(e){this.Se=!0,this.pe=this.pe.remove(e)}Oe(){this.ge+=1}Ne(){this.ge-=1,ie(this.ge>=0)}Le(){this.Se=!0,this.we=!0}}class P9{constructor(e){this.Be=e,this.ke=new Map,this.qe=Tn(),this.Qe=zg(),this.Ke=new ge(Z)}$e(e){for(const n of e.Ve)e.me&&e.me.isFoundDocument()?this.Ue(n,e.me):this.We(n,e.key,e.me);for(const n of e.removedTargetIds)this.We(n,e.key,e.me)}Ge(e){this.forEachTarget(e,n=>{const r=this.ze(n);switch(e.state){case 0:this.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||this.removeTarget(n);break;case 3:this.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),r.Ce(e.resumeToken));break;default:z()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ke.forEach((r,o)=>{this.je(o)&&n(o)})}Je(e){const n=e.targetId,r=e.fe.count,o=this.Ye(n);if(o){const i=o.target;if(Xd(i))if(r===0){const s=new L(i.path);this.We(n,s,Ge.newNoDocument(s,B.min()))}else ie(r===1);else{const s=this.Ze(n);if(s!==r){const a=this.Xe(e),l=a?this.et(a,e,s):1;if(l!==0){this.He(n);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,u)}}}}}Xe(e){const n=e.fe.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:o=0},hashCount:i=0}=n;let s,a;try{s=$r(r).toUint8Array()}catch(l){if(l instanceof rw)return Ro("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new np(s,o,i)}catch(l){return Ro(l instanceof mi?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.Te===0?null:a}et(e,n,r){return n.fe.count===r-this.rt(e,n.targetId)?0:2}rt(e,n){const r=this.Be.getRemoteKeysForTarget(n);let o=0;return r.forEach(i=>{const s=this.Be.nt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.We(n,i,null),o++)}),o}it(e){const n=new Map;this.ke.forEach((i,s)=>{const a=this.Ye(s);if(a){if(i.current&&Xd(a.target)){const l=new L(a.target.path);this.qe.get(l)!==null||this.st(s,l)||this.We(s,l,Ge.newNoDocument(l,e))}i.De&&(n.set(s,i.ve()),i.Fe())}});let r=q();this.Qe.forEach((i,s)=>{let a=!0;s.forEachWhile(l=>{const u=this.Ye(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.qe.forEach((i,s)=>s.setReadTime(e));const o=new Tu(e,n,this.Ke,this.qe,r);return this.qe=Tn(),this.Qe=zg(),this.Ke=new ge(Z),o}Ue(e,n){if(!this.je(e))return;const r=this.st(e,n.key)?2:0;this.ze(e).Me(n.key,r),this.qe=this.qe.insert(n.key,n),this.Qe=this.Qe.insert(n.key,this.ot(n.key).add(e))}We(e,n,r){if(!this.je(e))return;const o=this.ze(e);this.st(e,n)?o.Me(n,1):o.xe(n),this.Qe=this.Qe.insert(n,this.ot(n).delete(e)),r&&(this.qe=this.qe.insert(n,r))}removeTarget(e){this.ke.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}Oe(e){this.ze(e).Oe()}ze(e){let n=this.ke.get(e);return n||(n=new jg,this.ke.set(e,n)),n}ot(e){let n=this.Qe.get(e);return n||(n=new Fe(Z),this.Qe=this.Qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||b("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.ke.get(e);return n&&n.be?null:this.Be._t(e)}He(e){this.ke.set(e,new jg),this.Be.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}st(e,n){return this.Be.getRemoteKeysForTarget(e).has(n)}}function zg(){return new ge(L.comparator)}function Ug(){return new ge(L.comparator)}const b9={asc:"ASCENDING",desc:"DESCENDING"},k9={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},$9={and:"AND",or:"OR"};class N9{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Zd(t,e){return t.useProto3Json||gu(e)?e:{value:e}}function Cl(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Pw(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function D9(t,e){return Cl(t,e.toTimestamp())}function Zt(t){return ie(!!t),B.fromTimestamp(function(n){const r=Jn(n);return new Ae(r.seconds,r.nanos)}(t))}function rp(t,e){return eh(t,e).canonicalString()}function eh(t,e){const n=function(o){return new de(["projects",o.projectId,"databases",o.database])}(t).child("documents");return e===void 0?n:n.child(e)}function bw(t){const e=de.fromString(t);return ie(Vw(e)),e}function th(t,e){return rp(t.databaseId,e.path)}function vc(t,e){const n=bw(e);if(n.get(1)!==t.databaseId.projectId)throw new O(A.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new O(A.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new L($w(n))}function kw(t,e){return rp(t.databaseId,e)}function V9(t){const e=bw(t);return e.length===4?de.emptyPath():$w(e)}function nh(t){return new de(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function $w(t){return ie(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function Bg(t,e,n){return{name:th(t,e),fields:n.value.mapValue.fields}}function M9(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:z()}(e.targetChange.targetChangeType||"NO_CHANGE"),o=e.targetChange.targetIds||[],i=function(u,c){return u.useProto3Json?(ie(c===void 0||typeof c=="string"),Xe.fromBase64String(c||"")):(ie(c===void 0||c instanceof Uint8Array),Xe.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(u){const c=u.code===void 0?A.UNKNOWN:Aw(u.code);return new O(c,u.message||"")}(s);n=new xw(r,o,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const o=vc(t,r.document.name),i=Zt(r.document.updateTime),s=r.document.createTime?Zt(r.document.createTime):B.min(),a=new Ct({mapValue:{fields:r.document.fields}}),l=Ge.newFoundDocument(o,i,s,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new ba(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const o=vc(t,r.document),i=r.readTime?Zt(r.readTime):B.min(),s=Ge.newNoDocument(o,i),a=r.removedTargetIds||[];n=new ba([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const o=vc(t,r.document),i=r.removedTargetIds||[];n=new ba([],i,o,null)}else{if(!("filter"in e))return z();{e.filter;const r=e.filter;r.targetId;const{count:o=0,unchangedNames:i}=r,s=new I9(o,i),a=r.targetId;n=new Rw(a,s)}}return n}function O9(t,e){let n;if(e instanceof Ds)n={update:Bg(t,e.key,e.value)};else if(e instanceof Iw)n={delete:th(t,e.key)};else if(e instanceof Lr)n={update:Bg(t,e.key,e.data),updateMask:G9(e.fieldMask)};else{if(!(e instanceof T9))return z();n={verify:th(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,s){const a=s.transform;if(a instanceof Tl)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof ms)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof gs)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Sl)return{fieldPath:s.field.canonicalString(),increment:a.Ie};throw z()}(0,r))),e.precondition.isNone||(n.currentDocument=function(o,i){return i.updateTime!==void 0?{updateTime:D9(o,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:z()}(t,e.precondition)),n}function L9(t,e){return t&&t.length>0?(ie(e!==void 0),t.map(n=>function(o,i){let s=o.updateTime?Zt(o.updateTime):Zt(i);return s.isEqual(B.min())&&(s=Zt(i)),new _9(s,o.transformResults||[])}(n,e))):[]}function F9(t,e){return{documents:[kw(t,e.path)]}}function j9(t,e){const n={structuredQuery:{}},r=e.path;let o;e.collectionGroup!==null?(o=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(o=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=kw(t,o);const i=function(u){if(u.length!==0)return Dw(nn.create(u,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const s=function(u){if(u.length!==0)return u.map(c=>function(h){return{field:Hr(h.field),direction:B9(h.dir)}}(c))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);const a=Zd(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{ut:n,parent:o}}function z9(t){let e=V9(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let o=null;if(r>0){ie(r===1);const c=n.from[0];c.allDescendants?o=c.collectionId:e=e.child(c.collectionId)}let i=[];n.where&&(i=function(d){const h=Nw(d);return h instanceof nn&&aw(h)?h.getFilters():[h]}(n.where));let s=[];n.orderBy&&(s=function(d){return d.map(h=>function(y){return new El(Wr(y.field),function(E){switch(E){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(h))}(n.orderBy));let a=null;n.limit&&(a=function(d){let h;return h=typeof d=="object"?d.value:d,gu(h)?null:h}(n.limit));let l=null;n.startAt&&(l=function(d){const h=!!d.before,p=d.values||[];return new wl(p,h)}(n.startAt));let u=null;return n.endAt&&(u=function(d){const h=!d.before,p=d.values||[];return new wl(p,h)}(n.endAt)),i9(e,o,s,i,a,"F",l,u)}function U9(t,e){const n=function(o){switch(o){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return z()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Nw(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Wr(n.unaryFilter.field);return Ce.create(r,"==",{doubleValue:NaN});case"IS_NULL":const o=Wr(n.unaryFilter.field);return Ce.create(o,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Wr(n.unaryFilter.field);return Ce.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Wr(n.unaryFilter.field);return Ce.create(s,"!=",{nullValue:"NULL_VALUE"});default:return z()}}(t):t.fieldFilter!==void 0?function(n){return Ce.create(Wr(n.fieldFilter.field),function(o){switch(o){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return z()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return nn.create(n.compositeFilter.filters.map(r=>Nw(r)),function(o){switch(o){case"AND":return"and";case"OR":return"or";default:return z()}}(n.compositeFilter.op))}(t):z()}function B9(t){return b9[t]}function H9(t){return k9[t]}function W9(t){return $9[t]}function Hr(t){return{fieldPath:t.canonicalString()}}function Wr(t){return Me.fromServerFormat(t.fieldPath)}function Dw(t){return t instanceof Ce?function(n){if(n.op==="=="){if(Pg(n.value))return{unaryFilter:{field:Hr(n.field),op:"IS_NAN"}};if(xg(n.value))return{unaryFilter:{field:Hr(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Pg(n.value))return{unaryFilter:{field:Hr(n.field),op:"IS_NOT_NAN"}};if(xg(n.value))return{unaryFilter:{field:Hr(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hr(n.field),op:H9(n.op),value:n.value}}}(t):t instanceof nn?function(n){const r=n.getFilters().map(o=>Dw(o));return r.length===1?r[0]:{compositeFilter:{op:W9(n.op),filters:r}}}(t):z()}function G9(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Vw(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e,n,r,o,i=B.min(),s=B.min(),a=Xe.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=o,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new Vn(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Vn(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Vn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Vn(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q9{constructor(e){this.ct=e}}function K9(t){const e=z9({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?Jd(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q9{constructor(){this._n=new Y9}addToCollectionParentIndex(e,n){return this._n.add(n),T.resolve()}getCollectionParents(e,n){return T.resolve(this._n.getEntries(n))}addFieldIndex(e,n){return T.resolve()}deleteFieldIndex(e,n){return T.resolve()}deleteAllFieldIndexes(e){return T.resolve()}createTargetIndexes(e,n){return T.resolve()}getDocumentsMatchingTarget(e,n){return T.resolve(null)}getIndexType(e,n){return T.resolve(0)}getFieldIndexes(e,n){return T.resolve([])}getNextCollectionGroupToUpdate(e){return T.resolve(null)}getMinOffset(e,n){return T.resolve(Xn.min())}getMinOffsetFromCollectionGroup(e,n){return T.resolve(Xn.min())}updateCollectionGroup(e,n,r){return T.resolve()}updateIndexEntries(e,n){return T.resolve()}}class Y9{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n]||new Fe(de.comparator),i=!o.has(r);return this.index[n]=o.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),o=this.index[n];return o&&o.has(r)}getEntries(e){return(this.index[e]||new Fe(de.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ko{constructor(e){this.On=e}next(){return this.On+=2,this.On}static Nn(){return new ko(0)}static Ln(){return new ko(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X9{constructor(){this.changes=new Wo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ge.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?T.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e,n,r,o){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=o}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(o=>(r=o,this.remoteDocumentCache.getEntry(e,n))).next(o=>(r!==null&&bi(r.mutation,o,Mt.empty(),Ae.now()),o))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,q()).next(()=>r))}getLocalViewOfDocuments(e,n,r=q()){const o=wr();return this.populateOverlays(e,o,n).next(()=>this.computeViews(e,n,o,r).next(i=>{let s=pi();return i.forEach((a,l)=>{s=s.insert(a,l.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){const r=wr();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,q()))}populateOverlays(e,n,r){const o=[];return r.forEach(i=>{n.has(i)||o.push(i)}),this.documentOverlayCache.getOverlays(e,o).next(i=>{i.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,o){let i=Tn();const s=Pi(),a=function(){return Pi()}();return n.forEach((l,u)=>{const c=r.get(u.key);o.has(u.key)&&(c===void 0||c.mutation instanceof Lr)?i=i.insert(u.key,u):c!==void 0?(s.set(u.key,c.mutation.getFieldMask()),bi(c.mutation,u,c.mutation.getFieldMask(),Ae.now())):s.set(u.key,Mt.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,c)=>s.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new J9(c,(d=s.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(e,n){const r=Pi();let o=new ge((s,a)=>s-a),i=q();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(const a of s)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||Mt.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(o.get(a.batchId)||q()).add(l);o=o.insert(a.batchId,d)})}).next(()=>{const s=[],a=o.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=gw();c.forEach(h=>{if(!i.has(h)){const p=Sw(n.get(h),r.get(h));p!==null&&d.set(h,p),i=i.add(h)}}),s.push(this.documentOverlayCache.saveOverlays(e,u,d))}return T.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,o){return function(s){return L.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):s9(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,o):this.getDocumentsMatchingCollectionQuery(e,n,r,o)}getNextDocuments(e,n,r,o){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,o).next(i=>{const s=o-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,o-i.size):T.resolve(wr());let a=-1,l=i;return s.next(u=>T.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),i.get(c)?T.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,q())).next(c=>({batchId:a,changes:mw(c)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new L(n)).next(r=>{let o=pi();return r.isFoundDocument()&&(o=o.insert(r.key,r)),o})}getDocumentsMatchingCollectionGroupQuery(e,n,r,o){const i=n.collectionGroup;let s=pi();return this.indexManager.getCollectionParents(e,i).next(a=>T.forEach(a,l=>{const u=function(d,h){return new yu(h,null,d.explicitOrderBy.slice(),d.filters.slice(),d.limit,d.limitType,d.startAt,d.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,u,r,o).next(c=>{c.forEach((d,h)=>{s=s.insert(d,h)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,o){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,o))).next(s=>{i.forEach((l,u)=>{const c=u.getKey();s.get(c)===null&&(s=s.insert(c,Ge.newInvalidDocument(c)))});let a=pi();return s.forEach((l,u)=>{const c=i.get(l);c!==void 0&&bi(c.mutation,u,Mt.empty(),Ae.now()),_u(n,u)&&(a=a.insert(l,u))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e){this.serializer=e,this.cr=new Map,this.lr=new Map}getBundleMetadata(e,n){return T.resolve(this.cr.get(n))}saveBundleMetadata(e,n){return this.cr.set(n.id,function(o){return{id:o.id,version:o.version,createTime:Zt(o.createTime)}}(n)),T.resolve()}getNamedQuery(e,n){return T.resolve(this.lr.get(n))}saveNamedQuery(e,n){return this.lr.set(n.name,function(o){return{name:o.name,query:K9(o.bundledQuery),readTime:Zt(o.readTime)}}(n)),T.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tb{constructor(){this.overlays=new ge(L.comparator),this.hr=new Map}getOverlay(e,n){return T.resolve(this.overlays.get(n))}getOverlays(e,n){const r=wr();return T.forEach(n,o=>this.getOverlay(e,o).next(i=>{i!==null&&r.set(o,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((o,i)=>{this.ht(e,n,i)}),T.resolve()}removeOverlaysForBatchId(e,n,r){const o=this.hr.get(r);return o!==void 0&&(o.forEach(i=>this.overlays=this.overlays.remove(i)),this.hr.delete(r)),T.resolve()}getOverlaysForCollection(e,n,r){const o=wr(),i=n.length+1,s=new L(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>r&&o.set(l.getKey(),l)}return T.resolve(o)}getOverlaysForCollectionGroup(e,n,r,o){let i=new ge((u,c)=>u-c);const s=this.overlays.getIterator();for(;s.hasNext();){const u=s.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=i.get(u.largestBatchId);c===null&&(c=wr(),i=i.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=wr(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=o)););return T.resolve(a)}ht(e,n,r){const o=this.overlays.get(r.key);if(o!==null){const s=this.hr.get(o.largestBatchId).delete(r.key);this.hr.set(o.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new C9(n,r));let i=this.hr.get(n);i===void 0&&(i=q(),this.hr.set(n,i)),this.hr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(){this.Pr=new Fe(Re.Ir),this.Tr=new Fe(Re.Er)}isEmpty(){return this.Pr.isEmpty()}addReference(e,n){const r=new Re(e,n);this.Pr=this.Pr.add(r),this.Tr=this.Tr.add(r)}dr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Ar(new Re(e,n))}Rr(e,n){e.forEach(r=>this.removeReference(r,n))}Vr(e){const n=new L(new de([])),r=new Re(n,e),o=new Re(n,e+1),i=[];return this.Tr.forEachInRange([r,o],s=>{this.Ar(s),i.push(s.key)}),i}mr(){this.Pr.forEach(e=>this.Ar(e))}Ar(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}gr(e){const n=new L(new de([])),r=new Re(n,e),o=new Re(n,e+1);let i=q();return this.Tr.forEachInRange([r,o],s=>{i=i.add(s.key)}),i}containsKey(e){const n=new Re(e,0),r=this.Pr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Re{constructor(e,n){this.key=e,this.pr=n}static Ir(e,n){return L.comparator(e.key,n.key)||Z(e.pr,n.pr)}static Er(e,n){return Z(e.pr,n.pr)||L.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Fe(Re.Ir)}checkEmpty(e){return T.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,o){const i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new S9(i,n,r,o);this.mutationQueue.push(s);for(const a of o)this.wr=this.wr.add(new Re(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return T.resolve(s)}lookupMutationBatch(e,n){return T.resolve(this.Sr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,o=this.br(r),i=o<0?0:o;return T.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return T.resolve(this.mutationQueue.length===0?-1:this.yr-1)}getAllMutationBatches(e){return T.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Re(n,0),o=new Re(n,Number.POSITIVE_INFINITY),i=[];return this.wr.forEachInRange([r,o],s=>{const a=this.Sr(s.pr);i.push(a)}),T.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Fe(Z);return n.forEach(o=>{const i=new Re(o,0),s=new Re(o,Number.POSITIVE_INFINITY);this.wr.forEachInRange([i,s],a=>{r=r.add(a.pr)})}),T.resolve(this.Dr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,o=r.length+1;let i=r;L.isDocumentKey(i)||(i=i.child(""));const s=new Re(new L(i),0);let a=new Fe(Z);return this.wr.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===o&&(a=a.add(l.pr)),!0)},s),T.resolve(this.Dr(a))}Dr(e){const n=[];return e.forEach(r=>{const o=this.Sr(r);o!==null&&n.push(o)}),n}removeMutationBatch(e,n){ie(this.Cr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.wr;return T.forEach(n.mutations,o=>{const i=new Re(o.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,o.key)}).next(()=>{this.wr=r})}Mn(e){}containsKey(e,n){const r=new Re(n,0),o=this.wr.firstAfterOrEqual(r);return T.resolve(n.isEqual(o&&o.key))}performConsistencyCheck(e){return this.mutationQueue.length,T.resolve()}Cr(e,n){return this.br(e)}br(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Sr(e){const n=this.br(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.vr=e,this.docs=function(){return new ge(L.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,o=this.docs.get(r),i=o?o.size:0,s=this.vr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return T.resolve(r?r.document.mutableCopy():Ge.newInvalidDocument(n))}getEntries(e,n){let r=Tn();return n.forEach(o=>{const i=this.docs.get(o);r=r.insert(o,i?i.document.mutableCopy():Ge.newInvalidDocument(o))}),T.resolve(r)}getDocumentsMatchingQuery(e,n,r,o){let i=Tn();const s=n.path,a=new L(s.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!s.isPrefixOf(u.path))break;u.path.length>s.length+1||jP(FP(c),r)<=0||(o.has(c.key)||_u(n,c))&&(i=i.insert(c.key,c.mutableCopy()))}return T.resolve(i)}getAllFromCollectionGroup(e,n,r,o){z()}Fr(e,n){return T.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new ob(this)}getSize(e){return T.resolve(this.size)}}class ob extends X9{constructor(e){super(),this.ar=e}applyChanges(e){const n=[];return this.changes.forEach((r,o)=>{o.isValidDocument()?n.push(this.ar.addEntry(e,o)):this.ar.removeEntry(r)}),T.waitFor(n)}getFromCache(e,n){return this.ar.getEntry(e,n)}getAllFromCache(e,n){return this.ar.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ib{constructor(e){this.persistence=e,this.Mr=new Wo(n=>Zf(n),ep),this.lastRemoteSnapshotVersion=B.min(),this.highestTargetId=0,this.Or=0,this.Nr=new op,this.targetCount=0,this.Lr=ko.Nn()}forEachTarget(e,n){return this.Mr.forEach((r,o)=>n(o)),T.resolve()}getLastRemoteSnapshotVersion(e){return T.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return T.resolve(this.Or)}allocateTargetId(e){return this.highestTargetId=this.Lr.next(),T.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Or&&(this.Or=n),T.resolve()}qn(e){this.Mr.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Lr=new ko(n),this.highestTargetId=n),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}addTargetData(e,n){return this.qn(n),this.targetCount+=1,T.resolve()}updateTargetData(e,n){return this.qn(n),T.resolve()}removeTargetData(e,n){return this.Mr.delete(n.target),this.Nr.Vr(n.targetId),this.targetCount-=1,T.resolve()}removeTargets(e,n,r){let o=0;const i=[];return this.Mr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Mr.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),o++)}),T.waitFor(i).next(()=>o)}getTargetCount(e){return T.resolve(this.targetCount)}getTargetData(e,n){const r=this.Mr.get(n)||null;return T.resolve(r)}addMatchingKeys(e,n,r){return this.Nr.dr(n,r),T.resolve()}removeMatchingKeys(e,n,r){this.Nr.Rr(n,r);const o=this.persistence.referenceDelegate,i=[];return o&&n.forEach(s=>{i.push(o.markPotentiallyOrphaned(e,s))}),T.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.Nr.Vr(n),T.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Nr.gr(n);return T.resolve(r)}containsKey(e,n){return T.resolve(this.Nr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,n){this.Br={},this.overlays={},this.kr=new Qf(0),this.qr=!1,this.qr=!0,this.referenceDelegate=e(this),this.Qr=new ib(this),this.indexManager=new Q9,this.remoteDocumentCache=function(o){return new rb(o)}(r=>this.referenceDelegate.Kr(r)),this.serializer=new q9(n),this.$r=new eb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.qr=!1,Promise.resolve()}get started(){return this.qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new tb,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.Br[e.toKey()];return r||(r=new nb(n,this.referenceDelegate),this.Br[e.toKey()]=r),r}getTargetCache(){return this.Qr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.$r}runTransaction(e,n,r){b("MemoryPersistence","Starting transaction:",e);const o=new ab(this.kr.next());return this.referenceDelegate.Ur(),r(o).next(i=>this.referenceDelegate.Wr(o).next(()=>i)).toPromise().then(i=>(o.raiseOnCommittedEvent(),i))}Gr(e,n){return T.or(Object.values(this.Br).map(r=>()=>r.containsKey(e,n)))}}class ab extends UP{constructor(e){super(),this.currentSequenceNumber=e}}class ip{constructor(e){this.persistence=e,this.zr=new op,this.jr=null}static Hr(e){return new ip(e)}get Jr(){if(this.jr)return this.jr;throw z()}addReference(e,n,r){return this.zr.addReference(r,n),this.Jr.delete(r.toString()),T.resolve()}removeReference(e,n,r){return this.zr.removeReference(r,n),this.Jr.add(r.toString()),T.resolve()}markPotentiallyOrphaned(e,n){return this.Jr.add(n.toString()),T.resolve()}removeTarget(e,n){this.zr.Vr(n.targetId).forEach(o=>this.Jr.add(o.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(o=>{o.forEach(i=>this.Jr.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ur(){this.jr=new Set}Wr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return T.forEach(this.Jr,r=>{const o=L.fromPath(r);return this.Yr(e,o).next(i=>{i||n.removeEntry(o,B.min())})}).next(()=>(this.jr=null,n.apply(e)))}updateLimboDocument(e,n){return this.Yr(e,n).next(r=>{r?this.Jr.delete(n.toString()):this.Jr.add(n.toString())})}Kr(e){return 0}Yr(e,n){return T.or([()=>T.resolve(this.zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Gr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,n,r,o){this.targetId=e,this.fromCache=n,this.qi=r,this.Qi=o}static Ki(e,n){let r=q(),o=q();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:o=o.add(i.doc.key)}return new sp(e,n.fromCache,r,o)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ub{constructor(){this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=function(){return cR()?8:_r.v(cl())>0?6:4}()}initialize(e,n){this.zi=e,this.indexManager=n,this.$i=!0}getDocumentsMatchingQuery(e,n,r,o){const i={result:null};return this.ji(e,n).next(s=>{i.result=s}).next(()=>{if(!i.result)return this.Hi(e,n,o,r).next(s=>{i.result=s})}).next(()=>{if(i.result)return;const s=new lb;return this.Ji(e,n,s).next(a=>{if(i.result=a,this.Ui)return this.Yi(e,n,s,a.size)})}).next(()=>i.result)}Yi(e,n,r,o){return r.documentReadCount<this.Wi?(si()<=X.DEBUG&&b("QueryEngine","SDK will not create cache indexes for query:",Br(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),T.resolve()):(si()<=X.DEBUG&&b("QueryEngine","Query:",Br(n),"scans",r.documentReadCount,"local documents and returns",o,"documents as results."),r.documentReadCount>this.Gi*o?(si()<=X.DEBUG&&b("QueryEngine","The SDK decides to create cache indexes for query:",Br(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Jt(n))):T.resolve())}ji(e,n){if(Ng(n))return T.resolve(null);let r=Jt(n);return this.indexManager.getIndexType(e,r).next(o=>o===0?null:(n.limit!==null&&o===1&&(n=Jd(n,null,"F"),r=Jt(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const s=q(...i);return this.zi.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const u=this.Zi(n,a);return this.Xi(n,u,s,l.readTime)?this.ji(e,Jd(n,null,"F")):this.es(e,u,n,l)}))})))}Hi(e,n,r,o){return Ng(n)||o.isEqual(B.min())?T.resolve(null):this.zi.getDocuments(e,r).next(i=>{const s=this.Zi(n,i);return this.Xi(n,s,r,o)?T.resolve(null):(si()<=X.DEBUG&&b("QueryEngine","Re-using previous result from %s to execute query: %s",o.toString(),Br(n)),this.es(e,s,n,LP(o,-1)).next(a=>a))})}Zi(e,n){let r=new Fe(fw(e));return n.forEach((o,i)=>{_u(e,i)&&(r=r.add(i))}),r}Xi(e,n,r,o){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(o)>0)}Ji(e,n,r){return si()<=X.DEBUG&&b("QueryEngine","Using full collection scan to execute query:",Br(n)),this.zi.getDocumentsMatchingQuery(e,n,Xn.min(),r)}es(e,n,r,o){return this.zi.getDocumentsMatchingQuery(e,r,o).next(i=>(n.forEach(s=>{i=i.insert(s.key,s)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cb{constructor(e,n,r,o){this.persistence=e,this.ts=n,this.serializer=o,this.ns=new ge(Z),this.rs=new Wo(i=>Zf(i),ep),this.ss=new Map,this.os=e.getRemoteDocumentCache(),this.Qr=e.getTargetCache(),this.$r=e.getBundleCache(),this._s(r)}_s(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Z9(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.ns))}}function db(t,e,n,r){return new cb(t,e,n,r)}async function Mw(t,e){const n=H(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let o;return n.mutationQueue.getAllMutationBatches(r).next(i=>(o=i,n._s(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const s=[],a=[];let l=q();for(const u of o){s.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({us:u,removedBatchIds:s,addedBatchIds:a}))})})}function hb(t,e){const n=H(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const o=e.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(a,l,u,c){const d=u.batch,h=d.keys();let p=T.resolve();return h.forEach(y=>{p=p.next(()=>c.getEntry(l,y)).next(_=>{const E=u.docVersions.get(y);ie(E!==null),_.version.compareTo(E)<0&&(d.applyToRemoteDocument(_,u),_.isValidDocument()&&(_.setReadTime(u.commitVersion),c.addEntry(_)))})}),p.next(()=>a.mutationQueue.removeMutationBatch(l,d))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,o,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=q();for(let u=0;u<a.mutationResults.length;++u)a.mutationResults[u].transformResults.length>0&&(l=l.add(a.batch.mutations[u].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,o))})}function Ow(t){const e=H(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Qr.getLastRemoteSnapshotVersion(n))}function fb(t,e){const n=H(t),r=e.snapshotVersion;let o=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const s=n.os.newChangeBuffer({trackRemovals:!0});o=n.ns;const a=[];e.targetChanges.forEach((c,d)=>{const h=o.get(d);if(!h)return;a.push(n.Qr.removeMatchingKeys(i,c.removedDocuments,d).next(()=>n.Qr.addMatchingKeys(i,c.addedDocuments,d)));let p=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(d)!==null?p=p.withResumeToken(Xe.EMPTY_BYTE_STRING,B.min()).withLastLimboFreeSnapshotVersion(B.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),o=o.insert(d,p),function(_,E,m){return _.resumeToken.approximateByteSize()===0||E.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(h,p,c)&&a.push(n.Qr.updateTargetData(i,p))});let l=Tn(),u=q();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,c))}),a.push(pb(i,s,e.documentUpdates).next(c=>{l=c.cs,u=c.ls})),!r.isEqual(B.min())){const c=n.Qr.getLastRemoteSnapshotVersion(i).next(d=>n.Qr.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(c)}return T.waitFor(a).next(()=>s.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(n.ns=o,i))}function pb(t,e,n){let r=q(),o=q();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let s=Tn();return n.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(o=o.add(a)),l.isNoDocument()&&l.version.isEqual(B.min())?(e.removeEntry(a,l.readTime),s=s.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),s=s.insert(a,l)):b("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{cs:s,ls:o}})}function mb(t,e){const n=H(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gb(t,e){const n=H(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let o;return n.Qr.getTargetData(r,e).next(i=>i?(o=i,T.resolve(o)):n.Qr.allocateTargetId(r).next(s=>(o=new Vn(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Qr.addTargetData(r,o).next(()=>o))))}).then(r=>{const o=n.ns.get(r.targetId);return(o===null||r.snapshotVersion.compareTo(o.snapshotVersion)>0)&&(n.ns=n.ns.insert(r.targetId,r),n.rs.set(e,r.targetId)),r})}async function rh(t,e,n){const r=H(t),o=r.ns.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,s=>r.persistence.referenceDelegate.removeTarget(s,o))}catch(s){if(!Ns(s))throw s;b("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.ns=r.ns.remove(e),r.rs.delete(o.target)}function Hg(t,e,n){const r=H(t);let o=B.min(),i=q();return r.persistence.runTransaction("Execute query","readwrite",s=>function(l,u,c){const d=H(l),h=d.rs.get(c);return h!==void 0?T.resolve(d.ns.get(h)):d.Qr.getTargetData(u,c)}(r,s,Jt(e)).next(a=>{if(a)return o=a.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(s,a.targetId).next(l=>{i=l})}).next(()=>r.ts.getDocumentsMatchingQuery(s,e,n?o:B.min(),n?i:q())).next(a=>(yb(r,l9(e),a),{documents:a,hs:i})))}function yb(t,e,n){let r=t.ss.get(e)||B.min();n.forEach((o,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.ss.set(e,r)}class Wg{constructor(){this.activeTargetIds=p9()}As(e){this.activeTargetIds=this.activeTargetIds.add(e)}Rs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ds(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class vb{constructor(){this.no=new Wg,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.no.As(e),this.ro[e]||"not-current"}updateQueryState(e,n,r){this.ro[e]=n}removeLocalQueryTarget(e){this.no.Rs(e)}isLocalQueryTarget(e){return this.no.activeTargetIds.has(e)}clearQueryState(e){delete this.ro[e]}getAllActiveQueryTargets(){return this.no.activeTargetIds}isActiveQueryTarget(e){return this.no.activeTargetIds.has(e)}start(){return this.no=new Wg,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _b{io(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(){this.so=()=>this.oo(),this._o=()=>this.ao(),this.uo=[],this.co()}io(e){this.uo.push(e)}shutdown(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}co(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}oo(){b("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.uo)e(0)}ao(){b("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.uo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pa=null;function _c(){return pa===null?pa=function(){return 268435456+Math.round(2147483648*Math.random())}():pa++,"0x"+pa.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wb={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e){this.lo=e.lo,this.ho=e.ho}Po(e){this.Io=e}To(e){this.Eo=e}onMessage(e){this.Ao=e}close(){this.ho()}send(e){this.lo(e)}Ro(){this.Io()}Vo(e){this.Eo(e)}mo(e){this.Ao(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Be="WebChannelConnection";class Tb extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",o=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=r+"://"+n.host,this.po=`projects/${o}/databases/${i}`,this.yo=this.databaseId.database==="(default)"?`project_id=${o}`:`project_id=${o}&database_id=${i}`}get wo(){return!1}So(n,r,o,i,s){const a=_c(),l=this.bo(n,r.toUriEncodedString());b("RestConnection",`Sending RPC '${n}' ${a}:`,l,o);const u={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(u,i,s),this.Co(n,l,u,o).then(c=>(b("RestConnection",`Received RPC '${n}' ${a}: `,c),c),c=>{throw Ro("RestConnection",`RPC '${n}' ${a} failed with error: `,c,"url: ",l,"request:",o),c})}vo(n,r,o,i,s,a){return this.So(n,r,o,i,s)}Do(n,r,o){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Bo}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((i,s)=>n[s]=i),o&&o.headers.forEach((i,s)=>n[s]=i)}bo(n,r){const o=wb[n];return`${this.fo}/v1/${r}:${o}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Co(e,n,r,o){const i=_c();return new Promise((s,a)=>{const l=new RP;l.setWithCredentials(!0),l.listenOnce(IP.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case yc.NO_ERROR:const c=l.getResponseJson();b(Be,`XHR for RPC '${e}' ${i} received:`,JSON.stringify(c)),s(c);break;case yc.TIMEOUT:b(Be,`RPC '${e}' ${i} timed out`),a(new O(A.DEADLINE_EXCEEDED,"Request time out"));break;case yc.HTTP_ERROR:const d=l.getStatus();if(b(Be,`RPC '${e}' ${i} failed with status:`,d,"response text:",l.getResponseText()),d>0){let h=l.getResponseJson();Array.isArray(h)&&(h=h[0]);const p=h==null?void 0:h.error;if(p&&p.status&&p.message){const y=function(E){const m=E.toLowerCase().replace(/_/g,"-");return Object.values(A).indexOf(m)>=0?m:A.UNKNOWN}(p.status);a(new O(y,p.message))}else a(new O(A.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new O(A.UNAVAILABLE,"Connection failed."));break;default:z()}}finally{b(Be,`RPC '${e}' ${i} completed.`)}});const u=JSON.stringify(o);b(Be,`RPC '${e}' ${i} sending request:`,o),l.send(n,"POST",u,r,15)})}Fo(e,n,r){const o=_c(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=SP(),a=CP(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Do(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=i.join("");b(Be,`Creating RPC '${e}' stream ${o}: ${c}`,l);const d=s.createWebChannel(c,l);let h=!1,p=!1;const y=new Eb({lo:E=>{p?b(Be,`Not sending because RPC '${e}' stream ${o} is closed:`,E):(h||(b(Be,`Opening RPC '${e}' stream ${o} transport.`),d.open(),h=!0),b(Be,`RPC '${e}' stream ${o} sending:`,E),d.send(E))},ho:()=>d.close()}),_=(E,m,f)=>{E.listen(m,g=>{try{f(g)}catch(w){setTimeout(()=>{throw w},0)}})};return _(d,da.EventType.OPEN,()=>{p||b(Be,`RPC '${e}' stream ${o} transport opened.`)}),_(d,da.EventType.CLOSE,()=>{p||(p=!0,b(Be,`RPC '${e}' stream ${o} transport closed`),y.Vo())}),_(d,da.EventType.ERROR,E=>{p||(p=!0,Ro(Be,`RPC '${e}' stream ${o} transport errored:`,E),y.Vo(new O(A.UNAVAILABLE,"The operation could not be completed")))}),_(d,da.EventType.MESSAGE,E=>{var m;if(!p){const f=E.data[0];ie(!!f);const g=f,w=g.error||((m=g[0])===null||m===void 0?void 0:m.error);if(w){b(Be,`RPC '${e}' stream ${o} received error:`,w);const S=w.status;let C=function(M){const V=we[M];if(V!==void 0)return Aw(V)}(S),I=w.message;C===void 0&&(C=A.INTERNAL,I="Unknown error status: "+S+" with message "+w.message),p=!0,y.Vo(new O(C,I)),d.close()}else b(Be,`RPC '${e}' stream ${o} received:`,f),y.mo(f)}}),_(a,AP.STAT_EVENT,E=>{E.stat===Tg.PROXY?b(Be,`RPC '${e}' stream ${o} detected buffering proxy`):E.stat===Tg.NOPROXY&&b(Be,`RPC '${e}' stream ${o} detected no buffering proxy`)}),setTimeout(()=>{y.Ro()},0),y}}function wc(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Su(t){return new N9(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lw{constructor(e,n,r=1e3,o=1.5,i=6e4){this.oi=e,this.timerId=n,this.Mo=r,this.xo=o,this.Oo=i,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}reset(){this.No=0}ko(){this.No=this.Oo}qo(e){this.cancel();const n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),o=Math.max(0,n-r);o>0&&b("ExponentialBackoff",`Backing off for ${o} ms (base delay: ${this.No} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Lo=this.oi.enqueueAfterDelay(this.timerId,o,()=>(this.Bo=Date.now(),e())),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}Ko(){this.Lo!==null&&(this.Lo.skipDelay(),this.Lo=null)}cancel(){this.Lo!==null&&(this.Lo.cancel(),this.Lo=null)}Qo(){return(Math.random()-.5)*this.No}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(e,n,r,o,i,s,a,l){this.oi=e,this.$o=r,this.Uo=o,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new Lw(e,n)}Ho(){return this.state===1||this.state===5||this.Jo()}Jo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Yo()}async stop(){this.Ho()&&await this.close(0)}Zo(){this.state=0,this.jo.reset()}Xo(){this.Jo()&&this.Go===null&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,()=>this.e_()))}t_(e){this.n_(),this.stream.send(e)}async e_(){if(this.Jo())return this.close(0)}n_(){this.Go&&(this.Go.cancel(),this.Go=null)}r_(){this.zo&&(this.zo.cancel(),this.zo=null)}async close(e,n){this.n_(),this.r_(),this.jo.cancel(),this.Wo++,e!==4?this.jo.reset():n&&n.code===A.RESOURCE_EXHAUSTED?(en(n.toString()),en("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===A.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.i_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.To(n)}i_(){}auth(){this.state=1;const e=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,o])=>{this.Wo===n&&this.o_(r,o)},r=>{e(()=>{const o=new O(A.UNKNOWN,"Fetching auth token failed: "+r.message);return this.__(o)})})}o_(e,n){const r=this.s_(this.Wo);this.stream=this.a_(e,n),this.stream.Po(()=>{r(()=>(this.state=2,this.zo=this.oi.enqueueAfterDelay(this.Uo,1e4,()=>(this.Jo()&&(this.state=3),Promise.resolve())),this.listener.Po()))}),this.stream.To(o=>{r(()=>this.__(o))}),this.stream.onMessage(o=>{r(()=>this.onMessage(o))})}Yo(){this.state=5,this.jo.qo(async()=>{this.state=0,this.start()})}__(e){return b("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}s_(e){return n=>{this.oi.enqueueAndForget(()=>this.Wo===e?n():(b("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Sb extends Fw{constructor(e,n,r,o,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,o,s),this.serializer=i}a_(e,n){return this.connection.Fo("Listen",e,n)}onMessage(e){this.jo.reset();const n=M9(this.serializer,e),r=function(i){if(!("targetChange"in i))return B.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?B.min():s.readTime?Zt(s.readTime):B.min()}(e);return this.listener.u_(n,r)}c_(e){const n={};n.database=nh(this.serializer),n.addTarget=function(i,s){let a;const l=s.target;if(a=Xd(l)?{documents:F9(i,l)}:{query:j9(i,l).ut},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Pw(i,s.resumeToken);const u=Zd(i,s.expectedCount);u!==null&&(a.expectedCount=u)}else if(s.snapshotVersion.compareTo(B.min())>0){a.readTime=Cl(i,s.snapshotVersion.toTimestamp());const u=Zd(i,s.expectedCount);u!==null&&(a.expectedCount=u)}return a}(this.serializer,e);const r=U9(this.serializer,e);r&&(n.labels=r),this.t_(n)}l_(e){const n={};n.database=nh(this.serializer),n.removeTarget=e,this.t_(n)}}class Cb extends Fw{constructor(e,n,r,o,i,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,o,s),this.serializer=i,this.h_=!1}get P_(){return this.h_}start(){this.h_=!1,this.lastStreamToken=void 0,super.start()}i_(){this.h_&&this.I_([])}a_(e,n){return this.connection.Fo("Write",e,n)}onMessage(e){if(ie(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();const n=L9(e.writeResults,e.commitTime),r=Zt(e.commitTime);return this.listener.T_(r,n)}return ie(!e.writeResults||e.writeResults.length===0),this.h_=!0,this.listener.E_()}d_(){const e={};e.database=nh(this.serializer),this.t_(e)}I_(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>O9(this.serializer,r))};this.t_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ib extends class{}{constructor(e,n,r,o){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=o,this.A_=!1}R_(){if(this.A_)throw new O(A.FAILED_PRECONDITION,"The client has already been terminated.")}So(e,n,r,o){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.So(e,eh(n,r),o,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new O(A.UNKNOWN,i.toString())})}vo(e,n,r,o,i){return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.vo(e,eh(n,r),o,s,a,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===A.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new O(A.UNKNOWN,s.toString())})}terminate(){this.A_=!0,this.connection.terminate()}}class Ab{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}p_(){this.m_===0&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.f_=null,this.w_("Backend didn't respond within 10 seconds."),this.y_("Offline"),Promise.resolve())))}S_(e){this.state==="Online"?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.y_("Offline")))}set(e){this.b_(),this.m_=0,e==="Online"&&(this.g_=!1),this.y_(e)}y_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}w_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.g_?(en(n),this.g_=!1):b("OnlineStateTracker",n)}b_(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rb{constructor(e,n,r,o,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=i,this.M_.io(s=>{r.enqueueAndForget(async()=>{Fr(this)&&(b("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=H(l);u.v_.add(4),await Ms(u),u.x_.set("Unknown"),u.v_.delete(4),await Cu(u)}(this))})}),this.x_=new Ab(r,o)}}async function Cu(t){if(Fr(t))for(const e of t.F_)await e(!0)}async function Ms(t){for(const e of t.F_)await e(!1)}function jw(t,e){const n=H(t);n.C_.has(e.targetId)||(n.C_.set(e.targetId,e),cp(n)?up(n):Go(n).Jo()&&lp(n,e))}function ap(t,e){const n=H(t),r=Go(n);n.C_.delete(e),r.Jo()&&zw(n,e),n.C_.size===0&&(r.Jo()?r.Xo():Fr(n)&&n.x_.set("Unknown"))}function lp(t,e){if(t.O_.Oe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(B.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Go(t).c_(e)}function zw(t,e){t.O_.Oe(e),Go(t).l_(e)}function up(t){t.O_=new P9({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),_t:e=>t.C_.get(e)||null,nt:()=>t.datastore.serializer.databaseId}),Go(t).start(),t.x_.p_()}function cp(t){return Fr(t)&&!Go(t).Ho()&&t.C_.size>0}function Fr(t){return H(t).v_.size===0}function Uw(t){t.O_=void 0}async function xb(t){t.C_.forEach((e,n)=>{lp(t,e)})}async function Pb(t,e){Uw(t),cp(t)?(t.x_.S_(e),up(t)):t.x_.set("Unknown")}async function bb(t,e,n){if(t.x_.set("Online"),e instanceof xw&&e.state===2&&e.cause)try{await async function(o,i){const s=i.cause;for(const a of i.targetIds)o.C_.has(a)&&(await o.remoteSyncer.rejectListen(a,s),o.C_.delete(a),o.O_.removeTarget(a))}(t,e)}catch(r){b("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Il(t,r)}else if(e instanceof ba?t.O_.$e(e):e instanceof Rw?t.O_.Je(e):t.O_.Ge(e),!n.isEqual(B.min()))try{const r=await Ow(t.localStore);n.compareTo(r)>=0&&await function(i,s){const a=i.O_.it(s);return a.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=i.C_.get(u);c&&i.C_.set(u,c.withResumeToken(l.resumeToken,s))}}),a.targetMismatches.forEach((l,u)=>{const c=i.C_.get(l);if(!c)return;i.C_.set(l,c.withResumeToken(Xe.EMPTY_BYTE_STRING,c.snapshotVersion)),zw(i,l);const d=new Vn(c.target,l,u,c.sequenceNumber);lp(i,d)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){b("RemoteStore","Failed to raise snapshot:",r),await Il(t,r)}}async function Il(t,e,n){if(!Ns(e))throw e;t.v_.add(1),await Ms(t),t.x_.set("Offline"),n||(n=()=>Ow(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{b("RemoteStore","Retrying IndexedDB access"),await n(),t.v_.delete(1),await Cu(t)})}function Bw(t,e){return e().catch(n=>Il(t,n,e))}async function Iu(t){const e=H(t),n=Zn(e);let r=e.D_.length>0?e.D_[e.D_.length-1].batchId:-1;for(;kb(e);)try{const o=await mb(e.localStore,r);if(o===null){e.D_.length===0&&n.Xo();break}r=o.batchId,$b(e,o)}catch(o){await Il(e,o)}Hw(e)&&Ww(e)}function kb(t){return Fr(t)&&t.D_.length<10}function $b(t,e){t.D_.push(e);const n=Zn(t);n.Jo()&&n.P_&&n.I_(e.mutations)}function Hw(t){return Fr(t)&&!Zn(t).Ho()&&t.D_.length>0}function Ww(t){Zn(t).start()}async function Nb(t){Zn(t).d_()}async function Db(t){const e=Zn(t);for(const n of t.D_)e.I_(n.mutations)}async function Vb(t,e,n){const r=t.D_.shift(),o=tp.from(r,e,n);await Bw(t,()=>t.remoteSyncer.applySuccessfulWrite(o)),await Iu(t)}async function Mb(t,e){e&&Zn(t).P_&&await async function(r,o){if(function(s){return A9(s)&&s!==A.ABORTED}(o.code)){const i=r.D_.shift();Zn(r).Zo(),await Bw(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,o)),await Iu(r)}}(t,e),Hw(t)&&Ww(t)}async function qg(t,e){const n=H(t);n.asyncQueue.verifyOperationInProgress(),b("RemoteStore","RemoteStore received new credentials");const r=Fr(n);n.v_.add(3),await Ms(n),r&&n.x_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.v_.delete(3),await Cu(n)}async function Ob(t,e){const n=H(t);e?(n.v_.delete(2),await Cu(n)):e||(n.v_.add(2),await Ms(n),n.x_.set("Unknown"))}function Go(t){return t.N_||(t.N_=function(n,r,o){const i=H(n);return i.R_(),new Sb(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,o)}(t.datastore,t.asyncQueue,{Po:xb.bind(null,t),To:Pb.bind(null,t),u_:bb.bind(null,t)}),t.F_.push(async e=>{e?(t.N_.Zo(),cp(t)?up(t):t.x_.set("Unknown")):(await t.N_.stop(),Uw(t))})),t.N_}function Zn(t){return t.L_||(t.L_=function(n,r,o){const i=H(n);return i.R_(),new Cb(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,o)}(t.datastore,t.asyncQueue,{Po:Nb.bind(null,t),To:Mb.bind(null,t),E_:Db.bind(null,t),T_:Vb.bind(null,t)}),t.F_.push(async e=>{e?(t.L_.Zo(),await Iu(t)):(await t.L_.stop(),t.D_.length>0&&(b("RemoteStore",`Stopping write stream with ${t.D_.length} pending writes`),t.D_=[]))})),t.L_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dp{constructor(e,n,r,o,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=o,this.removalCallback=i,this.deferred=new pn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,o,i){const s=Date.now()+r,a=new dp(e,n,s,o,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new O(A.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function hp(t,e){if(en("AsyncQueue",`${e}: ${t}`),Ns(t))return new O(A.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mo{constructor(e){this.comparator=e?(n,r)=>e(n,r)||L.comparator(n.key,r.key):(n,r)=>L.comparator(n.key,r.key),this.keyedMap=pi(),this.sortedSet=new ge(this.comparator)}static emptySet(e){return new mo(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof mo)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const o=n.getNext().key,i=r.getNext().key;if(!o.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new mo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kg{constructor(){this.B_=new ge(L.comparator)}track(e){const n=e.doc.key,r=this.B_.get(n);r?e.type!==0&&r.type===3?this.B_=this.B_.insert(n,e):e.type===3&&r.type!==1?this.B_=this.B_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.B_=this.B_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.B_=this.B_.remove(n):e.type===1&&r.type===2?this.B_=this.B_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.B_=this.B_.insert(n,{type:2,doc:e.doc}):z():this.B_=this.B_.insert(n,e)}k_(){const e=[];return this.B_.inorderTraversal((n,r)=>{e.push(r)}),e}}class $o{constructor(e,n,r,o,i,s,a,l,u){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=o,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,n,r,o,i){const s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new $o(e,n,mo.emptySet(n),s,r,o,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&vu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let o=0;o<n.length;o++)if(n[o].type!==r[o].type||!n[o].doc.isEqual(r[o].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lb{constructor(){this.q_=void 0,this.Q_=[]}K_(){return this.Q_.some(e=>e.U_())}}class Fb{constructor(){this.queries=new Wo(e=>hw(e),vu),this.onlineState="Unknown",this.W_=new Set}}async function jb(t,e){const n=H(t);let r=3;const o=e.query;let i=n.queries.get(o);i?!i.K_()&&e.U_()&&(r=2):(i=new Lb,r=e.U_()?0:1);try{switch(r){case 0:i.q_=await n.onListen(o,!0);break;case 1:i.q_=await n.onListen(o,!1);break;case 2:await n.onFirstRemoteStoreListen(o)}}catch(s){const a=hp(s,`Initialization of query '${Br(e.query)}' failed`);return void e.onError(a)}n.queries.set(o,i),i.Q_.push(e),e.G_(n.onlineState),i.q_&&e.z_(i.q_)&&fp(n)}async function zb(t,e){const n=H(t),r=e.query;let o=3;const i=n.queries.get(r);if(i){const s=i.Q_.indexOf(e);s>=0&&(i.Q_.splice(s,1),i.Q_.length===0?o=e.U_()?0:1:!i.K_()&&e.U_()&&(o=2))}switch(o){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Ub(t,e){const n=H(t);let r=!1;for(const o of e){const i=o.query,s=n.queries.get(i);if(s){for(const a of s.Q_)a.z_(o)&&(r=!0);s.q_=o}}r&&fp(n)}function Bb(t,e,n){const r=H(t),o=r.queries.get(e);if(o)for(const i of o.Q_)i.onError(n);r.queries.delete(e)}function fp(t){t.W_.forEach(e=>{e.next()})}var oh,Qg;(Qg=oh||(oh={})).j_="default",Qg.Cache="cache";class Hb{constructor(e,n,r){this.query=e,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const o of e.docChanges)o.type!==3&&r.push(o);e=new $o(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),n=!0):this.X_(e,this.onlineState)&&(this.ea(e),n=!0),this.Y_=e,n}onError(e){this.H_.error(e)}G_(e){this.onlineState=e;let n=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),n=!0),n}X_(e,n){if(!e.fromCache||!this.U_())return!0;const r=n!=="Offline";return(!this.options.ta||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Z_(e){if(e.docChanges.length>0)return!0;const n=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ea(e){e=$o.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}U_(){return this.options.source!==oh.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(e){this.key=e}}class qw{constructor(e){this.key=e}}class Wb{constructor(e,n){this.query=e,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=q(),this.mutatedKeys=q(),this.ha=fw(e),this.Pa=new mo(this.ha)}get Ia(){return this.ua}Ta(e,n){const r=n?n.Ea:new Kg,o=n?n.Pa:this.Pa;let i=n?n.mutatedKeys:this.mutatedKeys,s=o,a=!1;const l=this.query.limitType==="F"&&o.size===this.query.limit?o.last():null,u=this.query.limitType==="L"&&o.size===this.query.limit?o.first():null;if(e.inorderTraversal((c,d)=>{const h=o.get(c),p=_u(this.query,d)?d:null,y=!!h&&this.mutatedKeys.has(h.key),_=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let E=!1;h&&p?h.data.isEqual(p.data)?y!==_&&(r.track({type:3,doc:p}),E=!0):this.da(h,p)||(r.track({type:2,doc:p}),E=!0,(l&&this.ha(p,l)>0||u&&this.ha(p,u)<0)&&(a=!0)):!h&&p?(r.track({type:0,doc:p}),E=!0):h&&!p&&(r.track({type:1,doc:h}),E=!0,(l||u)&&(a=!0)),E&&(p?(s=s.add(p),i=_?i.add(c):i.delete(c)):(s=s.delete(c),i=i.delete(c)))}),this.query.limit!==null)for(;s.size>this.query.limit;){const c=this.query.limitType==="F"?s.last():s.first();s=s.delete(c.key),i=i.delete(c.key),r.track({type:1,doc:c})}return{Pa:s,Ea:r,Xi:a,mutatedKeys:i}}da(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,o){const i=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;const s=e.Ea.k_();s.sort((c,d)=>function(p,y){const _=E=>{switch(E){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return z()}};return _(p)-_(y)}(c.type,d.type)||this.ha(c.doc,d.doc)),this.Aa(r),o=o!=null&&o;const a=n&&!o?this.Ra():[],l=this.la.size===0&&this.current&&!o?1:0,u=l!==this.ca;return this.ca=l,s.length!==0||u?{snapshot:new $o(this.query,e.Pa,i,s,e.mutatedKeys,l===0,u,!1,!!r&&r.resumeToken.approximateByteSize()>0),Va:a}:{Va:a}}G_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new Kg,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}ma(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}Aa(e){e&&(e.addedDocuments.forEach(n=>this.ua=this.ua.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.ua=this.ua.delete(n)),this.current=e.current)}Ra(){if(!this.current)return[];const e=this.la;this.la=q(),this.Pa.forEach(r=>{this.ma(r.key)&&(this.la=this.la.add(r.key))});const n=[];return e.forEach(r=>{this.la.has(r)||n.push(new qw(r))}),this.la.forEach(r=>{e.has(r)||n.push(new Gw(r))}),n}fa(e){this.ua=e.hs,this.la=q();const n=this.Ta(e.documents);return this.applyChanges(n,!0)}ga(){return $o.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,this.ca===0,this.hasCachedResults)}}class Gb{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class qb{constructor(e){this.key=e,this.pa=!1}}class Kb{constructor(e,n,r,o,i,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=o,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.ya={},this.wa=new Wo(a=>hw(a),vu),this.Sa=new Map,this.ba=new Set,this.Da=new ge(L.comparator),this.Ca=new Map,this.va=new op,this.Fa={},this.Ma=new Map,this.xa=ko.Ln(),this.onlineState="Unknown",this.Oa=void 0}get isPrimaryClient(){return this.Oa===!0}}async function Qb(t,e,n=!0){const r=Zw(t);let o;const i=r.wa.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),o=i.view.ga()):o=await Kw(r,e,n,!0),o}async function Yb(t,e){const n=Zw(t);await Kw(n,e,!0,!1)}async function Kw(t,e,n,r){const o=await gb(t.localStore,Jt(e)),i=o.targetId,s=n?t.sharedClientState.addLocalQueryTarget(i):"not-current";let a;return r&&(a=await Xb(t,e,i,s==="current",o.resumeToken)),t.isPrimaryClient&&n&&jw(t.remoteStore,o),a}async function Xb(t,e,n,r,o){t.Na=(d,h,p)=>async function(_,E,m,f){let g=E.view.Ta(m);g.Xi&&(g=await Hg(_.localStore,E.query,!1).then(({documents:I})=>E.view.Ta(I,g)));const w=f&&f.targetChanges.get(E.targetId),S=f&&f.targetMismatches.get(E.targetId)!=null,C=E.view.applyChanges(g,_.isPrimaryClient,w,S);return Xg(_,E.targetId,C.Va),C.snapshot}(t,d,h,p);const i=await Hg(t.localStore,e,!0),s=new Wb(e,i.hs),a=s.Ta(i.documents),l=Vs.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",o),u=s.applyChanges(a,t.isPrimaryClient,l);Xg(t,n,u.Va);const c=new Gb(e,n,s);return t.wa.set(e,c),t.Sa.has(n)?t.Sa.get(n).push(e):t.Sa.set(n,[e]),u.snapshot}async function Jb(t,e,n){const r=H(t),o=r.wa.get(e),i=r.Sa.get(o.targetId);if(i.length>1)return r.Sa.set(o.targetId,i.filter(s=>!vu(s,e))),void r.wa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(o.targetId),r.sharedClientState.isActiveQueryTarget(o.targetId)||await rh(r.localStore,o.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(o.targetId),n&&ap(r.remoteStore,o.targetId),ih(r,o.targetId)}).catch($s)):(ih(r,o.targetId),await rh(r.localStore,o.targetId,!0))}async function Zb(t,e){const n=H(t),r=n.wa.get(e),o=n.Sa.get(r.targetId);n.isPrimaryClient&&o.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ap(n.remoteStore,r.targetId))}async function ek(t,e,n){const r=ak(t);try{const o=await function(s,a){const l=H(s),u=Ae.now(),c=a.reduce((p,y)=>p.add(y.key),q());let d,h;return l.persistence.runTransaction("Locally write mutations","readwrite",p=>{let y=Tn(),_=q();return l.os.getEntries(p,c).next(E=>{y=E,y.forEach((m,f)=>{f.isValidDocument()||(_=_.add(m))})}).next(()=>l.localDocuments.getOverlayedDocuments(p,y)).next(E=>{d=E;const m=[];for(const f of a){const g=E9(f,d.get(f.key).overlayedDocument);g!=null&&m.push(new Lr(f.key,g,ow(g.value.mapValue),mn.exists(!0)))}return l.mutationQueue.addMutationBatch(p,u,m,a)}).next(E=>{h=E;const m=E.applyToLocalDocumentSet(d,_);return l.documentOverlayCache.saveOverlays(p,E.batchId,m)})}).then(()=>({batchId:h.batchId,changes:mw(d)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(o.batchId),function(s,a,l){let u=s.Fa[s.currentUser.toKey()];u||(u=new ge(Z)),u=u.insert(a,l),s.Fa[s.currentUser.toKey()]=u}(r,o.batchId,n),await Os(r,o.changes),await Iu(r.remoteStore)}catch(o){const i=hp(o,"Failed to persist write");n.reject(i)}}async function Qw(t,e){const n=H(t);try{const r=await fb(n.localStore,e);e.targetChanges.forEach((o,i)=>{const s=n.Ca.get(i);s&&(ie(o.addedDocuments.size+o.modifiedDocuments.size+o.removedDocuments.size<=1),o.addedDocuments.size>0?s.pa=!0:o.modifiedDocuments.size>0?ie(s.pa):o.removedDocuments.size>0&&(ie(s.pa),s.pa=!1))}),await Os(n,r,e)}catch(r){await $s(r)}}function Yg(t,e,n){const r=H(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const o=[];r.wa.forEach((i,s)=>{const a=s.view.G_(e);a.snapshot&&o.push(a.snapshot)}),function(s,a){const l=H(s);l.onlineState=a;let u=!1;l.queries.forEach((c,d)=>{for(const h of d.Q_)h.G_(a)&&(u=!0)}),u&&fp(l)}(r.eventManager,e),o.length&&r.ya.u_(o),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function tk(t,e,n){const r=H(t);r.sharedClientState.updateQueryState(e,"rejected",n);const o=r.Ca.get(e),i=o&&o.key;if(i){let s=new ge(L.comparator);s=s.insert(i,Ge.newNoDocument(i,B.min()));const a=q().add(i),l=new Tu(B.min(),new Map,new ge(Z),s,a);await Qw(r,l),r.Da=r.Da.remove(i),r.Ca.delete(e),pp(r)}else await rh(r.localStore,e,!1).then(()=>ih(r,e,n)).catch($s)}async function nk(t,e){const n=H(t),r=e.batch.batchId;try{const o=await hb(n.localStore,e);Xw(n,r,null),Yw(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Os(n,o)}catch(o){await $s(o)}}async function rk(t,e,n){const r=H(t);try{const o=await function(s,a){const l=H(s);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,a).next(d=>(ie(d!==null),c=d.keys(),l.mutationQueue.removeMutationBatch(u,d))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(r.localStore,e);Xw(r,e,n),Yw(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Os(r,o)}catch(o){await $s(o)}}function Yw(t,e){(t.Ma.get(e)||[]).forEach(n=>{n.resolve()}),t.Ma.delete(e)}function Xw(t,e,n){const r=H(t);let o=r.Fa[r.currentUser.toKey()];if(o){const i=o.get(e);i&&(n?i.reject(n):i.resolve(),o=o.remove(e)),r.Fa[r.currentUser.toKey()]=o}}function ih(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Sa.get(e))t.wa.delete(r),n&&t.ya.La(r,n);t.Sa.delete(e),t.isPrimaryClient&&t.va.Vr(e).forEach(r=>{t.va.containsKey(r)||Jw(t,r)})}function Jw(t,e){t.ba.delete(e.path.canonicalString());const n=t.Da.get(e);n!==null&&(ap(t.remoteStore,n),t.Da=t.Da.remove(e),t.Ca.delete(n),pp(t))}function Xg(t,e,n){for(const r of n)r instanceof Gw?(t.va.addReference(r.key,e),ok(t,r)):r instanceof qw?(b("SyncEngine","Document no longer in limbo: "+r.key),t.va.removeReference(r.key,e),t.va.containsKey(r.key)||Jw(t,r.key)):z()}function ok(t,e){const n=e.key,r=n.path.canonicalString();t.Da.get(n)||t.ba.has(r)||(b("SyncEngine","New document in limbo: "+n),t.ba.add(r),pp(t))}function pp(t){for(;t.ba.size>0&&t.Da.size<t.maxConcurrentLimboResolutions;){const e=t.ba.values().next().value;t.ba.delete(e);const n=new L(de.fromString(e)),r=t.xa.next();t.Ca.set(r,new qb(n)),t.Da=t.Da.insert(n,r),jw(t.remoteStore,new Vn(Jt(dw(n.path)),r,"TargetPurposeLimboResolution",Qf._e))}}async function Os(t,e,n){const r=H(t),o=[],i=[],s=[];r.wa.isEmpty()||(r.wa.forEach((a,l)=>{s.push(r.Na(l,e,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){o.push(u);const c=sp.Ki(l.targetId,u);i.push(c)}}))}),await Promise.all(s),r.ya.u_(o),await async function(l,u){const c=H(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",d=>T.forEach(u,h=>T.forEach(h.qi,p=>c.persistence.referenceDelegate.addReference(d,h.targetId,p)).next(()=>T.forEach(h.Qi,p=>c.persistence.referenceDelegate.removeReference(d,h.targetId,p)))))}catch(d){if(!Ns(d))throw d;b("LocalStore","Failed to update sequence numbers: "+d)}for(const d of u){const h=d.targetId;if(!d.fromCache){const p=c.ns.get(h),y=p.snapshotVersion,_=p.withLastLimboFreeSnapshotVersion(y);c.ns=c.ns.insert(h,_)}}}(r.localStore,i))}async function ik(t,e){const n=H(t);if(!n.currentUser.isEqual(e)){b("SyncEngine","User change. New user:",e.toKey());const r=await Mw(n.localStore,e);n.currentUser=e,function(i,s){i.Ma.forEach(a=>{a.forEach(l=>{l.reject(new O(A.CANCELLED,s))})}),i.Ma.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Os(n,r.us)}}function sk(t,e){const n=H(t),r=n.Ca.get(e);if(r&&r.pa)return q().add(r.key);{let o=q();const i=n.Sa.get(e);if(!i)return o;for(const s of i){const a=n.wa.get(s);o=o.unionWith(a.view.Ia)}return o}}function Zw(t){const e=H(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Qw.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sk.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=tk.bind(null,e),e.ya.u_=Ub.bind(null,e.eventManager),e.ya.La=Bb.bind(null,e.eventManager),e}function ak(t){const e=H(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=nk.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=rk.bind(null,e),e}class Jg{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=Su(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return db(this.persistence,new ub,e.initialUser,this.serializer)}createPersistence(e){return new sb(ip.Hr,this.serializer)}createSharedClientState(e){return new vb}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class lk{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Yg(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=ik.bind(null,this.syncEngine),await Ob(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new Fb}()}createDatastore(e){const n=Su(e.databaseInfo.databaseId),r=function(i){return new Tb(i)}(e.databaseInfo);return function(i,s,a,l){return new Ib(i,s,a,l)}(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,o,i,s,a){return new Rb(r,o,i,s,a)}(this.localStore,this.datastore,e.asyncQueue,n=>Yg(this.syncEngine,n,0),function(){return Gg.D()?new Gg:new _b}())}createSyncEngine(e,n){return function(o,i,s,a,l,u,c){const d=new Kb(o,i,s,a,l,u);return c&&(d.Oa=!0),d}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e;await async function(r){const o=H(r);b("RemoteStore","RemoteStore shutting down."),o.v_.add(5),await Ms(o),o.M_.shutdown(),o.x_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uk{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.qa(this.observer.next,e)}error(e){this.observer.error?this.qa(this.observer.error,e):en("Uncaught Error in snapshot listener:",e.toString())}Qa(){this.muted=!0}qa(e,n){this.muted||setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ck{constructor(e,n,r,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=o,this.user=He.UNAUTHENTICATED,this.clientId=tw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async i=>{b("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(r,i=>(b("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new O(A.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=hp(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Ec(t,e){t.asyncQueue.verifyOperationInProgress(),b("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async o=>{r.isEqual(o)||(await Mw(e.localStore,o),r=o)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function Zg(t,e){t.asyncQueue.verifyOperationInProgress();const n=await hk(t);b("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>qg(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,o)=>qg(e.remoteStore,o)),t._onlineComponents=e}function dk(t){return t.name==="FirebaseError"?t.code===A.FAILED_PRECONDITION||t.code===A.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function hk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){b("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ec(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!dk(n))throw n;Ro("Error using user provided cache. Falling back to memory cache: "+n),await Ec(t,new Jg)}}else b("FirestoreClient","Using default OfflineComponentProvider"),await Ec(t,new Jg);return t._offlineComponents}async function eE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(b("FirestoreClient","Using user provided OnlineComponentProvider"),await Zg(t,t._uninitializedComponentsProvider._online)):(b("FirestoreClient","Using default OnlineComponentProvider"),await Zg(t,new lk))),t._onlineComponents}function fk(t){return eE(t).then(e=>e.syncEngine)}async function pk(t){const e=await eE(t),n=e.eventManager;return n.onListen=Qb.bind(null,e.syncEngine),n.onUnlisten=Jb.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Yb.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Zb.bind(null,e.syncEngine),n}function mk(t,e,n={}){const r=new pn;return t.asyncQueue.enqueueAndForget(async()=>function(i,s,a,l,u){const c=new uk({next:h=>{s.enqueueAndForget(()=>zb(i,d)),h.fromCache&&l.source==="server"?u.reject(new O(A.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(h)},error:h=>u.reject(h)}),d=new Hb(a,c,{includeMetadataChanges:!0,ta:!0});return jb(i,d)}(await pk(t),t.asyncQueue,e,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ey=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nE(t,e,n){if(!n)throw new O(A.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gk(t,e,n,r){if(e===!0&&r===!0)throw new O(A.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function ty(t){if(!L.isDocumentKey(t))throw new O(A.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ny(t){if(L.isDocumentKey(t))throw new O(A.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function mp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":z()}function Al(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new O(A.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=mp(t);throw new O(A.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new O(A.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new O(A.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=tE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new O(A.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new O(A.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new O(A.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,o){return r.timeoutSeconds===o.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Au{constructor(e,n,r,o){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=o,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ry({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new O(A.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new O(A.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ry(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new PP;switch(r.type){case"firstParty":return new NP(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new O(A.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=ey.get(n);r&&(b("ComponentProvider","Removing Datastore"),ey.delete(n),r.terminate())}(this),Promise.resolve()}}function yk(t,e,n,r={}){var o;const i=(t=Al(t,Au))._getSettings(),s=`${e}:${n}`;if(i.host!=="firestore.googleapis.com"&&i.host!==s&&Ro("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},i),{host:s,ssl:!1})),r.mockUserToken){let a,l;if(typeof r.mockUserToken=="string")a=r.mockUserToken,l=He.MOCK_USER;else{a=lR(r.mockUserToken,(o=t._app)===null||o===void 0?void 0:o.options.projectId);const u=r.mockUserToken.sub||r.mockUserToken.user_id;if(!u)throw new O(A.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new He(u)}t._authCredentials=new bP(new ew(a,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Ru(this.firestore,e,this._query)}}class Ft{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ft(this.firestore,e,this._key)}}class Gn extends Ru{constructor(e,n,r){super(e,n,dw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ft(this.firestore,null,new L(e))}withConverter(e){return new Gn(this.firestore,e,this._path)}}function vk(t,e,...n){if(t=es(t),nE("collection","path",e),t instanceof Au){const r=de.fromString(e,...n);return ny(r),new Gn(t,null,r)}{if(!(t instanceof Ft||t instanceof Gn))throw new O(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(de.fromString(e,...n));return ny(r),new Gn(t.firestore,null,r)}}function _k(t,e,...n){if(t=es(t),arguments.length===1&&(e=tw.newId()),nE("doc","path",e),t instanceof Au){const r=de.fromString(e,...n);return ty(r),new Ft(t,null,new L(r))}{if(!(t instanceof Ft||t instanceof Gn))throw new O(A.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(de.fromString(e,...n));return ty(r),new Ft(t.firestore,t instanceof Gn?t.converter:null,new L(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wk{constructor(){this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new Lw(this,"async_queue_retry"),this.cu=()=>{const n=wc();n&&b("AsyncQueue","Visibility state changed to "+n.visibilityState),this.jo.Ko()};const e=wc();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.cu)}get isShuttingDown(){return this.iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.lu(),this.hu(e)}enterRestrictedMode(e){if(!this.iu){this.iu=!0,this.au=e||!1;const n=wc();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.cu)}}enqueue(e){if(this.lu(),this.iu)return new Promise(()=>{});const n=new pn;return this.hu(()=>this.iu&&this.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.ru.push(e),this.Pu()))}async Pu(){if(this.ru.length!==0){try{await this.ru[0](),this.ru.shift(),this.jo.reset()}catch(e){if(!Ns(e))throw e;b("AsyncQueue","Operation failed with retryable error: "+e)}this.ru.length>0&&this.jo.qo(()=>this.Pu())}}hu(e){const n=this.nu.then(()=>(this._u=!0,e().catch(r=>{this.ou=r,this._u=!1;const o=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw en("INTERNAL UNHANDLED ERROR: ",o),r}).then(r=>(this._u=!1,r))));return this.nu=n,n}enqueueAfterDelay(e,n,r){this.lu(),this.uu.indexOf(e)>-1&&(n=0);const o=dp.createAndSchedule(this,e,n,r,i=>this.Iu(i));return this.su.push(o),o}lu(){this.ou&&z()}verifyOperationInProgress(){}async Tu(){let e;do e=this.nu,await e;while(e!==this.nu)}Eu(e){for(const n of this.su)if(n.timerId===e)return!0;return!1}du(e){return this.Tu().then(()=>{this.su.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.su)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tu()})}Au(e){this.uu.push(e)}Iu(e){const n=this.su.indexOf(e);this.su.splice(n,1)}}class gp extends Au{constructor(e,n,r,o){super(e,n,r,o),this.type="firestore",this._queue=function(){return new wk}(),this._persistenceKey=(o==null?void 0:o.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||oE(this),this._firestoreClient.terminate()}}function Ek(t,e){const n=typeof t=="object"?t:fx(),r=typeof t=="string"?t:e||"(default)",o=ux(n,"firestore").getImmediate({identifier:r});if(!o._initialized){const i=sR("firestore");i&&yk(o,...i)}return o}function rE(t){return t._firestoreClient||oE(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function oE(t){var e,n,r;const o=t._freezeSettings(),i=function(a,l,u,c){return new qP(a,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,tE(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,o);t._firestoreClient=new ck(t._authCredentials,t._appCheckCredentials,t._queue,i),!((n=o.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=o.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:o.localCache.kind,_offline:o.localCache._offlineComponentProvider,_online:o.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No{constructor(e){this._byteString=e}static fromBase64String(e){try{return new No(Xe.fromBase64String(e))}catch(n){throw new O(A.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new No(Xe.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yp{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new O(A.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Me(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iE{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new O(A.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new O(A.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Z(this._lat,e._lat)||Z(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tk=/^__.*__$/;class Sk{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Lr(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ds(e,this.data,n,this.fieldTransforms)}}function sE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw z()}}class _p{constructor(e,n,r,o,i,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=o,i===void 0&&this.Ru(),this.fieldTransforms=i||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Vu(){return this.settings.Vu}mu(e){return new _p(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}fu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.mu({path:r,gu:!1});return o.pu(e),o}yu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),o=this.mu({path:r,gu:!1});return o.Ru(),o}wu(e){return this.mu({path:void 0,gu:!0})}Su(e){return Rl(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Ru(){if(this.path)for(let e=0;e<this.path.length;e++)this.pu(this.path.get(e))}pu(e){if(e.length===0)throw this.Su("Document fields must not be empty");if(sE(this.Vu)&&Tk.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}class Ck{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Su(e)}Cu(e,n,r,o=!1){return new _p({Vu:e,methodName:n,Du:r,path:Me.emptyPath(),gu:!1,bu:o},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Ik(t){const e=t._freezeSettings(),n=Su(t._databaseId);return new Ck(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Ak(t,e,n,r,o,i={}){const s=t.Cu(i.merge||i.mergeFields?2:0,e,n,o);cE("Data must be an object, but it was:",s,r);const a=lE(r,s);let l,u;if(i.merge)l=new Mt(s.fieldMask),u=s.fieldTransforms;else if(i.mergeFields){const c=[];for(const d of i.mergeFields){const h=Rk(e,d,n);if(!s.contains(h))throw new O(A.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);Pk(c,h)||c.push(h)}l=new Mt(c),u=s.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=s.fieldTransforms;return new Sk(new Ct(a),l,u)}function aE(t,e){if(uE(t=es(t)))return cE("Unsupported field value:",e,t),lE(t,e);if(t instanceof iE)return function(r,o){if(!sE(o.Vu))throw o.Su(`${r._methodName}() can only be used with update() and set()`);if(!o.path)throw o.Su(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(o);i&&o.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.gu&&e.Vu!==4)throw e.Su("Nested arrays are not supported");return function(r,o){const i=[];let s=0;for(const a of r){let l=aE(a,o.wu(s));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),s++}return{arrayValue:{values:i}}}(t,e)}return function(r,o){if((r=es(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return m9(o.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ae.fromDate(r);return{timestampValue:Cl(o.serializer,i)}}if(r instanceof Ae){const i=new Ae(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Cl(o.serializer,i)}}if(r instanceof vp)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof No)return{bytesValue:Pw(o.serializer,r._byteString)};if(r instanceof Ft){const i=o.databaseId,s=r.firestore._databaseId;if(!s.isEqual(i))throw o.Su(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:rp(r.firestore._databaseId||o.databaseId,r._key.path)}}throw o.Su(`Unsupported field value: ${mp(r)}`)}(t,e)}function lE(t,e){const n={};return nw(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Ho(t,(r,o)=>{const i=aE(o,e.fu(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function uE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ae||t instanceof vp||t instanceof No||t instanceof Ft||t instanceof iE)}function cE(t,e,n){if(!uE(n)||!function(o){return typeof o=="object"&&o!==null&&(Object.getPrototypeOf(o)===Object.prototype||Object.getPrototypeOf(o)===null)}(n)){const r=mp(n);throw r==="an object"?e.Su(t+" a custom object"):e.Su(t+" "+r)}}function Rk(t,e,n){if((e=es(e))instanceof yp)return e._internalPath;if(typeof e=="string")return dE(t,e);throw Rl("Field path arguments must be of type string or ",t,!1,void 0,n)}const xk=new RegExp("[~\\*/\\[\\]]");function dE(t,e,n){if(e.search(xk)>=0)throw Rl(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new yp(...e.split("."))._internalPath}catch{throw Rl(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Rl(t,e,n,r,o){const i=r&&!r.isEmpty(),s=o!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||s)&&(l+=" (found",i&&(l+=` in field ${r}`),s&&(l+=` in document ${o}`),l+=")"),new O(A.INVALID_ARGUMENT,a+t+l)}function Pk(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,n,r,o,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=o,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ft(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new bk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(fE("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class bk extends hE{data(){return super.data()}}function fE(t,e){return typeof e=="string"?dE(t,e):e instanceof yp?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new O(A.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class $k{convertValue(e,n="none"){switch(Nr(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ee(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes($r(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw z()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Ho(e,(o,i)=>{r[o]=this.convertValue(i,n)}),r}convertGeoPoint(e){return new vp(Ee(e.latitude),Ee(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Xf(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(hs(e));default:return null}}convertTimestamp(e){const n=Jn(e);return new Ae(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=de.fromString(e);ie(Vw(r));const o=new fs(r.get(1),r.get(3)),i=new L(r.popFirst(5));return o.isEqual(n)||en(`Document ${i} contains a document reference within a different database (${o.projectId}/${o.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nk(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Dk extends hE{constructor(e,n,r,o,i,s){super(e,n,r,o,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new ka(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(fE("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class ka extends Dk{data(e={}){return super.data(e)}}class Vk{constructor(e,n,r,o){this._firestore=e,this._userDataWriter=n,this._snapshot=o,this.metadata=new ma(o.hasPendingWrites,o.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new ka(this._firestore,this._userDataWriter,r.key,r,new ma(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new O(A.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(o,i){if(o._snapshot.oldDocs.isEmpty()){let s=0;return o._snapshot.docChanges.map(a=>{const l=new ka(o._firestore,o._userDataWriter,a.doc.key,a.doc,new ma(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:s++}})}{let s=o._snapshot.oldDocs;return o._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new ka(o._firestore,o._userDataWriter,a.doc.key,a.doc,new ma(o._snapshot.mutatedKeys.has(a.doc.key),o._snapshot.fromCache),o.query.converter);let u=-1,c=-1;return a.type!==0&&(u=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),c=s.indexOf(a.doc.key)),{type:Mk(a.type),doc:l,oldIndex:u,newIndex:c}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Mk(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return z()}}class Ok extends $k{constructor(e){super(),this.firestore=e}convertBytes(e){return new No(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Ft(this.firestore,null,n)}}function Lk(t){t=Al(t,Ru);const e=Al(t.firestore,gp),n=rE(e),r=new Ok(e);return kk(t._query),mk(n,t._query).then(o=>new Vk(e,r,t,o))}function Fk(t,e){const n=Al(t.firestore,gp),r=_k(t),o=Nk(t.converter,e);return jk(n,[Ak(Ik(t.firestore),"addDoc",r._key,o,t.converter!==null,{}).toMutation(r._key,mn.exists(!1))]).then(()=>r)}function jk(t,e){return function(r,o){const i=new pn;return r.asyncQueue.enqueueAndForget(async()=>ek(await fk(r),o,i)),i.promise}(rE(t),e)}(function(e,n=!0){(function(o){Bo=o})(hx),hl(new ts("firestore",(r,{instanceIdentifier:o,options:i})=>{const s=r.getProvider("app").getImmediate(),a=new gp(new kP(r.getProvider("auth-internal")),new VP(r.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new O(A.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fs(u.options.projectId,c)}(s,o),s);return i=Object.assign({useFetchStreams:n},i),a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),ho(Sg,"4.5.0",e),ho(Sg,"4.5.0","esm2017")})();var zk="firebase",Uk="10.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ho(zk,Uk,"app");const Bk={apiKey:"AIzaSyB3lD_qe3A5_9ncQ5ypkOo-Fklx2u8ot5Q",authDomain:"taskly-89c42.firebaseapp.com",projectId:"taskly-89c42",storageBucket:"taskly-89c42.appspot.com",messagingSenderId:"652915399360",appId:"1:652915399360:web:c53e2b8e25ec6ff5ae2b25",measurementId:"G-JLB3NKMBK9"},Hk=K0(Bk),Wk=Ek(Hk),ki=class ki{static async getTasks(){return(await Lk(this.taskCollection)).docs.map(n=>({...n.data(),id:n.id}))}static async createTask(e){const n=await Fk(this.taskCollection,e);console.log("Document written with ID: ",n.id)}};qo(ki,"TASKS_COLLECTION_NAME","tasks"),qo(ki,"taskCollection",vk(Wk,ki.TASKS_COLLECTION_NAME));let sh=ki;const Gk={listLoading:!1,taskList:[],error:""},$a=ZI("taskList/fetchAllTasks",async()=>await sh.getTasks()),qk=A0({name:"taskList",initialState:Gk,reducers:{},extraReducers:t=>{t.addCase($a.pending,e=>{e.listLoading=!0}),t.addCase($a.rejected,e=>{e.listLoading=!1,e.error="Failed to fetch task list"}),t.addCase($a.fulfilled,(e,n)=>{e.listLoading=!1,e.taskList=n.payload})}}),Kk=qk.reducer,oy=t=>t.map(e=>({...e,createdDate:new Date(e.createdDate),updatedDate:new Date(e.updatedDate),dueDate:new Date(e.dueDate),reminder:e.reminder?new Date(e.reminder):null,completedDate:e.completedDate?new Date(e.completedDate):null})),iy=t=>{const e={};return t.forEach(n=>{const r=n.category||"Uncategorised";e[r]||(e[r]=[]),e[r].push(n)}),e},Qk=()=>{const t=u0(),e=Td(a=>a.taskListChangeSelector.listMode),{taskList:n,listLoading:r}=Td(a=>a.taskList);v.useEffect(()=>{t($a())},[t]);const o=v.useMemo(()=>{if(n.length>0){const a=iy(oy(n));return Object.keys(a)}return[]},[n]),i=()=>{const a=iy(oy(n));return Object.keys(a).map(l=>x.jsxs(_f,{value:l,children:[x.jsx(wf,{className:"capitalize",children:l}),x.jsx(Ef,{children:x.jsx("div",{className:s,children:a[l].map(u=>x.jsx(YA,{data:u},u.id))})})]},l))},s=Yi({"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 2xl:grid-cols-4 gap-2":e==="grid","flex flex-col gap-2":e==="list"});return x.jsx(x.Fragment,{children:r?x.jsx("div",{children:x.jsx(WT,{className:"h-10 w-10 animate-spin mx-auto"})}):x.jsx(F0,{type:"multiple",defaultValue:o,children:i()})})},Yk=()=>x.jsx("main",{className:"flex-1",children:x.jsxs("div",{className:"container flex-1 items-start md:grid md:grid-cols-[220px_minmax(0,1fr)] md:gap-6 lg:grid-cols-[240px_minmax(0,1fr)] lg:gap-10",children:[x.jsx(sC,{}),x.jsxs("main",{className:"relative py-6 flex flex-col gap-4",children:[x.jsxs("div",{className:"flex justify-between gap-4",children:[x.jsx(x0,{placeholder:"Search for a task"}),x.jsx(_A,{})]}),x.jsx(Qk,{})]})]})});function Xk(){return x.jsxs(x.Fragment,{children:[x.jsx(VS,{}),x.jsx(Yk,{})]})}const Jk=WI({reducer:{taskListChangeSelector:vA,taskList:Kk}});Sc.createRoot(document.getElementById("root")).render(x.jsx(N.StrictMode,{children:x.jsx($S,{children:x.jsx(oI,{store:Jk,children:x.jsx(Xk,{})})})}));
